const __vite__fileDeps=["./completion-BsmOkiXP.js","./keyword_help-waI29P34.js","./style-CUWPOWpZ.css","./hover-DgkuMdKq.js","./core-Ru_UVvaa.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
/* empty css              */for(function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();null===window.editorVariables;){try{window.editorVariables=await fetch("http://localhost:8080/resolveCustomEditor").then((e=>e.json()));break}catch(HE){console.error(HE)}console.log("Retrying..."),await new Promise((e=>setTimeout(e,100)))}var e=Symbol.for("immer-nothing"),t=Symbol.for("immer-draftable"),n=Symbol.for("immer-state");function r(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var o=Object.getPrototypeOf;function i(e){return!!e&&!!e[n]}function l(e){return!!e&&(s(e)||Array.isArray(e)||!!e[t]||!!e.constructor?.[t]||f(e)||h(e))}var a=Object.prototype.constructor.toString();function s(e){if(!e||"object"!=typeof e)return!1;const t=o(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===a}function c(e,t){0===$(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function $(e){const t=e[n];return t?t.type_:Array.isArray(e)?1:f(e)?2:h(e)?3:0}function u(e,t){return 2===$(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d(e,t,n){const r=$(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function f(e){return e instanceof Map}function h(e){return e instanceof Set}function p(e){return e.copy_||e.base_}function m(e,t){if(f(e))return new Map(e);if(h(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&s(e)){if(!o(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const r=Object.getOwnPropertyDescriptors(e);delete r[n];let i=Reflect.ownKeys(r);for(let n=0;n<i.length;n++){const t=i[n],o=r[t];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[t]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[t]})}return Object.create(o(e),r)}function b(e,t=!1){return v(e)||i(e)||!l(e)||($(e)>1&&(e.set=e.add=e.clear=e.delete=w),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>b(t,!0)))),e}function w(){r(2)}function v(e){return Object.isFrozen(e)}var g,y={};function x(e){const t=y[e];return t||r(0),t}function E(){return g}function C(e,t){t&&(x("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function T(e){_(e),e.drafts_.forEach(S),e.drafts_=null}function _(e){e===g&&(g=e.parent_)}function k(e){return g={drafts_:[],parent_:g,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function S(e){const t=e[n];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function I(t,o){o.unfinalizedDrafts_=o.drafts_.length;const i=o.drafts_[0];return void 0!==t&&t!==i?(i[n].modified_&&(T(o),r(4)),l(t)&&(t=M(o,t),o.parent_||N(o,t)),o.patches_&&x("Patches").generateReplacementPatches_(i[n].base_,t,o.patches_,o.inversePatches_)):t=M(o,i,[]),T(o),o.patches_&&o.patchListener_(o.patches_,o.inversePatches_),t!==e?t:void 0}function M(e,t,r){if(v(t))return t;const o=t[n];if(!o)return c(t,((n,i)=>R(e,o,t,n,i,r))),t;if(o.scope_!==e)return t;if(!o.modified_)return N(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const t=o.copy_;let n=t,i=!1;3===o.type_&&(n=new Set(t),t.clear(),i=!0),c(n,((n,l)=>R(e,o,t,n,l,r,i))),N(e,t,!1),r&&e.patches_&&x("Patches").generatePatches_(o,r,e.patches_,e.inversePatches_)}return o.copy_}function R(e,t,n,r,o,a,s){if(i(o)){const l=M(e,o,a&&t&&3!==t.type_&&!u(t.assigned_,r)?a.concat(r):void 0);if(d(n,r,l),!i(l))return;e.canAutoFreeze_=!1}else s&&n.add(o);if(l(o)&&!v(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;M(e,o),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||N(e,o)}}function N(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&b(t,n)}var L={get(e,t){if(t===n)return e;const r=p(e);if(!u(r,t))return function(e,t,n){const r=D(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,r,t);const o=r[t];return e.finalized_||!l(o)?o:o===A(e.base_,t)?(U(e),e.copy_[t]=B(o,e)):o},has:(e,t)=>t in p(e),ownKeys:e=>Reflect.ownKeys(p(e)),set(e,t,r){const o=D(p(e),t);if(o?.set)return o.set.call(e.draft_,r),!0;if(!e.modified_){const o=A(p(e),t),i=o?.[n];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,o)&&(void 0!==r||u(e.base_,t)))return!0;U(e),F(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==A(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,U(e),F(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){r(11)},getPrototypeOf:e=>o(e.base_),setPrototypeOf(){r(12)}},O={};function A(e,t){const r=e[n];return(r?p(r):e)[t]}function D(e,t){if(!(t in e))return;let n=o(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=o(n)}}function F(e){e.modified_||(e.modified_=!0,e.parent_&&F(e.parent_))}function U(e){e.copy_||(e.copy_=m(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function B(e,t){const n=f(e)?x("MapSet").proxyMap_(e,t):h(e)?x("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:E(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=L;n&&(o=[r],i=O);const{revoke:l,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=l,a}(e,t);return(t?t.scope_:E()).drafts_.push(n),n}function z(e){if(!l(e)||v(e))return e;const t=e[n];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=m(e,t.scope_.immer_.useStrictShallowCopy_)}else r=m(e,!0);return c(r,((e,t)=>{d(r,e,z(t))})),t&&(t.finalized_=!1),r}c(L,((e,t)=>{O[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),O.deleteProperty=function(e,t){return O.set.call(this,e,t,void 0)},O.set=function(e,t,n){return L.set.call(this,e[0],t,n,e[0])};var P=new class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,o)=>{if("function"==typeof t&&"function"!=typeof n){const e=n;n=t;const r=this;return function(t=e,...o){return r.produce(t,(e=>n.call(this,e,...o)))}}let i;if("function"!=typeof n&&r(6),void 0!==o&&"function"!=typeof o&&r(7),l(t)){const e=k(this),r=B(t,void 0);let l=!0;try{i=n(r),l=!1}finally{l?T(e):_(e)}return C(e,o),I(i,e)}if(!t||"object"!=typeof t){if(i=n(t),void 0===i&&(i=t),i===e&&(i=void 0),this.autoFreeze_&&b(i,!0),o){const e=[],n=[];x("Patches").generateReplacementPatches_(t,i,e,n),o(e,n)}return i}r(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;const o=this.produce(e,t,((e,t)=>{n=e,r=t}));return[o,n,r]},"boolean"==typeof t?.autoFreeze&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof t?.useStrictShallowCopy&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(e){var t;l(e)||r(8),i(e)&&(i(t=e)||r(10),e=z(t));const o=k(this),a=B(e,void 0);return a[n].isManual_=!0,_(o),a}finishDraft(e,t){const o=e&&e[n];o&&o.isManual_||r(9);const{scope_:i}=o;return C(i,t),I(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=x("Patches").applyPatches_;return i(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},H=P.produce;let V,j,G,q;P.produceWithPatches.bind(P),P.setAutoFreeze.bind(P),P.setUseStrictShallowCopy.bind(P),P.applyPatches.bind(P),P.createDraft.bind(P),P.finishDraft.bind(P);const W=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},K=e=>(W.lastIndex=0,W.test(e)?`"${e.replace(W,(e=>Q[e]??`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`))}"`:`"${e}"`),Y=(e,t,n)=>{const r=V;let o=t[e];switch(o&&"object"==typeof o&&"toJSON"in o&&"function"==typeof o.toJSON&&(o=o.toJSON(String(e))),"function"==typeof G&&(o=G.call(t,String(e),o)),typeof o){case"string":return K(o);case"number":return isFinite(o)?String(o):"null";case"boolean":return String(o);case"bigint":return q?String(o)+"n":String(o);case"object":if(null===o)return"null";if(o instanceof String)return K(String(o));if(o instanceof Number)return isFinite(Number(o))?String(Number(o)):"null";if(o instanceof Boolean)return String(o);if(n.has(o))throw new TypeError("circular reference");const e=new Set([...n,o]);if(V+=j,Array.isArray(o)){const t=[];for(let r=0;r<o.length;r++)t.push(Y(r,o,e)??"null");let n;return n=0===t.length?"[]":V?`[\n${V}${t.join(`,\n${V}`)}\n${r}]`:`[${t.join(",")}]`,V=r,n}const t=[];if(Array.isArray(G)){for(const n of G)if("string"==typeof n||"number"==typeof n||n instanceof String||n instanceof Number){const r=String(n instanceof Number?String(Number(n)):n),i=Y(r,o,e);i&&t.push(K(r)+(V?": ":":")+i)}}else for(const n of Object.keys(o)){const r=Y(n,o,e);r&&t.push(K(n)+(V?": ":":")+r)}let i;return i=0===t.length?"{}":V?`{\n${V}${t.join(`,\n${V}`)}\n${r}}`:`{${t.join(",")}}`,V=r,i;case"function":case"symbol":case"undefined":return}},J=(e,t,n,r)=>(q=e,V="",j="number"==typeof r?" ".repeat(Math.min(r,10)):"string"==typeof r?r.slice(0,10):"",G=n,Y("",{"":t},new Set)),X=J.bind(null,!1),Z=J.bind(null,!0),ee=e=>e instanceof Error?e.message:e instanceof Event?`${e.constructor.name} (type=${e.type})`:String(e),te=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","ALWAYS","ANALYZE","AND","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRED","DEFERRABLE","DELETE","DESC","DETACH","DISTINCT","DO","DROP","END","EACH","ELSE","ESCAPE","EXCEPT","EXCLUSIVE","EXCLUDE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","GROUPS","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT"],ne=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),re=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),oe=(e,t)=>void 0===t.$||e.length<=t.$?t.C(e)+(t.k??""):t.C(e.slice(0,t.$))+"…",ie=e=>/;\s*$/.test(e)?e:e+";",le=(e,t)=>{const n=[];n.push(ie(e));for(const r of t)n.push(ie(r.sql));return n.join("\n")};let ae=0;const se=()=>{const e=`sqlite3_editor_trash_${Date.now()+""}_${ae++}`;return{S:e,I:ye(e),M:`temp.${ye(e)}`}};function ce(e,t,n,r){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,ce.prototype),o.expected=t,o.found=n,o.location=r,o.name="SyntaxError",o}function $e(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}function ue(e,t){var n,r,o,i,l={},a=(t=void 0!==t?t:{}).grammarSource,s={CreateTableStatement:qa,CreateViewStatement:function(){var t,n,r,o,i,a,s,c,u,d,f,h,b;for(t=Oa,n=Oa,r=Oa,o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();if((a=e.substr(Oa,6)).toLowerCase()===$?Oa+=6:(a=l,0===Ba&&Ga(ln)),a!==l)if((s=js())!==l){for(c=[],u=qs();u!==l;)c.push(u),u=qs();o=i=[i,a,s,c]}else Oa=o,o=l;else Oa=o,o=l;if((r=o!==l?e.substring(r,Oa):o)!==l){if((o=xs())===l&&(o=null),i=Oa,a=Oa,(s=e.substr(Oa,4)).toLowerCase()===p?Oa+=4:(s=l,0===Ba&&Ga(dn)),s!==l)if((c=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();a=s=[s,c,u]}else Oa=a,a=l;else Oa=a,a=l;(i=a!==l?e.substring(i,Oa):a)!==l?(Aa=n,n=ii(r,o,i)):(Oa=n,n=l)}else Oa=n,n=l;if(n!==l)if((r=Wa())===l&&(r=null),(o=cs())===l&&(o=null),(i=As())!==l){for(a=Oa,s=Oa,c=Oa,u=[],d=qs();d!==l;)u.push(d),d=qs();if(c=e.substring(c,Oa),(u=e.substr(Oa,2)).toLowerCase()===m?Oa+=2:(u=l,0===Ba&&Ga(fn)),u!==l)if((d=js())!==l){for(f=Oa,h=[],b=qs();b!==l;)h.push(b),b=qs();s=c=[c,u,d,f=e.substring(f,Oa)]}else Oa=s,s=l;else Oa=s,s=l;if((a=s!==l?e.substring(a,Oa):s)!==l){for(s=Oa,c=[],e.length>Oa?(u=e.charAt(Oa),Oa++):(u=l,0===Ba&&Ga(un));u!==l;)c.push(u),e.length>Oa?(u=e.charAt(Oa),Oa++):(u=l,0===Ba&&Ga(un));s=e.substring(s,Oa),Aa=t,t=li(n,r,o,i,a,s)}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;return t},CreateIndexStatement:function(){var t,n,r,o,i,a,s,c,u,p,m,g,y,x,E,C,T,_,k,S,I;for(t=Oa,n=Oa,r=Oa,o=[],i=qs();i!==l;)o.push(i),i=qs();if((i=e.substr(Oa,6)).toLowerCase()===$?Oa+=6:(i=l,0===Ba&&Ga(ln)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();if(c=Oa,(u=e.substr(Oa,6)).toLowerCase()===b?Oa+=6:(u=l,0===Ba&&Ga(hn)),u!==l)if((p=js())!==l){for(m=[],g=qs();g!==l;)m.push(g),g=qs();c=u=[u,p,m]}else Oa=c,c=l;else Oa=c,c=l;if(c===l&&(c=null),(u=e.substr(Oa,5)).toLowerCase()===w?Oa+=5:(u=l,0===Ba&&Ga(pn)),u!==l)if((p=js())!==l){for(m=[],g=qs();g!==l;)m.push(g),g=qs();r=o=[o,i,a,s,c,u,p,m]}else Oa=r,r=l;else Oa=r,r=l}else Oa=r,r=l;else Oa=r,r=l;if((n=r!==l?e.substring(n,Oa):r)!==l)if((r=Wa())===l&&(r=null),(o=cs())===l&&(o=null),(i=As())!==l){for(a=Oa,s=[],c=qs();c!==l;)s.push(c),c=qs();if(a=e.substring(a,Oa),(s=e.substr(Oa,2)).toLowerCase()===v?Oa+=2:(s=l,0===Ba&&Ga(mn)),s!==l)if((c=js())!==l){for(u=Oa,p=[],m=qs();m!==l;)p.push(m),m=qs();if(u=e.substring(u,Oa),(p=As())!==l){for(m=Oa,g=[],y=qs();y!==l;)g.push(y),y=qs();if(m=e.substring(m,Oa),40===e.charCodeAt(Oa)?(g=d,Oa++):(g=l,0===Ba&&Ga(sn)),g!==l){for(y=Oa,x=[],E=Oa,C=Oa,T=[],_=qs();_!==l;)T.push(_),_=qs();if(C=e.substring(C,Oa),(T=As())!==l){for(_=Oa,k=[],S=qs();S!==l;)k.push(S),S=qs();_=e.substring(_,Oa),Aa=E,E=ai(n,r,o,i,a,s,u,p,m,C,T,_)}else Oa=E,E=l;for(;E!==l;)if(x.push(E),E=Oa,44===e.charCodeAt(Oa)?(C=f,Oa++):(C=l,0===Ba&&Ga(cn)),C!==l){for(C=Oa,T=Oa,_=[],k=qs();k!==l;)_.push(k),k=qs();if(T=e.substring(T,Oa),(_=As())!==l){for(k=Oa,S=[],I=qs();I!==l;)S.push(I),I=qs();k=e.substring(k,Oa),Aa=C,C=ai(n,r,o,i,a,s,u,p,m,T,_,k)}else Oa=C,C=l;C===l?(Oa=E,E=l):E=C}else E=C;if(x.length<1?(Oa=y,y=l):y=x,y!==l)if(41===e.charCodeAt(Oa)?(x=h,Oa++):(x=l,0===Ba&&Ga($n)),x!==l){for(E=Oa,C=[],e.length>Oa?(T=e.charAt(Oa),Oa++):(T=l,0===Ba&&Ga(un));T!==l;)C.push(T),e.length>Oa?(T=e.charAt(Oa),Oa++):(T=l,0===Ba&&Ga(un));E=e.substring(E,Oa),Aa=t,t=si(n,r,o,i,a,s,u,p,m,y,E)}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;return t},CreateTriggerStatement:function(){var t,n,r,o,i,a,s,c,u,d,h,p,m,b,w,S,I,M,R,N,L,O,A,D,F;for(t=Oa,n=Oa,r=Oa,o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();if((a=e.substr(Oa,6)).toLowerCase()===$?Oa+=6:(a=l,0===Ba&&Ga(ln)),a!==l)if((s=js())!==l){for(c=[],u=qs();u!==l;)c.push(u),u=qs();o=i=[i,a,s,c]}else Oa=o,o=l;else Oa=o,o=l;if((r=o!==l?e.substring(r,Oa):o)!==l){if((o=xs())===l&&(o=null),i=Oa,a=Oa,(s=e.substr(Oa,7)).toLowerCase()===g?Oa+=7:(s=l,0===Ba&&Ga(bn)),s!==l)if((c=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();a=s=[s,c,u]}else Oa=a,a=l;else Oa=a,a=l;(i=a!==l?e.substring(i,Oa):a)!==l?(Aa=n,n=ci(r,o,i)):(Oa=n,n=l)}else Oa=n,n=l;if(n!==l)if((r=Wa())===l&&(r=null),(o=cs())===l&&(o=null),(i=As())!==l){for(a=Oa,s=[],c=qs();c!==l;)s.push(c),c=qs();if(a=e.substring(a,Oa),s=Oa,(c=e.substr(Oa,6)).toLowerCase()===y?Oa+=6:(c=l,0===Ba&&Ga(wn)),c!==l&&(u=js())!==l?(Aa=s,s=$i()):(Oa=s,s=l),s===l&&(s=Oa,(c=e.substr(Oa,5)).toLowerCase()===x?Oa+=5:(c=l,0===Ba&&Ga(vn)),c!==l&&(u=js())!==l?(Aa=s,s=ui()):(Oa=s,s=l),s===l))if(s=Oa,(c=e.substr(Oa,7)).toLowerCase()===E?Oa+=7:(c=l,0===Ba&&Ga(gn)),c!==l)if((u=js())!==l){for(d=[],h=qs();h!==l;)d.push(h),h=qs();(h=e.substr(Oa,2)).toLowerCase()===C?Oa+=2:(h=l,0===Ba&&Ga(yn)),h!==l&&(p=js())!==l?(Aa=s,s=di()):(Oa=s,s=l)}else Oa=s,s=l;else Oa=s,s=l;for(s===l&&(s=null),c=Oa,u=[],d=qs();d!==l;)u.push(d),d=qs();if(c=e.substring(c,Oa),u=Oa,(d=e.substr(Oa,6)).toLowerCase()===T?Oa+=6:(d=l,0===Ba&&Ga(xn)),d!==l)if((h=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();Aa=u,u=fi()}else Oa=u,u=l;else Oa=u,u=l;if(u===l){if(u=Oa,(d=e.substr(Oa,6)).toLowerCase()===_?Oa+=6:(d=l,0===Ba&&Ga(En)),d!==l)if((h=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();Aa=u,u=hi()}else Oa=u,u=l;else Oa=u,u=l;if(u===l)if(u=Oa,(d=e.substr(Oa,6)).toLowerCase()===k?Oa+=6:(d=l,0===Ba&&Ga(Cn)),d!==l)if((h=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();if(m=Oa,(b=e.substr(Oa,2)).toLowerCase()===C?Oa+=2:(b=l,0===Ba&&Ga(yn)),b!==l)if((w=js())!==l){for(S=Oa,I=[],M=qs();M!==l;)I.push(M),M=qs();for(S=e.substring(S,Oa),I=Oa,M=[],R=Oa,N=Oa,L=[],O=qs();O!==l;)L.push(O),O=qs();if(N=e.substring(N,Oa),(L=As())!==l){for(O=Oa,A=[],D=qs();D!==l;)A.push(D),D=qs();O=e.substring(O,Oa),Aa=R,R=pi(n,r,o,i,a,s,c,b,S,N,L,O)}else Oa=R,R=l;for(;R!==l;)if(M.push(R),R=Oa,44===e.charCodeAt(Oa)?(N=f,Oa++):(N=l,0===Ba&&Ga(cn)),N!==l){for(N=Oa,L=Oa,O=[],A=qs();A!==l;)O.push(A),A=qs();if(L=e.substring(L,Oa),(O=As())!==l){for(A=Oa,D=[],F=qs();F!==l;)D.push(F),F=qs();A=e.substring(A,Oa),Aa=N,N=pi(n,r,o,i,a,s,c,b,S,L,O,A)}else Oa=N,N=l;N===l?(Oa=R,R=l):R=N}else R=N;M.length<1?(Oa=I,I=l):I=M,I!==l?(Aa=m,m=mi(n,r,o,i,a,s,c,b,S,I)):(Oa=m,m=l)}else Oa=m,m=l;else Oa=m,m=l;m===l&&(m=null),Aa=u,u=bi(n,r,o,i,a,s,c,m)}else Oa=u,u=l;else Oa=u,u=l}if(u!==l)if((d=e.substr(Oa,2)).toLowerCase()===v?Oa+=2:(d=l,0===Ba&&Ga(mn)),d!==l)if((h=js())!==l){for(p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();if(p=e.substring(p,Oa),(m=As())!==l){for(b=Oa,w=[],e.length>Oa?(S=e.charAt(Oa),Oa++):(S=l,0===Ba&&Ga(un));S!==l;)w.push(S),e.length>Oa?(S=e.charAt(Oa),Oa++):(S=l,0===Ba&&Ga(un));b=e.substring(b,Oa),Aa=t,t=wi(n,r,o,i,a,s,c,u,d,p,m,b)}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;return t},ExtractFTS5ContentOptionValue:function(){var t,n,r,o,i,a,s,c,$,u,d,f,h,p,m,b,w,v,g;for(t=Oa,n=[],(r=Ps())===l&&(r=Gs())===l&&(r=Oa,o=Oa,Ba++,i=Oa,(a=e.substr(Oa,5)).toLowerCase()===S?Oa+=5:(a=l,0===Ba&&Ga(Tn)),a!==l&&(s=js())!==l?i=a=[a,s]:(Oa=i,i=l),Ba--,i===l?o=void 0:(Oa=o,o=l),o!==l?((i=Ka())===l&&(e.length>Oa?(i=e.charAt(Oa),Oa++):(i=l,0===Ba&&Ga(un))),i!==l?r=o=[o,i]:(Oa=r,r=l)):(Oa=r,r=l));r!==l;)n.push(r),(r=Ps())===l&&(r=Gs())===l&&(r=Oa,o=Oa,Ba++,i=Oa,(a=e.substr(Oa,5)).toLowerCase()===S?Oa+=5:(a=l,0===Ba&&Ga(Tn)),a!==l&&(s=js())!==l?i=a=[a,s]:(Oa=i,i=l),Ba--,i===l?o=void 0:(Oa=o,o=l),o!==l?((i=Ka())===l&&(e.length>Oa?(i=e.charAt(Oa),Oa++):(i=l,0===Ba&&Ga(un))),i!==l?r=o=[o,i]:(Oa=r,r=l)):(Oa=r,r=l));if((r=e.substr(Oa,5)).toLowerCase()===S?Oa+=5:(r=l,0===Ba&&Ga(Tn)),r!==l)if((o=js())!==l){if(i=[],(a=qs())!==l)for(;a!==l;)i.push(a),a=qs();else i=l;if(i!==l)if((a=e.substr(Oa,3)).toLowerCase()===I?Oa+=3:(a=l,0===Ba&&Ga(_n)),a!==l){if(s=[],(c=Rs())!==l)for(;c!==l;)s.push(c),c=Rs();else s=l;if(s!==l)if((c=js())!==l){if($=[],(u=Ps())===l&&(u=Gs())===l){if(u=Oa,d=Oa,Ba++,f=Oa,(h=e.substr(Oa,7)).toLowerCase()===M?Oa+=7:(h=l,0===Ba&&Ga(kn)),h!==l)if((p=js())!==l){for(m=[],b=qs();b!==l;)m.push(b),b=qs();61===e.charCodeAt(Oa)?(b=R,Oa++):(b=l,0===Ba&&Ga(Sn)),b!==l?f=h=[h,p,m,b]:(Oa=f,f=l)}else Oa=f,f=l;else Oa=f,f=l;Ba--,f===l?d=void 0:(Oa=d,d=l),d!==l?((f=Ka())===l&&(e.length>Oa?(f=e.charAt(Oa),Oa++):(f=l,0===Ba&&Ga(un))),f!==l?u=d=[d,f]:(Oa=u,u=l)):(Oa=u,u=l)}if(u!==l){for(;u!==l;)if($.push(u),(u=Ps())===l&&(u=Gs())===l){if(u=Oa,d=Oa,Ba++,f=Oa,(h=e.substr(Oa,7)).toLowerCase()===M?Oa+=7:(h=l,0===Ba&&Ga(kn)),h!==l)if((p=js())!==l){for(m=[],b=qs();b!==l;)m.push(b),b=qs();61===e.charCodeAt(Oa)?(b=R,Oa++):(b=l,0===Ba&&Ga(Sn)),b!==l?f=h=[h,p,m,b]:(Oa=f,f=l)}else Oa=f,f=l;else Oa=f,f=l;Ba--,f===l?d=void 0:(Oa=d,d=l),d!==l?((f=Ka())===l&&(e.length>Oa?(f=e.charAt(Oa),Oa++):(f=l,0===Ba&&Ga(un))),f!==l?u=d=[d,f]:(Oa=u,u=l)):(Oa=u,u=l)}}else $=l;if($!==l)if((u=e.substr(Oa,7)).toLowerCase()===M?Oa+=7:(u=l,0===Ba&&Ga(kn)),u!==l)if((d=js())!==l){for(f=[],h=qs();h!==l;)f.push(h),h=qs();if(61===e.charCodeAt(Oa)?(h=R,Oa++):(h=l,0===Ba&&Ga(Sn)),h!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();if((m=Os())!==l){for(b=[],w=qs();w!==l;)b.push(w),w=qs();if(w=e.charAt(Oa),Bt.test(w)?Oa++:(w=l,0===Ba&&Ga(In)),w!==l){for(v=[],e.length>Oa?(g=e.charAt(Oa),Oa++):(g=l,0===Ba&&Ga(un));g!==l;)v.push(g),e.length>Oa?(g=e.charAt(Oa),Oa++):(g=l,0===Ba&&Ga(un));Aa=t,t=vi(m)}else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;return t},IfNotExists:Wa,FindAllCTENames:function(){var t,n,r,o,i,a,s,c,$,u,f,p;if(t=Oa,n=[],r=Oa,(o=Os())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();if(a=Oa,40===e.charCodeAt(Oa)?(s=d,Oa++):(s=l,0===Ba&&Ga(sn)),s!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();if($=zs(),41===e.charCodeAt(Oa)?(u=h,Oa++):(u=l,0===Ba&&Ga($n)),u!==l){for(f=[],p=qs();p!==l;)f.push(p),p=qs();a=s=[s,c,$,u,f]}else Oa=a,a=l}else Oa=a,a=l;if(a===l&&(a=null),(s=e.substr(Oa,2)).toLowerCase()===m?Oa+=2:(s=l,0===Ba&&Ga(fn)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();40===e.charCodeAt(Oa)?(u=d,Oa++):(u=l,0===Ba&&Ga(sn)),u!==l?(Aa=r,r=gi(o)):(Oa=r,r=l)}else Oa=r,r=l;else Oa=r,r=l}else Oa=r,r=l;if(r===l&&(r=Oa,(o=Ps())!==l&&(Aa=r,o=yi()),(r=o)===l&&(r=Oa,(o=Gs())!==l&&(Aa=r,o=xi()),(r=o)===l))){if(r=Oa,o=[],i=e.charAt(Oa),zt.test(i)?Oa++:(i=l,0===Ba&&Ga(Ln)),i!==l)for(;i!==l;)o.push(i),i=e.charAt(Oa),zt.test(i)?Oa++:(i=l,0===Ba&&Ga(Ln));else o=l;o!==l&&(Aa=r,o=Ei()),(r=o)===l&&(r=Oa,e.length>Oa?(o=e.charAt(Oa),Oa++):(o=l,0===Ba&&Ga(un)),o!==l&&(Aa=r,o=Ci()),r=o)}for(;r!==l;){if(n.push(r),r=Oa,(o=Os())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();if(a=Oa,40===e.charCodeAt(Oa)?(s=d,Oa++):(s=l,0===Ba&&Ga(sn)),s!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();if($=zs(),41===e.charCodeAt(Oa)?(u=h,Oa++):(u=l,0===Ba&&Ga($n)),u!==l){for(f=[],p=qs();p!==l;)f.push(p),p=qs();a=s=[s,c,$,u,f]}else Oa=a,a=l}else Oa=a,a=l;if(a===l&&(a=null),(s=e.substr(Oa,2)).toLowerCase()===m?Oa+=2:(s=l,0===Ba&&Ga(fn)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();40===e.charCodeAt(Oa)?(u=d,Oa++):(u=l,0===Ba&&Ga(sn)),u!==l?(Aa=r,r=gi(o)):(Oa=r,r=l)}else Oa=r,r=l;else Oa=r,r=l}else Oa=r,r=l;if(r===l&&(r=Oa,(o=Ps())!==l&&(Aa=r,o=yi()),(r=o)===l&&(r=Oa,(o=Gs())!==l&&(Aa=r,o=xi()),(r=o)===l))){if(r=Oa,o=[],i=e.charAt(Oa),zt.test(i)?Oa++:(i=l,0===Ba&&Ga(Ln)),i!==l)for(;i!==l;)o.push(i),i=e.charAt(Oa),zt.test(i)?Oa++:(i=l,0===Ba&&Ga(Ln));else o=l;o!==l&&(Aa=r,o=Ei()),(r=o)===l&&(r=Oa,e.length>Oa?(o=e.charAt(Oa),Oa++):(o=l,0===Ba&&Ga(un)),o!==l&&(Aa=r,o=Ci()),r=o)}}return Aa=t,Ti(n)},FindAllFROMKeywords:function(){var t,n,r,o,i;for(t=Oa,Qa(),n=[],r=Oa,o=Oa,(i=e.substr(Oa,4)).toLowerCase()===A?Oa+=4:(i=l,0===Ba&&Ga(On)),i!==l&&js()!==l?(Aa=o,o=_i()):(Oa=o,o=l),o!==l?(i=Qa(),r=o):(Oa=r,r=l);r!==l;)n.push(r),r=Oa,o=Oa,(i=e.substr(Oa,4)).toLowerCase()===A?Oa+=4:(i=l,0===Ba&&Ga(On)),i!==l&&js()!==l?(Aa=o,o=_i()):(Oa=o,o=l),o!==l?(i=Qa(),r=o):(Oa=r,r=l);return Aa=t,ki(n)},ReadUntilNextFROMKeyword:Qa,ReadUntilKeywordBoundary:Ka,ExtractTableNames_FROM_Partial:function(){var t,n,r,o,i;if(t=Oa,(n=Ya())!==l){for(r=Oa,o=[],e.length>Oa?(i=e.charAt(Oa),Oa++):(i=l,0===Ba&&Ga(un));i!==l;)o.push(i),e.length>Oa?(i=e.charAt(Oa),Oa++):(i=l,0===Ba&&Ga(un));r=e.substring(r,Oa),t=n}else Oa=t,t=l;return t},ExtractTableNames_FROM:Ya,ExtractTableNames_TableOrSubquery:Ja,ExtractTableNames_JoinClause:Xa,ExtractTableNames_JoinConstraint:Za,SelectCore:function(){var t,n,r,o,i,a,s,c,$,u,d,h,p,b,w,v,g,y,x,E,C,T,_;for(t=Oa,n=Oa,r=Oa,o=[],i=qs();i!==l;)o.push(i),i=qs();if((i=e.substr(Oa,6)).toLowerCase()===U?Oa+=6:(i=l,0===Ba&&Ga(Un)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();r=o=[o,i,a,s]}else Oa=r,r=l;else Oa=r,r=l;if((n=r!==l?e.substring(n,Oa):r)!==l){if(r=Oa,(o=e.substr(Oa,8)).toLowerCase()===B?Oa+=8:(o=l,0===Ba&&Ga(Bn)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();Aa=r,r=Ai()}else Oa=r,r=l;else Oa=r,r=l;if(r===l)if(r=Oa,(o=e.substr(Oa,3)).toLowerCase()===z?Oa+=3:(o=l,0===Ba&&Ga(zn)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();Aa=r,r=Di()}else Oa=r,r=l;else Oa=r,r=l;for(r===l&&(r=null),o=Oa,i=[],a=Oa,s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(s=e.substring(s,Oa),(c=rs())!==l){for($=Oa,u=[],d=qs();d!==l;)u.push(d),d=qs();$=e.substring($,Oa),Aa=a,a=Fi(n,r,s,c,$)}else Oa=a,a=l;for(;a!==l;)if(i.push(a),a=Oa,44===e.charCodeAt(Oa)?(s=f,Oa++):(s=l,0===Ba&&Ga(cn)),s!==l){for(s=Oa,c=Oa,$=[],u=qs();u!==l;)$.push(u),u=qs();if(c=e.substring(c,Oa),($=rs())!==l){for(u=Oa,d=[],h=qs();h!==l;)d.push(h),h=qs();u=e.substring(u,Oa),Aa=s,s=Fi(n,r,c,$,u)}else Oa=s,s=l;s===l?(Oa=a,a=l):a=s}else a=s;if(i.length<1?(Oa=o,o=l):o=i,o!==l){if(i=Oa,a=Oa,s=Oa,(c=e.substr(Oa,4)).toLowerCase()===A?Oa+=4:(c=l,0===Ba&&Ga(On)),c!==l)if(($=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();s=c=[c,$,u]}else Oa=s,s=l;else Oa=s,s=l;if((a=s!==l?e.substring(a,Oa):s)!==l){if(s=Oa,(c=fs())!==l){for($=Oa,u=[],d=qs();d!==l;)u.push(d),d=qs();$=e.substring($,Oa),Aa=s,s=Ui(n,r,o,a,c,$)}else Oa=s,s=l;if(s===l){for(s=Oa,c=[],$=Oa,u=Oa,d=[],h=qs();h!==l;)d.push(h),h=qs();if(u=e.substring(u,Oa),(d=us())!==l){for(h=Oa,p=[],b=qs();b!==l;)p.push(b),b=qs();h=e.substring(h,Oa),Aa=$,$=Bi(n,r,o,a,u,d,h)}else Oa=$,$=l;for(;$!==l;)if(c.push($),$=Oa,44===e.charCodeAt(Oa)?(u=f,Oa++):(u=l,0===Ba&&Ga(cn)),u!==l){for(u=Oa,d=Oa,h=[],p=qs();p!==l;)h.push(p),p=qs();if(d=e.substring(d,Oa),(h=us())!==l){for(p=Oa,b=[],w=qs();w!==l;)b.push(w),w=qs();p=e.substring(p,Oa),Aa=u,u=Bi(n,r,o,a,d,h,p)}else Oa=u,u=l;u===l?(Oa=$,$=l):$=u}else $=u;c.length<1?(Oa=s,s=l):s=c}s!==l?(Aa=i,i=zi(n,r,o,a,s)):(Oa=i,i=l)}else Oa=i,i=l;if(i===l&&(i=null),a=Oa,s=Oa,c=Oa,($=e.substr(Oa,5)).toLowerCase()===P?Oa+=5:($=l,0===Ba&&Ga(Pn)),$!==l)if((u=js())!==l){for(d=[],h=qs();h!==l;)d.push(h),h=qs();c=$=[$,u,d]}else Oa=c,c=l;else Oa=c,c=l;if((s=c!==l?e.substring(s,Oa):c)!==l&&(c=os())!==l?(Aa=a,a=Pi(n,r,o,i,s,c)):(Oa=a,a=l),a===l&&(a=null),s=Oa,c=Oa,$=Oa,(u=e.substr(Oa,5)).toLowerCase()===H?Oa+=5:(u=l,0===Ba&&Ga(Hn)),u!==l)if((d=js())!==l){for(h=[],p=qs();p!==l;)h.push(p),p=qs();if((p=e.substr(Oa,2)).toLowerCase()===F?Oa+=2:(p=l,0===Ba&&Ga(Fn)),p!==l)if((b=js())!==l){for(w=[],v=qs();v!==l;)w.push(v),v=qs();$=u=[u,d,h,p,b,w]}else Oa=$,$=l;else Oa=$,$=l}else Oa=$,$=l;else Oa=$,$=l;if((c=$!==l?e.substring(c,Oa):$)!==l){for($=Oa,u=[],d=Oa,h=Oa,p=[],b=qs();b!==l;)p.push(b),b=qs();if(h=e.substring(h,Oa),(p=os())!==l){for(b=Oa,w=[],v=qs();v!==l;)w.push(v),v=qs();b=e.substring(b,Oa),Aa=d,d=Hi(n,r,o,i,a,c,h,p,b)}else Oa=d,d=l;for(;d!==l;)if(u.push(d),d=Oa,44===e.charCodeAt(Oa)?(h=f,Oa++):(h=l,0===Ba&&Ga(cn)),h!==l){for(h=Oa,p=Oa,b=[],w=qs();w!==l;)b.push(w),w=qs();if(p=e.substring(p,Oa),(b=os())!==l){for(w=Oa,v=[],g=qs();g!==l;)v.push(g),g=qs();w=e.substring(w,Oa),Aa=h,h=Hi(n,r,o,i,a,c,p,b,w)}else Oa=h,h=l;h===l?(Oa=d,d=l):d=h}else d=h;u.length<1?(Oa=$,$=l):$=u,$!==l?(Aa=s,s=Vi(n,r,o,i,a,c,$)):(Oa=s,s=l)}else Oa=s,s=l;if(s===l&&(s=null),c=Oa,$=Oa,u=Oa,(d=e.substr(Oa,6)).toLowerCase()===V?Oa+=6:(d=l,0===Ba&&Ga(Vn)),d!==l)if((h=js())!==l){for(p=[],b=qs();b!==l;)p.push(b),b=qs();u=d=[d,h,p]}else Oa=u,u=l;else Oa=u,u=l;if(($=u!==l?e.substring($,Oa):u)!==l)if((u=os())!==l){for(d=Oa,h=[],p=qs();p!==l;)h.push(p),p=qs();d=e.substring(d,Oa),Aa=c,c=ji(n,r,o,i,a,s,$,u,d)}else Oa=c,c=l;else Oa=c,c=l;if(c===l&&(c=null),$=Oa,u=Oa,d=Oa,(h=e.substr(Oa,6)).toLowerCase()===j?Oa+=6:(h=l,0===Ba&&Ga(jn)),h!==l)if((p=js())!==l){for(b=[],w=qs();w!==l;)b.push(w),w=qs();d=h=[h,p,b]}else Oa=d,d=l;else Oa=d,d=l;if((u=d!==l?e.substring(u,Oa):d)!==l){for(d=Oa,h=[],p=Oa,b=Oa,w=[],v=qs();v!==l;)w.push(v),v=qs();if(b=e.substring(b,Oa),(w=Os())!==l){for(v=Oa,g=[],y=qs();y!==l;)g.push(y),y=qs();if(v=e.substring(v,Oa),g=Oa,y=Oa,(x=e.substr(Oa,2)).toLowerCase()===m?Oa+=2:(x=l,0===Ba&&Ga(fn)),x!==l)if((E=js())!==l){for(C=[],T=qs();T!==l;)C.push(T),T=qs();y=x=[x,E,C]}else Oa=y,y=l;else Oa=y,y=l;if((g=y!==l?e.substring(g,Oa):y)!==l)if((y=es())!==l){for(x=Oa,E=[],C=qs();C!==l;)E.push(C),C=qs();x=e.substring(x,Oa),Aa=p,p=Gi(n,r,o,i,a,s,c,u,b,w,v,g,y,x)}else Oa=p,p=l;else Oa=p,p=l}else Oa=p,p=l;for(;p!==l;)if(h.push(p),p=Oa,44===e.charCodeAt(Oa)?(b=f,Oa++):(b=l,0===Ba&&Ga(cn)),b!==l){for(b=Oa,w=Oa,v=[],g=qs();g!==l;)v.push(g),g=qs();if(w=e.substring(w,Oa),(v=Os())!==l){for(g=Oa,y=[],x=qs();x!==l;)y.push(x),x=qs();if(g=e.substring(g,Oa),y=Oa,x=Oa,(E=e.substr(Oa,2)).toLowerCase()===m?Oa+=2:(E=l,0===Ba&&Ga(fn)),E!==l)if((C=js())!==l){for(T=[],_=qs();_!==l;)T.push(_),_=qs();x=E=[E,C,T]}else Oa=x,x=l;else Oa=x,x=l;if((y=x!==l?e.substring(y,Oa):x)!==l)if((x=es())!==l){for(E=Oa,C=[],T=qs();T!==l;)C.push(T),T=qs();E=e.substring(E,Oa),Aa=b,b=Gi(n,r,o,i,a,s,c,u,w,v,g,y,x,E)}else Oa=b,b=l;else Oa=b,b=l}else Oa=b,b=l;b===l?(Oa=p,p=l):p=b}else p=b;h.length<1?(Oa=d,d=l):d=h,d!==l?(Aa=$,$=qi(n,r,o,i,a,s,c,u,d)):(Oa=$,$=l)}else Oa=$,$=l;$===l&&($=null),Aa=t,t=Wi(n,r,o,i,a,s,c,$)}else Oa=t,t=l}else Oa=t,t=l;return t},WindowDefn:es,OrderingTerm:ts,FrameSpec:ns,ResultColumn:rs,Expr:os,ExprNoAnd:is,ExprRecursion:ls,ExprRecursionNoAnd:as,NonRecursiveExpr:ss,NameDot:cs,BinaryOperatorNoAnd:$s,TableOrSubquery:us,AsTableAlias:ds,JoinClause:fs,JoinOperator:hs,JoinConstraint:ps,FilterClause:ms,OverClause:bs,BindParameter:ws,UnaryOperator:vs,GeneratedAlwaysAs:function(){var t,n,r,o,i,a,s,c,$,u,f,p;for(t=Oa,n=Oa,r=Oa,o=[],i=qs();i!==l;)o.push(i),i=qs();if(i=Oa,(a=e.substr(Oa,9)).toLowerCase()===je?Oa+=9:(a=l,0===Ba&&Ga(Gr)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();if(($=e.substr(Oa,6)).toLowerCase()===Ge?Oa+=6:($=l,0===Ba&&Ga(qr)),$!==l)if((u=js())!==l){for(f=[],p=qs();p!==l;)f.push(p),p=qs();i=a=[a,s,c,$,u,f]}else Oa=i,i=l;else Oa=i,i=l}else Oa=i,i=l;else Oa=i,i=l;if(i===l&&(i=null),(a=e.substr(Oa,2)).toLowerCase()===m?Oa+=2:(a=l,0===Ba&&Ga(fn)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();r=o=[o,i,a,s,c]}else Oa=r,r=l;else Oa=r,r=l;if((n=r!==l?e.substring(n,Oa):r)!==l)if(40===e.charCodeAt(Oa)?(r=d,Oa++):(r=l,0===Ba&&Ga(sn)),r!==l){for(o=Oa,i=[],(a=Ps())===l&&(a=Gs())===l&&(a=e.charAt(Oa),jt.test(a)?Oa++:(a=l,0===Ba&&Ga(Wr)),a===l&&(a=Ls()));a!==l;)i.push(a),(a=Ps())===l&&(a=Gs())===l&&(a=e.charAt(Oa),jt.test(a)?Oa++:(a=l,0===Ba&&Ga(Wr)),a===l&&(a=Ls()));if(o=e.substring(o,Oa),41===e.charCodeAt(Oa)?(i=h,Oa++):(i=l,0===Ba&&Ga($n)),i!==l){for(a=Oa,s=[],c=qs();c!==l;)s.push(c),c=qs();if(a=e.substring(a,Oa),s=Oa,(c=e.substr(Oa,6)).toLowerCase()===qe?Oa+=6:(c=l,0===Ba&&Ga(Qr)),c!==l)if(($=js())!==l){for(u=Oa,f=[],p=qs();p!==l;)f.push(p),p=qs();u=e.substring(u,Oa),Aa=s,s=Tl(n,o,a,c,u)}else Oa=s,s=l;else Oa=s,s=l;if(s===l)if(s=Oa,(c=e.substr(Oa,7)).toLowerCase()===We?Oa+=7:(c=l,0===Ba&&Ga(Kr)),c!==l)if(($=js())!==l){for(u=Oa,f=[],p=qs();p!==l;)f.push(p),p=qs();u=e.substring(u,Oa),Aa=s,s=_l(n,o,a,c,u)}else Oa=s,s=l;else Oa=s,s=l;s===l&&(s=null),Aa=t,t=kl(n,o,a,s)}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;return t},ColumnInValues:function(){var t,n,r,o,i,a,s,c,$,u,p,m,b,w,v,g;for(t=Oa,n=Oa,r=[],o=qs();o!==l;)r.push(o),o=qs();if(n=e.substring(n,Oa),(r=Os())!==l){for(o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();if(o=e.substring(o,Oa),i=Oa,61===e.charCodeAt(Oa)?(a=R,Oa++):(a=l,0===Ba&&Ga(Sn)),a!==l){for(s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(s=e.substring(s,Oa),c=Oa,(c=($=ys())!==l?e.substring(c,Oa):$)!==l){for($=Oa,u=[],p=qs();p!==l;)u.push(p),p=qs();$=e.substring($,Oa),(u=gs())===l&&(u=null),Aa=i,i=Sl(n,r,o,s,c,$,u)}else Oa=i,i=l}else Oa=i,i=l;if(i===l){if(i=Oa,(a=e.substr(Oa,2)).toLowerCase()===ye?Oa+=2:(a=l,0===Ba&&Ga(gr)),a!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();if((c=e.substr(Oa,4)).toLowerCase()===ge?Oa+=4:(c=l,0===Ba&&Ga(vr)),c!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();Aa=i,i=Il()}else Oa=i,i=l}else Oa=i,i=l;if(i===l)if(i=Oa,(a=e.substr(Oa,2)).toLowerCase()===xe?Oa+=2:(a=l,0===Ba&&Ga(yr)),a!==l){for(s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(s=e.substring(s,Oa),40===e.charCodeAt(Oa)?(c=d,Oa++):(c=l,0===Ba&&Ga(sn)),c!==l){for($=[],u=Oa,p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();if(p=e.substring(p,Oa),m=Oa,(m=(b=ys())!==l?e.substring(m,Oa):b)!==l){for(b=Oa,w=[],v=qs();v!==l;)w.push(v),v=qs();b=e.substring(b,Oa),Aa=u,u=Ml(n,r,o,a,s,p,m,b)}else Oa=u,u=l;for(;u!==l;)if($.push(u),u=Oa,44===e.charCodeAt(Oa)?(p=f,Oa++):(p=l,0===Ba&&Ga(cn)),p!==l){for(p=Oa,m=Oa,b=[],w=qs();w!==l;)b.push(w),w=qs();if(m=e.substring(m,Oa),b=Oa,(b=(w=ys())!==l?e.substring(b,Oa):w)!==l){for(w=Oa,v=[],g=qs();g!==l;)v.push(g),g=qs();w=e.substring(w,Oa),Aa=p,p=Ml(n,r,o,a,s,m,b,w)}else Oa=p,p=l;p===l?(Oa=u,u=l):u=p}else u=p;if(41===e.charCodeAt(Oa)?(u=h,Oa++):(u=l,0===Ba&&Ga($n)),u!==l){for(p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();p=e.substring(p,Oa),(m=gs())===l&&(m=null),Aa=i,i=Rl(n,r,o,a,s,$,p,m)}else Oa=i,i=l}else Oa=i,i=l}else Oa=i,i=l}i!==l?(Aa=t,t=Nl(n,r,o,i)):(Oa=t,t=l)}else Oa=t,t=l;return t},OrIsNull:gs,NextLiteralValueOrSignedNumberOrExprInParens:function(){var t,n,r,o,i;if(t=Oa,(n=ys())===l&&(n=Oa,r=e.charAt(Oa),Gt.test(r)?Oa++:(r=l,0===Ba&&Ga(Yr)),r!==l&&(o=Is())!==l?(Aa=n,n=Ol(r,o)):(Oa=n,n=l),n===l&&(n=Oa,40===e.charCodeAt(Oa)?(r=d,Oa++):(r=l,0===Ba&&Ga(sn)),r!==l?(o=Oa,i=zs(),o=e.substring(o,Oa),41===e.charCodeAt(Oa)?(i=h,Oa++):(i=l,0===Ba&&Ga($n)),i!==l?(Aa=n,n=Al(o)):(Oa=n,n=l)):(Oa=n,n=l))),n!==l){for(r=Oa,o=[],e.length>Oa?(i=e.charAt(Oa),Oa++):(i=l,0===Ba&&Ga(un));i!==l;)o.push(i),e.length>Oa?(i=e.charAt(Oa),Oa++):(i=l,0===Ba&&Ga(un));r=e.substring(r,Oa),Aa=t,t=Dl(n,r)}else Oa=t,t=l;return t},LiteralValue:ys,LiteralValueList:function(){var t,n,r,o,i,a,s,c;for(t=Oa,n=[],r=Oa,o=[],i=qs();i!==l;)o.push(i),i=qs();if((i=ys())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();r=i}else Oa=r,r=l;for(;r!==l;)if(n.push(r),r=Oa,44===e.charCodeAt(Oa)?(o=f,Oa++):(o=l,0===Ba&&Ga(cn)),o!==l){for(o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();if((a=ys())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();o=a}else Oa=o,o=l;o===l?(Oa=r,r=l):r=o}else r=o;return n.length<1?(Oa=t,t=l):t=n,t},Temporary:xs,ColumnDefinition:function(){var t,n,r,o;for(t=Oa,n=Oa,r=[],o=qs();o!==l;)r.push(o),o=qs();return n=e.substring(n,Oa),(r=Os())!==l?(o=Oa,Bs(),o=e.substring(o,Oa),Aa=t,t=Vl(n,r,o)):(Oa=t,t=l),t},LooseColumnDefinitionOrTableConstraint:Es,TableConstraint:function(){var t,n,r,o,i,a,s,c,$,u,p,m,b,w;if(t=Oa,n=Oa,r=Oa,o=Oa,(i=e.substr(Oa,10)).toLowerCase()===et?Oa+=10:(i=l,0===Ba&&Ga(oo)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();o=i=[i,a,s]}else Oa=o,o=l;else Oa=o,o=l;if((r=o!==l?e.substring(r,Oa):o)!==l)if((o=Os())!==l){for(i=Oa,a=[],s=qs();s!==l;)a.push(s),s=qs();i=e.substring(i,Oa),Aa=n,n=Gl(r,o,i)}else Oa=n,n=l;else Oa=n,n=l;if(n===l&&(n=null),r=Oa,o=Oa,e.substr(Oa,7)===tt?(i=tt,Oa+=7):(i=l,0===Ba&&Ga(io)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();if(e.substr(Oa,3)===nt?(c=nt,Oa+=3):(c=l,0===Ba&&Ga(lo)),c!==l)if(($=js())!==l){for(u=[],p=qs();p!==l;)u.push(p),p=qs();Aa=o,o=ql()}else Oa=o,o=l;else Oa=o,o=l}else Oa=o,o=l;else Oa=o,o=l;if(o===l)if(o=Oa,e.substr(Oa,6)===rt?(i=rt,Oa+=6):(i=l,0===Ba&&Ga(ao)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();Aa=o,o=Wl()}else Oa=o,o=l;else Oa=o,o=l;if(o!==l)if(40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l){for(a=Oa,s=[],c=Oa,$=Oa,u=[],p=qs();p!==l;)u.push(p),p=qs();if($=e.substring($,Oa),(u=Cs())!==l){for(p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();p=e.substring(p,Oa),Aa=c,c=Ql(n,o,$,u,p)}else Oa=c,c=l;for(;c!==l;)if(s.push(c),c=Oa,44===e.charCodeAt(Oa)?($=f,Oa++):($=l,0===Ba&&Ga(cn)),$!==l){for($=Oa,u=Oa,p=[],m=qs();m!==l;)p.push(m),m=qs();if(u=e.substring(u,Oa),(p=Cs())!==l){for(m=Oa,b=[],w=qs();w!==l;)b.push(w),w=qs();m=e.substring(m,Oa),Aa=$,$=Ql(n,o,u,p,m)}else Oa=$,$=l;$===l?(Oa=c,c=l):c=$}else c=$;if(s.length<1?(Oa=a,a=l):a=s,a!==l)if(41===e.charCodeAt(Oa)?(s=h,Oa++):(s=l,0===Ba&&Ga($n)),s!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();$=ks(),Aa=r,r=Kl(n,o,a,$)}else Oa=r,r=l;else Oa=r,r=l}else Oa=r,r=l;else Oa=r,r=l;if(r===l){if(r=Oa,o=Oa,i=Oa,e.substr(Oa,5)===ot?(a=ot,Oa+=5):(a=l,0===Ba&&Ga(so)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();i=a=[a,s,c]}else Oa=i,i=l;else Oa=i,i=l;if((o=i!==l?e.substring(o,Oa):i)!==l)if(40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l){for(a=Oa,s=[],c=qs();c!==l;)s.push(c),c=qs();if(a=e.substring(a,Oa),(s=os())!==l){for(c=Oa,$=[],u=qs();u!==l;)$.push(u),u=qs();c=e.substring(c,Oa),41===e.charCodeAt(Oa)?($=h,Oa++):($=l,0===Ba&&Ga($n)),$!==l?(Aa=r,r=Yl(n,o,a,s,c)):(Oa=r,r=l)}else Oa=r,r=l}else Oa=r,r=l;else Oa=r,r=l;if(r===l){if(r=Oa,o=Oa,i=Oa,e.substr(Oa,7)===it?(a=it,Oa+=7):(a=l,0===Ba&&Ga(co)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();if(e.substr(Oa,3)===nt?($=nt,Oa+=3):($=l,0===Ba&&Ga(lo)),$!==l)if((u=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();i=a=[a,s,c,$,u,p]}else Oa=i,i=l;else Oa=i,i=l}else Oa=i,i=l;else Oa=i,i=l;if((o=i!==l?e.substring(o,Oa):i)!==l)if(40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l){for(a=Oa,s=[],c=Oa,$=Oa,u=[],p=qs();p!==l;)u.push(p),p=qs();if($=e.substring($,Oa),(u=Os())!==l){for(p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();p=e.substring(p,Oa),Aa=c,c=Jl(n,o,$,u,p)}else Oa=c,c=l;for(;c!==l;)if(s.push(c),c=Oa,44===e.charCodeAt(Oa)?($=f,Oa++):($=l,0===Ba&&Ga(cn)),$!==l){for($=Oa,u=Oa,p=[],m=qs();m!==l;)p.push(m),m=qs();if(u=e.substring(u,Oa),(p=Os())!==l){for(m=Oa,b=[],w=qs();w!==l;)b.push(w),w=qs();m=e.substring(m,Oa),Aa=$,$=Jl(n,o,u,p,m)}else Oa=$,$=l;$===l?(Oa=c,c=l):c=$}else c=$;if(s.length<1?(Oa=a,a=l):a=s,a!==l)if(41===e.charCodeAt(Oa)?(s=h,Oa++):(s=l,0===Ba&&Ga($n)),s!==l){for(c=Oa,$=[],u=qs();u!==l;)$.push(u),u=qs();c=e.substring(c,Oa),($=_s())!==l?(Aa=r,r=Xl(n,o,a,c,$)):(Oa=r,r=l)}else Oa=r,r=l;else Oa=r,r=l}else Oa=r,r=l;else Oa=r,r=l}}return r!==l?t=n=[n,r]:(Oa=t,t=l),t},IndexedColumn:Cs,AscOrDesc:Ts,ForeignKeyClause:_s,ConflictClause:ks,StringLiteral:Ss,NumericLiteral:Is,BlobLiteral:Ms,Digit:Rs,HexDigit:Ns,NonLastRightParen:Ls,Identifier:Os,TableNameIdentifier:As,IdentifierOrKeyword:Ds,Keyword:Fs,TableNameKeyword:Us,ReadUntilUnmatchingRightParenthesisOrComma:Bs,ReadUntilUnmatchingRightParenthesis:zs,QuotedString:Ps,CharacterUsableInUnquotedIdentifierHead:Hs,CharacterUsableInUnquotedIdentifierRest:Vs,b:js,Comment:Gs,_:qs},c=qa,$="create",u="table",d="(",f=",",h=")",p="view",m="as",b="unique",w="index",v="on",g="trigger",y="before",x="after",E="instead",C="of",T="delete",_="insert",k="update",S="using",I="fts",M="content",R="=",N="if",L="not",O="exists",A="from",D="indexed",F="by",U="select",B="distinct",z="all",P="where",H="group",V="having",j="window",G="partition",q="order",W="collate",Q="nulls",K="first",Y="last",J="range",X="rows",Z="groups",ee="between",te="unbounded",ne="preceding",re="current",oe="row",ie="following",le="and",ae="exclude",se="no",$e="others",ue="ties",de="*",fe="like",he="escape",pe="glob",me="regexp",be="match",we="isnull",ve="notnull",ge="null",ye="is",xe="in",Ee="cast",Ce="case",Te="when",_e="then",ke="else",Se="end",Ie="raise",Me="temp",Re=".",Ne="||",Le=">=",Oe="==",Ae="!=",De="<>",Fe="<<",Ue=">>",Be="<=",ze="or",Pe="join",He="filter",Ve="over",je="generated",Ge="always",qe="stored",We="virtual",Qe="true",Ke="false",Ye="current_timestamp",Je="current_time",Xe="current_date",Ze="temporary",et="constraint",tt="PRIMARY",nt="KEY",rt="UNIQUE",ot="CHECK",it="FOREIGN",lt="asc",at="desc",st="references",ct="set",$t="default",ut="cascade",dt="restrict",ft="action",ht="deferrable",pt="initially",mt="deferred",bt="immediate",wt="conflict",vt="rollback",gt="abort",yt="fail",xt="ignore",Et="replace",Ct="'",Tt="''",_t="0x",kt="_",St="e",It="x'",Mt='"',Rt='""',Nt="`",Lt="``",Ot="[",At="]",Dt="--",Ft="/*",Ut="*/",Bt=/^[),]/,zt=/^[^ \t\r\n'"[`(*]/,Pt=/^[^ \t\r\n'"\]`)*]/,Ht=/^[%-&*-+\-\/<->|]/,Vt=/^[+\-~]/,jt=/^[^)]/,Gt=/^[+\-]/,qt=/^[^']/,Wt=/^[0-9]/,Qt=/^[0-9a-f]/i,Kt=/^[^'"\]`,)]/,Yt=/^[^'"\]`)]/,Jt=/^[^"]/,Xt=/^[^`]/,Zt=/^[^\]]/,en=/^[^ \-,;:!?.'"()[\]{}@*\/\\\n\r\t&%`\^+<=>|$0-9]/,tn=/^[^ \-,;:!?.'"()[\]{}@*\/\\\n\r\t&%`\^+<=>|$]/,nn=/^[a-zA-Z_]/,rn=/^[^\n]/,on=/^[ \t\r\n]/,ln=Pa("CREATE",!0),an=Pa("TABLE",!0),sn=Pa("(",!1),cn=Pa(",",!1),$n=Pa(")",!1),un={type:"any"},dn=Pa("VIEW",!0),fn=Pa("AS",!0),hn=Pa("UNIQUE",!0),pn=Pa("INDEX",!0),mn=Pa("ON",!0),bn=Pa("TRIGGER",!0),wn=Pa("BEFORE",!0),vn=Pa("AFTER",!0),gn=Pa("INSTEAD",!0),yn=Pa("OF",!0),xn=Pa("DELETE",!0),En=Pa("INSERT",!0),Cn=Pa("UPDATE",!0),Tn=Pa("USING",!0),_n=Pa("fts",!0),kn=Pa("content",!0),Sn=Pa("=",!1),In=Ha([")",","],!1,!1),Mn=Pa("IF",!0),Rn=Pa("NOT",!0),Nn=Pa("EXISTS",!0),Ln=Ha([" ","\t","\r","\n","'",'"',"[","`","(","*"],!0,!1),On=Pa("FROM",!0),An=Ha([" ","\t","\r","\n","'",'"',"]","`",")","*"],!0,!1),Dn=Pa("INDEXED",!0),Fn=Pa("BY",!0),Un=Pa("SELECT",!0),Bn=Pa("DISTINCT",!0),zn=Pa("ALL",!0),Pn=Pa("WHERE",!0),Hn=Pa("GROUP",!0),Vn=Pa("HAVING",!0),jn=Pa("WINDOW",!0),Gn=Pa("PARTITION",!0),qn=Pa("ORDER",!0),Wn=Pa("COLLATE",!0),Qn=Pa("NULLS",!0),Kn=Pa("FIRST",!0),Yn=Pa("LAST",!0),Jn=Pa("RANGE",!0),Xn=Pa("ROWS",!0),Zn=Pa("GROUPS",!0),er=Pa("BETWEEN",!0),tr=Pa("UNBOUNDED",!0),nr=Pa("PRECEDING",!0),rr=Pa("CURRENT",!0),or=Pa("ROW",!0),ir=Pa("FOLLOWING",!0),lr=Pa("AND",!0),ar=Pa("EXCLUDE",!0),sr=Pa("NO",!0),cr=Pa("OTHERS",!0),$r=Pa("TIES",!0),ur=Pa("*",!1),dr=Pa("LIKE",!0),fr=Pa("ESCAPE",!0),hr=Pa("GLOB",!0),pr=Pa("REGEXP",!0),mr=Pa("MATCH",!0),br=Pa("ISNULL",!0),wr=Pa("NOTNULL",!0),vr=Pa("NULL",!0),gr=Pa("IS",!0),yr=Pa("IN",!0),xr=Pa("CAST",!0),Er=Pa("CASE",!0),Cr=Pa("WHEN",!0),Tr=Pa("THEN",!0),_r=Pa("ELSE",!0),kr=Pa("END",!0),Sr=Pa("RAISE",!0),Ir=Pa("temp",!0),Mr=Pa(".",!1),Rr=Pa("||",!1),Nr=Pa(">=",!1),Lr=Pa("==",!1),Or=Pa("!=",!1),Ar=Pa("<>",!1),Dr=Pa("<<",!1),Fr=Pa(">>",!1),Ur=Pa("<=",!1),Br=Ha([["%","&"],["*","+"],"-","/",["<",">"],"|"],!1,!1),zr=Pa("OR",!0),Pr=Pa("JOIN",!0),Hr=Pa("FILTER",!0),Vr=Pa("OVER",!0),jr=Ha(["+","-","~"],!1,!1),Gr=Pa("GENERATED",!0),qr=Pa("ALWAYS",!0),Wr=Ha([")"],!0,!1),Qr=Pa("STORED",!0),Kr=Pa("VIRTUAL",!0),Yr=Ha(["+","-"],!1,!1),Jr=Pa("TRUE",!0),Xr=Pa("FALSE",!0),Zr=Pa("CURRENT_TIMESTAMP",!0),eo=Pa("CURRENT_TIME",!0),to=Pa("CURRENT_DATE",!0),no=Pa("TEMPORARY",!0),ro=Pa("TEMP",!0),oo=Pa("CONSTRAINT",!0),io=Pa("PRIMARY",!1),lo=Pa("KEY",!1),ao=Pa("UNIQUE",!1),so=Pa("CHECK",!1),co=Pa("FOREIGN",!1),$o=Pa("ASC",!0),uo=Pa("DESC",!0),fo=Pa("REFERENCES",!0),ho=Pa("SET",!0),po=Pa("DEFAULT",!0),mo=Pa("CASCADE",!0),bo=Pa("RESTRICT",!0),wo=Pa("ACTION",!0),vo=Pa("DEFERRABLE",!0),go=Pa("INITIALLY",!0),yo=Pa("DEFERRED",!0),xo=Pa("IMMEDIATE",!0),Eo=Pa("CONFLICT",!0),Co=Pa("ROLLBACK",!0),To=Pa("ABORT",!0),_o=Pa("FAIL",!0),ko=Pa("IGNORE",!0),So=Pa("REPLACE",!0),Io=Pa("'",!1),Mo=Pa("''",!1),Ro=Ha(["'"],!0,!1),No=Pa("0x",!0),Lo=Pa("_",!1),Oo=Pa("e",!0),Ao=Pa("x'",!0),Do=Ha([["0","9"]],!1,!1),Fo=Ha([["0","9"],["a","f"]],!1,!0),Uo=Ha(["'",'"',"]","`",",",")"],!0,!1),Bo=Ha(["'",'"',"]","`",")"],!0,!1),zo=Pa('"',!1),Po=Pa('""',!1),Ho=Ha(['"'],!0,!1),Vo=Pa("`",!1),jo=Pa("``",!1),Go=Ha(["`"],!0,!1),qo=Pa("[",!1),Wo=Ha(["]"],!0,!1),Qo=Pa("]",!1),Ko=Ha([" ","-",",",";",":","!","?",".","'",'"',"(",")","[","]","{","}","@","*","/","\\","\n","\r","\t","&","%","`","^","+","<","=",">","|","$",["0","9"]],!0,!1),Yo=Ha([" ","-",",",";",":","!","?",".","'",'"',"(",")","[","]","{","}","@","*","/","\\","\n","\r","\t","&","%","`","^","+","<","=",">","|","$"],!0,!1),Jo=Ha([["a","z"],["A","Z"],"_"],!1,!1),Xo=Pa("--",!1),Zo=Ha(["\n"],!0,!1),ei=Pa("/*",!1),ti=Pa("*/",!1),ni=Ha([" ","\t","\r","\n"],!1,!1),ri=function(e,t,n){return{text:za(),create:e,temporary:t,table:n}},oi=function(e,t,n,r,o,i,l){return{createTable:e,ifNotExists:t,schemaName:n,tableName:r,afterTableName:o,columns:i,options:l}},ii=function(e,t,n){return{text:za(),create:e,temporary:t,view:n}},li=function(e,t,n,r,o,i){return{createView:e,ifNotExists:t,schemaName:n,viewName:r,as:o,select:i}},ai=function(e,t,n,r,o,i,l,a,s,c,$,u){return{beforeColumnName:c,columnName:$,afterColumnName:u}},si=function(e,t,n,r,o,i,l,a,s,c,$){return{createIndex:e,ifNotExists:t,schemaName:n,indexName:r,afterIndexName:o,on:i,afterOn:l,tableName:a,afterTableName:s,columns:c,rest:$}},ci=function(e,t,n){return{text:za(),create:e,temporary:t,trigger:n}},$i=function(e,t,n,r,o){return{type:"BEFORE",text:za()}},ui=function(e,t,n,r,o){return{type:"AFTER",text:za()}},di=function(e,t,n,r,o){return{type:"INSTEAD OF",text:za()}},fi=function(e,t,n,r,o,i,l){return{type:"DELETE",text:za()}},hi=function(e,t,n,r,o,i,l){return{type:"INSERT",text:za()}},pi=function(e,t,n,r,o,i,l,a,s,c,$,u){return{beforeIdent:c,ident:$,afterIdent:u}},mi=function(e,t,n,r,o,i,l,a,s,c){return{of:a,afterOf:s,columns:c}},bi=function(e,t,n,r,o,i,l,a){return{type:"UPDATE",updateOf:a,text:za()}},wi=function(e,t,n,r,o,i,l,a,s,c,$,u){return{createTrigger:e,ifNotExists:t,schemaName:n,triggerName:r,afterTriggerName:o,keyword1:i,afterKeyword1:l,keyword2:a,on:s,afterOn:c,tableName:$,rest:u}},vi=function(e){return e.name},gi=function(e){return e.name},yi=function(){return null},xi=function(){return null},Ei=function(){return null},Ci=function(){return null},Ti=function(e){return e.filter((e=>null!==e))},_i=function(){return ja(Aa,Oa).end.offset},ki=function(e){return e},Si=function(e){return e.flatten()},Ii=function(){return[]},Mi=function(e,t){return[{schema:e?.name.name,table:t.name}]},Ri=function(){return[]},Ni=function(e,t){return[...e,...t.flat()]},Li=function(e,t){return{type:"on",on:e,expr:t}},Oi=function(e){return{type:"using",using:e,columnNames}},Ai=function(e){return{type:"DISTINCT",text:za()}},Di=function(e){return{type:"ALL",text:za()}},Fi=function(e,t,n,r,o){return{before:n,column:r,after:o}},Ui=function(e,t,n,r,o,i){return{joinClause:o,after:i}},Bi=function(e,t,n,r,o,i,l){return{before:o,tableOrSubquery:i,after:l}},zi=function(e,t,n,r,o){return{from:r,table:o}},Pi=function(e,t,n,r,o,i){return{where:o,expr:i}},Hi=function(e,t,n,r,o,i,l,a,s){return{before:l,expr:a,after:s}},Vi=function(e,t,n,r,o,i,l){return{groupBy:i,exprs:l}},ji=function(e,t,n,r,o,i,l,a,s){return{having:l,expr:a,afterExpr:s}},Gi=function(e,t,n,r,o,i,l,a,s,c,$,u,d,f){return{before:s,windowName:c,afterWindowName:$,as:u,windowDefn:d,after:f}},qi=function(e,t,n,r,o,i,l,a,s){return{window:a,definitions:s}},Wi=function(e,t,n,r,o,i,l,a){return{select:e,option:t,resultColumns:n,from:r,where:o,groupBy:i,having:l,window:a}},Qi=function(e,t,n,r,o,i){return{before:r,expr:o,after:i}},Ki=function(e,t,n,r){return{partitionBy:n,exprs:r}},Yi=function(e,t,n,r,o,i,l){return{before:o,orderingTerm:i,after:l}},Ji=function(e,t,n,r,o){return{orderBy:r,orderingTerms:o}},Xi=function(e,t,n,r,o,i){return{baseWindowName:e,afterBaseWindowName:t,partitionBy:n,orderBy:r,frameSpec:o,afterFrameSpec:i}},Zi=function(e,t,n,r){return{collate:t,collationName:n,afterCollationName:r}},el=function(e,t,n){return{type:"first",text:za()}},tl=function(e,t,n){return{type:"last",text:za()}},nl=function(e,t,n,r){return{expr:e,collate:t,ascOrDesc:n,nulls:r}},rl=function(){return za()},ol=function(){return{type:"*"}},il=function(e){return{type:"schema.*",schema:e}},ll=function(e,t,n,r){return{type:"expr alias",expr:e,afterExpr:t,as:n,alias:r}},al=function(e){return{type:"expr",expr:e}},sl=function(){return za()},cl=function(){return{text:za(),name:za()}},$l=function(e,t){return{text:za(),name:e,dot:t}},ul=function(e,t,n,r,o,i){return{before:r,expr:o,after:i}},dl=function(e,t,n,r,o){return{type:"table-function",schema:e,tableFunctionName:t,afterTableFunctionName:n,exprs:r,alias:o}},fl=function(e,t,n,r,o){return{type:"indexed-by",indexedBy:r,indexName:o}},hl=function(e,t,n,r){return{type:"not-indexed",notIndexed:r}},pl=function(e,t,n,r){return{type:"table-name",schema:e,tableName:t,alias:n,indexed:r}},ml=function(e,t){return{type:"subquery",expr:e,alias:t}},bl=function(e,t,n){return{beforeAs:e,as:t,tableAlias:n}},wl=function(e,t,n,r,o,i,l){return{beforeOperator:t,operator:n,afterOperator:r,joinedTableOrSubquery:o,afterJoinedTableOrSubquery:i,joinConstraint:l}},vl=function(e,t){return{type:"join-clause",tableOrSubquery:e,join:t}},gl=function(){return za()},yl=function(){return za()},xl=function(e,t){return{type:"on",on:e,expr:t}},El=function(e,t,n,r){return{before:t,ident:n,after:r}},Cl=function(e,t){return{type:"using",using:e,columnNames:t}},Tl=function(e,t,n,r,o){return{keyword:r,whitespace:o}},_l=function(e,t,n,r,o){return{keyword:r,whitespace:o}},kl=function(e,t,n,r){return{generatedAlwaysAs:e,expr:t,beforeOption:n,option:r?.keyword??"",afterOption:r?.whitespace??""}},Sl=function(e,t,n,r,o,i,l){return{type:"=",before:r,list:[{before:"",literal:o,after:""}],orIsNull:l,after:i}},Il=function(e,t,n){return{type:"IS NULL",list:[],orIsNull:za()}},Ml=function(e,t,n,r,o,i,l,a){return{before:i,literal:l,after:a}},Rl=function(e,t,n,r,o,i,l,a){return{type:"IN",inKeyword:r,afterIn:o,list:i,afterList:l,orIsNull:a}},Nl=function(e,t,n,r){return{beforeColumn:e,column:t,afterColumn:n,...r}},Ll=function(){return za()},Ol=function(e,t){return"-"===e?{type:t.type,value:-t.value}:t},Al=function(e){return{type:"expr",expr:e}},Dl=function(e,t){return{literal:e,rest:t}},Fl=function(){return{type:"null",value:null}},Ul=function(){return{type:"boolean",value:!0}},Bl=function(){return{type:"boolean",value:!1}},zl=function(){return{type:"CURRENT_TIMESTAMP",value:()=>(new Date).toISOString().replace("Z","")}},Pl=function(){return{type:"CURRENT_TIME",value:()=>(new Date).toLocaleTimeString("en-US",{hour12:!1})}},Hl=function(){return{type:"CURRENT_DATE",value:()=>(new Date).toISOString().split("T")[0]}},Vl=function(e,t,n){return{text:za(),beforeColumnName:e,columnName:t,typeNameAndColumnConstraints:n}},jl=function(e,t,n){return{text:za(),beforeColumnName:e,columnName:t,typeNameAndColumnConstraints:n}},Gl=function(e,t,n){return{constraint:e,name:t,afterName:n}},ql=function(e){return{type:"primary key",text:za()}},Wl=function(e){return{type:"unique",text:za()}},Ql=function(e,t,n,r,o){return{before:n,indexedColumn:r,after:o}},Kl=function(e,t,n,r){return{type:"unique",constraint:e,option:t,indexedColumns:n,conflictConstraint:r}},Yl=function(e,t,n,r,o){return{type:"check",check:t,beforeExpr:n,expr:r,afterExpr:o}},Jl=function(e,t,n,r,o){return{before:n,columnName:r,after:o}},Xl=function(e,t,n,r,o){return{type:"foreign key",foreignKey:t,columnNames:n,beforeForeignKeyClause:r,foreignKeyClause:o}},Zl=function(e){return{type:"column name",columnName:e}},ea=function(e){return{type:"expr",expr:e}},ta=function(e,t,n){return{collate:t,columnName:n}},na=function(e,t,n){return{columnOrExpr:e,collate:t,ascOrDesc:n}},ra=function(){return{type:"asc",text:za()}},oa=function(){return{type:"desc",text:za()}},ia=function(e,t,n,r,o){return{before:n,columnName:r,after:o}},la=function(e,t,n){return{type:"on",text:za()}},aa=function(e,t,n,r){return{type:"match",text:za()}},sa=function(e,t,n,r,o,i){return{type:"deferred",text:za()}},ca=function(e,t,n,r,o,i){return{type:"immediate",text:za()}},$a=function(e,t,n,r,o,i,l){return{not:o,deferrable:i,initially:l}},ua=function(e,t,n,r,o){return{references:e,foreignTable:t,columns:n,matches:r,deferrable:o}},da=function(){return za()},fa=function(){return"'"},ha=function(e){return{type:"string",value:e.join("")}},pa=function(){return{type:"integer",value:BigInt(za().replace(/_/g,""))}},ma=function(){return/[e\.]/i.test(za())?{type:"real",value:+za().replace(/_/g,"")}:{type:"integer",value:BigInt(za().replace(/_/g,""))}},ba=function(){return"'"},wa=function(e){return{type:"blob",value:0===e.length?new Uint8Array:new Uint8Array(e.join("").match(/.{1,2}/g).map((e=>parseInt(e,16))))}},va=function(e){return e.ident},ga=function(e){return{text:za(),name:e}},ya=function(e){return e.ident},xa=function(e){return{text:za(),name:e}},Ea=function(e){return e.ident},Ca=function(e){return{text:za(),name:e}},Ta=function(e){return["ABORT","ACTION","ADD","AFTER","ALL","ALTER","ALWAYS","ANALYZE","AND","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRED","DEFERRABLE","DELETE","DESC","DETACH","DISTINCT","DO","DROP","END","EACH","ELSE","ESCAPE","EXCEPT","EXCLUSIVE","EXCLUDE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","GROUPS","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"].includes(e.toUpperCase())},_a=function(e){return["ADD","ALL","ALTER","AND","AS","AUTOINCREMENT","BETWEEN","CASE","CHECK","COLLATE","COMMIT","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DELETE","DISTINCT","DROP","ELSE","ESCAPE","EXCEPT","EXISTS","FOREIGN","FROM","GROUP","HAVING","IF","IN","INDEX","INSERT","INTERSECT","INTO","IS","ISNULL","JOIN","LIMIT","NOT","NOTHING","NOTNULL","NULL","ON","OR","ORDER","PRIMARY","REFERENCES","RETURNING","SELECT","SET","TABLE","THEN","TO","TRANSACTION","UNION","UNIQUE","UPDATE","USING","VALUES","WHEN","WHERE"].includes(e.toUpperCase())},ka=function(){return"'"},Sa=function(e){return{text:za(),ident:e.join("")}},Ia=function(){return'"'},Ma=function(e){return{text:za(),ident:e.join("")}},Ra=function(){return"`"},Na=function(e){return{text:za(),ident:e.join("")}},La=function(e){return{text:za(),ident:e}},Oa=0|t.peg$currPos,Aa=Oa,Da=[{line:1,column:1}],Fa=Oa,Ua=t.peg$maxFailExpected||[],Ba=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in s))throw new Error("Can't start parsing from rule \""+t.startRule+'".');c=s[t.startRule]}function za(){return e.substring(Aa,Oa)}function Pa(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ha(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Va(t){var n,r=Da[t];if(r)return r;if(t>=Da.length)n=Da.length-1;else for(n=t;!Da[--n];);for(r={line:(r=Da[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Da[t]=r,r}function ja(e,t,n){var r=Va(e),o=Va(t),i={source:a,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}};return n&&a&&"function"==typeof a.offset&&(i.start=a.offset(i.start),i.end=a.offset(i.end)),i}function Ga(e){Oa<Fa||(Oa>Fa&&(Fa=Oa,Ua=[]),Ua.push(e))}function qa(){var t,n,r,o,i,a,s,c,p,m,b,w;for(t=Oa,n=Oa,r=Oa,o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();if((a=e.substr(Oa,6)).toLowerCase()===$?Oa+=6:(a=l,0===Ba&&Ga(ln)),a!==l)if((s=js())!==l){for(c=[],p=qs();p!==l;)c.push(p),p=qs();o=i=[i,a,s,c]}else Oa=o,o=l;else Oa=o,o=l;if((r=o!==l?e.substring(r,Oa):o)!==l){if((o=xs())===l&&(o=null),i=Oa,a=Oa,(s=e.substr(Oa,5)).toLowerCase()===u?Oa+=5:(s=l,0===Ba&&Ga(an)),s!==l)if((c=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();a=s=[s,c,p]}else Oa=a,a=l;else Oa=a,a=l;(i=a!==l?e.substring(i,Oa):a)!==l?(Aa=n,n=ri(r,o,i)):(Oa=n,n=l)}else Oa=n,n=l;if(n!==l)if((r=Wa())===l&&(r=null),(o=cs())===l&&(o=null),(i=As())!==l){for(a=Oa,s=[],c=qs();c!==l;)s.push(c),c=qs();if(a=e.substring(a,Oa),40===e.charCodeAt(Oa)?(s=d,Oa++):(s=l,0===Ba&&Ga(sn)),s!==l){for(c=Oa,p=[],m=Es();m!==l;)p.push(m),m=Oa,44===e.charCodeAt(Oa)?(b=f,Oa++):(b=l,0===Ba&&Ga(cn)),b!==l&&(b=Es())===l?(Oa=m,m=l):m=b;if(p.length<1?(Oa=c,c=l):c=p,c!==l)if(41===e.charCodeAt(Oa)?(p=h,Oa++):(p=l,0===Ba&&Ga($n)),p!==l){for(m=Oa,b=[],e.length>Oa?(w=e.charAt(Oa),Oa++):(w=l,0===Ba&&Ga(un));w!==l;)b.push(w),e.length>Oa?(w=e.charAt(Oa),Oa++):(w=l,0===Ba&&Ga(un));m=e.substring(m,Oa),Aa=t,t=oi(n,r,o,i,a,c,m)}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;return t}function Wa(){var t,n,r,o,i,a,s,c,$,u,d,f;if(t=Oa,n=Oa,(r=e.substr(Oa,2)).toLowerCase()===N?Oa+=2:(r=l,0===Ba&&Ga(Mn)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();if((a=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:(a=l,0===Ba&&Ga(Rn)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();if(($=e.substr(Oa,6)).toLowerCase()===O?Oa+=6:($=l,0===Ba&&Ga(Nn)),$!==l)if((u=js())!==l){for(d=[],f=qs();f!==l;)d.push(f),f=qs();n=r=[r,o,i,a,s,c,$,u,d]}else Oa=n,n=l;else Oa=n,n=l}else Oa=n,n=l;else Oa=n,n=l}else Oa=n,n=l;else Oa=n,n=l;return n!==l?e.substring(t,Oa):n}function Qa(){var t,n,r,o,i,a;for(t=[],(n=Ps())===l&&(n=Gs())===l&&(n=Oa,r=Oa,Ba++,o=Oa,(i=e.substr(Oa,4)).toLowerCase()===A?Oa+=4:(i=l,0===Ba&&Ga(On)),i!==l&&(a=js())!==l?o=i=[i,a]:(Oa=o,o=l),Ba--,o===l?r=void 0:(Oa=r,r=l),r!==l?((o=Ka())===l&&(e.length>Oa?(o=e.charAt(Oa),Oa++):(o=l,0===Ba&&Ga(un))),o!==l?n=r=[r,o]:(Oa=n,n=l)):(Oa=n,n=l));n!==l;)t.push(n),(n=Ps())===l&&(n=Gs())===l&&(n=Oa,r=Oa,Ba++,o=Oa,(i=e.substr(Oa,4)).toLowerCase()===A?Oa+=4:(i=l,0===Ba&&Ga(On)),i!==l&&(a=js())!==l?o=i=[i,a]:(Oa=o,o=l),Ba--,o===l?r=void 0:(Oa=r,r=l),r!==l?((o=Ka())===l&&(e.length>Oa?(o=e.charAt(Oa),Oa++):(o=l,0===Ba&&Ga(un))),o!==l?n=r=[r,o]:(Oa=n,n=l)):(Oa=n,n=l));return t}function Ka(){var t,n;if(t=[],n=e.charAt(Oa),Pt.test(n)?Oa++:(n=l,0===Ba&&Ga(An)),n!==l)for(;n!==l;)t.push(n),n=e.charAt(Oa),Pt.test(n)?Oa++:(n=l,0===Ba&&Ga(An));else t=l;return t}function Ya(){var t,n,r,o,i,a,s,c,$,u;for(t=Oa,n=Oa,r=[],o=qs();o!==l;)r.push(o),o=qs();if(n=e.substring(n,Oa),(r=Xa())!==l?t=r:(Oa=t,t=l),t===l){for(t=Oa,n=Oa,r=[],o=Oa,i=Oa,a=[],s=qs();s!==l;)a.push(s),s=qs();if(i=e.substring(i,Oa),(a=Ja())!==l){for(s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();s=e.substring(s,Oa),o=a}else Oa=o,o=l;for(;o!==l;)if(r.push(o),o=Oa,44===e.charCodeAt(Oa)?(i=f,Oa++):(i=l,0===Ba&&Ga(cn)),i!==l){for(i=Oa,a=Oa,s=[],c=qs();c!==l;)s.push(c),c=qs();if(a=e.substring(a,Oa),(s=Ja())!==l){for(c=Oa,$=[],u=qs();u!==l;)$.push(u),u=qs();c=e.substring(c,Oa),i=s}else Oa=i,i=l;i===l?(Oa=o,o=l):o=i}else o=i;r.length<1?(Oa=n,n=l):n=r,n!==l&&(Aa=t,n=Si(n)),t=n}return t}function Ja(){var t,n,r,o,i,a,s,c,$,u,f,p,m,b;if(t=Oa,(n=cs())===l&&(n=null),(r=Os())!==l){for(o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();o=e.substring(o,Oa),40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l?(a=zs(),41===e.charCodeAt(Oa)?(s=h,Oa++):(s=l,0===Ba&&Ga($n)),s!==l?((c=ds())===l&&(c=null),Aa=t,t=Ii()):(Oa=t,t=l)):(Oa=t,t=l)}else Oa=t,t=l;if(t===l){if(t=Oa,(n=cs())===l&&(n=null),(r=Os())!==l){for((o=ds())===l&&(o=null),i=Oa,a=Oa,s=[],c=qs();c!==l;)s.push(c),c=qs();if(a=e.substring(a,Oa),(s=e.substr(Oa,7)).toLowerCase()===D?Oa+=7:(s=l,0===Ba&&Ga(Dn)),s!==l)if((c=js())!==l){for($=Oa,u=[],f=qs();f!==l;)u.push(f),f=qs();if($=e.substring($,Oa),(u=e.substr(Oa,2)).toLowerCase()===F?Oa+=2:(u=l,0===Ba&&Ga(Fn)),u!==l)if((f=js())!==l){for(p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();p=e.substring(p,Oa),(m=Os())!==l?i=a=[a,s,c,$,u,f,p,m]:(Oa=i,i=l)}else Oa=i,i=l;else Oa=i,i=l}else Oa=i,i=l;else Oa=i,i=l;if(i===l){for(i=Oa,a=Oa,s=[],c=qs();c!==l;)s.push(c),c=qs();if(a=e.substring(a,Oa),(s=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:(s=l,0===Ba&&Ga(Rn)),s!==l)if((c=js())!==l){for($=Oa,u=[],f=qs();f!==l;)u.push(f),f=qs();if($=e.substring($,Oa),(u=e.substr(Oa,7)).toLowerCase()===D?Oa+=7:(u=l,0===Ba&&Ga(Dn)),u!==l)if((f=js())!==l){for(p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();i=a=[a,s,c,$,u,f,p=e.substring(p,Oa)]}else Oa=i,i=l;else Oa=i,i=l}else Oa=i,i=l;else Oa=i,i=l}i===l&&(i=null),Aa=t,t=Mi(n,r)}else Oa=t,t=l;if(t===l){if(t=Oa,40===e.charCodeAt(Oa)?(n=d,Oa++):(n=l,0===Ba&&Ga(sn)),n!==l){for(r=Oa,o=[],i=qs();i!==l;)o.push(i),i=qs();if(r=e.substring(r,Oa),(o=Ya())!==l){for(i=Oa,a=[],s=qs();s!==l;)a.push(s),s=qs();i=e.substring(i,Oa),41===e.charCodeAt(Oa)?(a=h,Oa++):(a=l,0===Ba&&Ga($n)),a!==l?t=o:(Oa=t,t=l)}else Oa=t,t=l}else Oa=t,t=l;t===l&&(t=Oa,40===e.charCodeAt(Oa)?(n=d,Oa++):(n=l,0===Ba&&Ga(sn)),n!==l?(r=zs(),41===e.charCodeAt(Oa)?(o=h,Oa++):(o=l,0===Ba&&Ga($n)),o!==l?((i=ds())===l&&(i=null),Aa=t,t=Ri()):(Oa=t,t=l)):(Oa=t,t=l))}}return t}function Xa(){var t,n,r,o,i,a,s,c,$,u,d;if(t=Oa,(n=Ja())!==l){for(r=[],o=Oa,i=Oa,a=[],s=qs();s!==l;)a.push(s),s=qs();if(i=e.substring(i,Oa),(a=hs())!==l){for(s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(s=e.substring(s,Oa),(c=Ja())!==l){for($=Oa,u=[],d=qs();d!==l;)u.push(d),d=qs();$=e.substring($,Oa),u=Za(),o=c}else Oa=o,o=l}else Oa=o,o=l;for(;o!==l;){for(r.push(o),o=Oa,i=Oa,a=[],s=qs();s!==l;)a.push(s),s=qs();if(i=e.substring(i,Oa),(a=hs())!==l){for(s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(s=e.substring(s,Oa),(c=Ja())!==l){for($=Oa,u=[],d=qs();d!==l;)u.push(d),d=qs();$=e.substring($,Oa),u=Za(),o=c}else Oa=o,o=l}else Oa=o,o=l}Aa=t,t=Ni(n,r)}else Oa=t,t=l;return t}function Za(){var t,n,r,o,i,a,s;if(t=Oa,n=Oa,r=Oa,(o=e.substr(Oa,2)).toLowerCase()===v?Oa+=2:(o=l,0===Ba&&Ga(mn)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();r=o=[o,i,a]}else Oa=r,r=l;else Oa=r,r=l;if((n=r!==l?e.substring(n,Oa):r)!==l&&(r=os())!==l?(Aa=t,t=Li(n,r)):(Oa=t,t=l),t===l){if(t=Oa,n=Oa,r=Oa,(o=e.substr(Oa,5)).toLowerCase()===S?Oa+=5:(o=l,0===Ba&&Ga(Tn)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();r=o=[o,i,a]}else Oa=r,r=l;else Oa=r,r=l;(n=r!==l?e.substring(n,Oa):r)!==l?(40===e.charCodeAt(Oa)?(r=d,Oa++):(r=l,0===Ba&&Ga(sn)),r!==l?(o=zs(),41===e.charCodeAt(Oa)?(i=h,Oa++):(i=l,0===Ba&&Ga($n)),i!==l?(Aa=t,t=Oi(n)):(Oa=t,t=l)):(Oa=t,t=l)):(Oa=t,t=l)}return t===l&&(t=null),t}function es(){var t,n,r,o,i,a,s,c,$,u,p,m,b,w,v,g;if(t=Oa,40===e.charCodeAt(Oa)?(n=d,Oa++):(n=l,0===Ba&&Ga(sn)),n!==l){for((r=Os())===l&&(r=null),o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();if(o=e.substring(o,Oa),i=Oa,a=Oa,s=Oa,(c=e.substr(Oa,9)).toLowerCase()===G?Oa+=9:(c=l,0===Ba&&Ga(Gn)),c!==l)if(($=js())!==l){for(u=[],p=qs();p!==l;)u.push(p),p=qs();if((p=e.substr(Oa,2)).toLowerCase()===F?Oa+=2:(p=l,0===Ba&&Ga(Fn)),p!==l)if((m=js())!==l){for(b=[],w=qs();w!==l;)b.push(w),w=qs();s=c=[c,$,u,p,m,b]}else Oa=s,s=l;else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l;if((a=s!==l?e.substring(a,Oa):s)!==l){for(s=Oa,c=[],$=Oa,u=Oa,p=[],m=qs();m!==l;)p.push(m),m=qs();if(u=e.substring(u,Oa),(p=os())!==l){for(m=Oa,b=[],w=qs();w!==l;)b.push(w),w=qs();m=e.substring(m,Oa),Aa=$,$=Qi(r,o,a,u,p,m)}else Oa=$,$=l;for(;$!==l;)if(c.push($),$=Oa,44===e.charCodeAt(Oa)?(u=f,Oa++):(u=l,0===Ba&&Ga(cn)),u!==l){for(u=Oa,p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();if(p=e.substring(p,Oa),(m=os())!==l){for(b=Oa,w=[],v=qs();v!==l;)w.push(v),v=qs();b=e.substring(b,Oa),Aa=u,u=Qi(r,o,a,p,m,b)}else Oa=u,u=l;u===l?(Oa=$,$=l):$=u}else $=u;c.length<1?(Oa=s,s=l):s=c,s!==l?(Aa=i,i=Ki(r,o,a,s)):(Oa=i,i=l)}else Oa=i,i=l;if(i===l&&(i=null),a=Oa,s=Oa,c=Oa,($=e.substr(Oa,5)).toLowerCase()===q?Oa+=5:($=l,0===Ba&&Ga(qn)),$!==l)if((u=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();if((m=e.substr(Oa,2)).toLowerCase()===F?Oa+=2:(m=l,0===Ba&&Ga(Fn)),m!==l)if((b=js())!==l){for(w=[],v=qs();v!==l;)w.push(v),v=qs();c=$=[$,u,p,m,b,w]}else Oa=c,c=l;else Oa=c,c=l}else Oa=c,c=l;else Oa=c,c=l;if((s=c!==l?e.substring(s,Oa):c)!==l){for(c=Oa,$=[],u=Oa,p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();if(p=e.substring(p,Oa),(m=ts())!==l){for(b=Oa,w=[],v=qs();v!==l;)w.push(v),v=qs();b=e.substring(b,Oa),Aa=u,u=Yi(r,o,i,s,p,m,b)}else Oa=u,u=l;for(;u!==l;)if($.push(u),u=Oa,44===e.charCodeAt(Oa)?(p=f,Oa++):(p=l,0===Ba&&Ga(cn)),p!==l){for(p=Oa,m=Oa,b=[],w=qs();w!==l;)b.push(w),w=qs();if(m=e.substring(m,Oa),(b=ts())!==l){for(w=Oa,v=[],g=qs();g!==l;)v.push(g),g=qs();w=e.substring(w,Oa),Aa=p,p=Yi(r,o,i,s,m,b,w)}else Oa=p,p=l;p===l?(Oa=u,u=l):u=p}else u=p;$.length<1?(Oa=c,c=l):c=$,c!==l?(Aa=a,a=Ji(r,o,i,s,c)):(Oa=a,a=l)}else Oa=a,a=l;for(a===l&&(a=null),(s=ns())===l&&(s=null),c=Oa,$=[],u=qs();u!==l;)$.push(u),u=qs();c=e.substring(c,Oa),41===e.charCodeAt(Oa)?($=h,Oa++):($=l,0===Ba&&Ga($n)),$!==l?(Aa=t,t=Xi(r,o,i,a,s,c)):(Oa=t,t=l)}else Oa=t,t=l;return t}function ts(){var t,n,r,o,i,a,s,c,$,u,d;if(t=Oa,(n=os())!==l){if(r=Oa,o=Oa,i=Oa,(a=e.substr(Oa,7)).toLowerCase()===W?Oa+=7:(a=l,0===Ba&&Ga(Wn)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();i=a=[a,s,c]}else Oa=i,i=l;else Oa=i,i=l;if((o=i!==l?e.substring(o,Oa):i)!==l)if((i=Os())!==l){for(a=Oa,s=[],c=qs();c!==l;)s.push(c),c=qs();a=e.substring(a,Oa),Aa=r,r=Zi(n,o,i,a)}else Oa=r,r=l;else Oa=r,r=l;if(r===l&&(r=null),(o=Ts())===l&&(o=null),i=Oa,(a=e.substr(Oa,5)).toLowerCase()===Q?Oa+=5:(a=l,0===Ba&&Ga(Qn)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();if(($=e.substr(Oa,5)).toLowerCase()===K?Oa+=5:($=l,0===Ba&&Ga(Kn)),$!==l)if(js()!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();Aa=i,i=el()}else Oa=i,i=l;else Oa=i,i=l}else Oa=i,i=l;else Oa=i,i=l;if(i===l)if(i=Oa,(a=e.substr(Oa,5)).toLowerCase()===Q?Oa+=5:(a=l,0===Ba&&Ga(Qn)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();if(($=e.substr(Oa,4)).toLowerCase()===Y?Oa+=4:($=l,0===Ba&&Ga(Yn)),$!==l)if(js()!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();Aa=i,i=tl()}else Oa=i,i=l;else Oa=i,i=l}else Oa=i,i=l;else Oa=i,i=l;i===l&&(i=null),Aa=t,t=nl(n,r,o,i)}else Oa=t,t=l;return t}function ns(){var t,n,r,o,i,a,s,c,$,u,d,f,h,p,m,b,w,v;if(t=Oa,n=Oa,(r=e.substr(Oa,5)).toLowerCase()===J?Oa+=5:(r=l,0===Ba&&Ga(Jn)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();n=r=[r,o,i]}else Oa=n,n=l;else Oa=n,n=l;if(n===l){if(n=Oa,(r=e.substr(Oa,4)).toLowerCase()===X?Oa+=4:(r=l,0===Ba&&Ga(Xn)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();n=r=[r,o,i]}else Oa=n,n=l;else Oa=n,n=l;if(n===l)if(n=Oa,(r=e.substr(Oa,6)).toLowerCase()===Z?Oa+=6:(r=l,0===Ba&&Ga(Zn)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();n=r=[r,o,i]}else Oa=n,n=l;else Oa=n,n=l}if(n!==l){if(r=Oa,(o=e.substr(Oa,7)).toLowerCase()===ee?Oa+=7:(o=l,0===Ba&&Ga(er)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();if(s=Oa,(c=e.substr(Oa,9)).toLowerCase()===te?Oa+=9:(c=l,0===Ba&&Ga(tr)),c!==l)if(($=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();if((d=e.substr(Oa,9)).toLowerCase()===ne?Oa+=9:(d=l,0===Ba&&Ga(nr)),d!==l)if((f=js())!==l){for(h=[],p=qs();p!==l;)h.push(p),p=qs();s=c=[c,$,u,d,f,h]}else Oa=s,s=l;else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l;if(s===l){if(s=Oa,(c=os())!==l)if(($=e.substr(Oa,9)).toLowerCase()===ne?Oa+=9:($=l,0===Ba&&Ga(nr)),$!==l)if((u=js())!==l){for(d=[],f=qs();f!==l;)d.push(f),f=qs();s=c=[c,$,u,d]}else Oa=s,s=l;else Oa=s,s=l;else Oa=s,s=l;if(s===l){if(s=Oa,(c=e.substr(Oa,7)).toLowerCase()===re?Oa+=7:(c=l,0===Ba&&Ga(rr)),c!==l)if(($=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();if((d=e.substr(Oa,3)).toLowerCase()===oe?Oa+=3:(d=l,0===Ba&&Ga(or)),d!==l)if((f=js())!==l){for(h=[],p=qs();p!==l;)h.push(p),p=qs();s=c=[c,$,u,d,f,h]}else Oa=s,s=l;else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l;if(s===l)if(s=Oa,(c=os())!==l)if(($=e.substr(Oa,9)).toLowerCase()===ie?Oa+=9:($=l,0===Ba&&Ga(ir)),$!==l)if((u=js())!==l){for(d=[],f=qs();f!==l;)d.push(f),f=qs();s=c=[c,$,u,d]}else Oa=s,s=l;else Oa=s,s=l;else Oa=s,s=l}}if(s!==l)if((c=e.substr(Oa,3)).toLowerCase()===le?Oa+=3:(c=l,0===Ba&&Ga(lr)),c!==l)if(($=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();if(d=Oa,(f=os())!==l)if((h=e.substr(Oa,9)).toLowerCase()===ne?Oa+=9:(h=l,0===Ba&&Ga(nr)),h!==l)if((p=js())!==l){for(m=[],b=qs();b!==l;)m.push(b),b=qs();d=f=[f,h,p,m]}else Oa=d,d=l;else Oa=d,d=l;else Oa=d,d=l;if(d===l){if(d=Oa,(f=e.substr(Oa,7)).toLowerCase()===re?Oa+=7:(f=l,0===Ba&&Ga(rr)),f!==l)if((h=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();if((m=e.substr(Oa,3)).toLowerCase()===oe?Oa+=3:(m=l,0===Ba&&Ga(or)),m!==l)if((b=js())!==l){for(w=[],v=qs();v!==l;)w.push(v),v=qs();d=f=[f,h,p,m,b,w]}else Oa=d,d=l;else Oa=d,d=l}else Oa=d,d=l;else Oa=d,d=l;if(d===l){if(d=Oa,(f=os())!==l)if((h=e.substr(Oa,9)).toLowerCase()===ie?Oa+=9:(h=l,0===Ba&&Ga(ir)),h!==l)if((p=js())!==l){for(m=[],b=qs();b!==l;)m.push(b),b=qs();d=f=[f,h,p,m]}else Oa=d,d=l;else Oa=d,d=l;else Oa=d,d=l;if(d===l)if(d=Oa,(f=e.substr(Oa,9)).toLowerCase()===te?Oa+=9:(f=l,0===Ba&&Ga(tr)),f!==l)if((h=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();if((m=e.substr(Oa,9)).toLowerCase()===ie?Oa+=9:(m=l,0===Ba&&Ga(ir)),m!==l)if((b=js())!==l){for(w=[],v=qs();v!==l;)w.push(v),v=qs();d=f=[f,h,p,m,b,w]}else Oa=d,d=l;else Oa=d,d=l}else Oa=d,d=l;else Oa=d,d=l}}d!==l?r=o=[o,i,a,s,c,$,u,d]:(Oa=r,r=l)}else Oa=r,r=l;else Oa=r,r=l;else Oa=r,r=l}else Oa=r,r=l;else Oa=r,r=l;if(r===l){if(r=Oa,(o=e.substr(Oa,9)).toLowerCase()===te?Oa+=9:(o=l,0===Ba&&Ga(tr)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();if((s=e.substr(Oa,9)).toLowerCase()===ne?Oa+=9:(s=l,0===Ba&&Ga(nr)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();r=o=[o,i,a,s,c,$]}else Oa=r,r=l;else Oa=r,r=l}else Oa=r,r=l;else Oa=r,r=l;if(r===l){if(r=Oa,(o=os())!==l)if((i=e.substr(Oa,9)).toLowerCase()===ne?Oa+=9:(i=l,0===Ba&&Ga(nr)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();r=o=[o,i,a,s]}else Oa=r,r=l;else Oa=r,r=l;else Oa=r,r=l;if(r===l)if(r=Oa,(o=e.substr(Oa,7)).toLowerCase()===re?Oa+=7:(o=l,0===Ba&&Ga(rr)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();if((s=e.substr(Oa,3)).toLowerCase()===oe?Oa+=3:(s=l,0===Ba&&Ga(or)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();r=o=[o,i,a,s,c,$]}else Oa=r,r=l;else Oa=r,r=l}else Oa=r,r=l;else Oa=r,r=l}}if(r!==l){if(o=Oa,(i=e.substr(Oa,7)).toLowerCase()===ae?Oa+=7:(i=l,0===Ba&&Ga(ar)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();if((c=e.substr(Oa,2)).toLowerCase()===se?Oa+=2:(c=l,0===Ba&&Ga(sr)),c!==l)if(($=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();if((d=e.substr(Oa,6)).toLowerCase()===$e?Oa+=6:(d=l,0===Ba&&Ga(cr)),d!==l)if((f=js())!==l){for(h=[],p=qs();p!==l;)h.push(p),p=qs();o=i=[i,a,s,c,$,u,d,f,h]}else Oa=o,o=l;else Oa=o,o=l}else Oa=o,o=l;else Oa=o,o=l}else Oa=o,o=l;else Oa=o,o=l;if(o===l){if(o=Oa,(i=e.substr(Oa,7)).toLowerCase()===ae?Oa+=7:(i=l,0===Ba&&Ga(ar)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();if((c=e.substr(Oa,7)).toLowerCase()===re?Oa+=7:(c=l,0===Ba&&Ga(rr)),c!==l)if(($=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();if((d=e.substr(Oa,3)).toLowerCase()===oe?Oa+=3:(d=l,0===Ba&&Ga(or)),d!==l)if((f=js())!==l){for(h=[],p=qs();p!==l;)h.push(p),p=qs();o=i=[i,a,s,c,$,u,d,f,h]}else Oa=o,o=l;else Oa=o,o=l}else Oa=o,o=l;else Oa=o,o=l}else Oa=o,o=l;else Oa=o,o=l;if(o===l){if(o=Oa,(i=e.substr(Oa,7)).toLowerCase()===ae?Oa+=7:(i=l,0===Ba&&Ga(ar)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();if((c=e.substr(Oa,5)).toLowerCase()===H?Oa+=5:(c=l,0===Ba&&Ga(Hn)),c!==l)if(($=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();o=i=[i,a,s,c,$,u]}else Oa=o,o=l;else Oa=o,o=l}else Oa=o,o=l;else Oa=o,o=l;if(o===l)if(o=Oa,(i=e.substr(Oa,7)).toLowerCase()===ae?Oa+=7:(i=l,0===Ba&&Ga(ar)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();if((c=e.substr(Oa,4)).toLowerCase()===ue?Oa+=4:(c=l,0===Ba&&Ga($r)),c!==l)if(($=js())!==l){for(u=[],d=qs();d!==l;)u.push(d),d=qs();o=i=[i,a,s,c,$,u]}else Oa=o,o=l;else Oa=o,o=l}else Oa=o,o=l;else Oa=o,o=l}}o===l&&(o=null),Aa=t,t=rl()}else Oa=t,t=l}else Oa=t,t=l;return t}function rs(){var t,n,r,o,i,a,s,c,$;if(t=Oa,42===e.charCodeAt(Oa)?(n=de,Oa++):(n=l,0===Ba&&Ga(ur)),n!==l&&(Aa=t,n=ol()),(t=n)===l&&(t=Oa,(n=cs())!==l?(42===e.charCodeAt(Oa)?(r=de,Oa++):(r=l,0===Ba&&Ga(ur)),r!==l?(Aa=t,t=il(n)):(Oa=t,t=l)):(Oa=t,t=l),t===l)){if(t=Oa,(n=os())!==l){for(r=Oa,o=[],i=qs();i!==l;)o.push(i),i=qs();if(r=e.substring(r,Oa),o=Oa,i=Oa,(a=e.substr(Oa,2)).toLowerCase()===m?Oa+=2:(a=l,0===Ba&&Ga(fn)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();i=a=[a,s,c]}else Oa=i,i=l;else Oa=i,i=l;(o=i!==l?e.substring(o,Oa):i)===l&&(o=null),(i=Os())!==l?(Aa=t,t=ll(n,r,o,i)):(Oa=t,t=l)}else Oa=t,t=l;t===l&&(t=Oa,(n=os())!==l&&(Aa=t,n=al(n)),t=n)}return t}function os(){var e,t,n,r,o,i;if(e=Oa,ss()!==l){for(t=Oa,n=Oa,Ba++,r=Oa,o=[],i=qs();i!==l;)o.push(i),i=qs();if((i=ls())!==l?r=o=[o,i]:(Oa=r,r=l),Ba--,r!==l?(Oa=n,n=void 0):n=l,n!==l){for(r=[],o=qs();o!==l;)r.push(o),o=qs();(o=ls())!==l?t=n=[n,r,o]:(Oa=t,t=l)}else Oa=t,t=l;t===l&&(t=null),Aa=e,e=sl()}else Oa=e,e=l;return e}function is(){var e,t,n,r,o,i,a;if(e=Oa,(t=ss())!==l){for(n=Oa,r=Oa,Ba++,o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();if((a=as())!==l?o=i=[i,a]:(Oa=o,o=l),Ba--,o!==l?(Oa=r,r=void 0):r=l,r!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();(i=as())!==l?n=r=[r,o,i]:(Oa=n,n=l)}else Oa=n,n=l;n===l&&(n=null),e=t=[t,n]}else Oa=e,e=l;return e}function ls(){var t,n,r,o,i;if(t=Oa,(n=e.substr(Oa,3)).toLowerCase()===le?Oa+=3:(n=l,0===Ba&&Ga(lr)),n!==l)if((r=js())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();(i=os())!==l?t=n=[n,r,o,i]:(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l;return t===l&&(t=as()),t}function as(){var t,n,r,o,i,a,s,c,$,u,f,p,m;if(t=Oa,(n=$s())!==l){for(r=[],o=qs();o!==l;)r.push(o),o=qs();(o=os())!==l?t=n=[n,r,o]:(Oa=t,t=l)}else Oa=t,t=l;if(t===l){if(t=Oa,(n=e.substr(Oa,7)).toLowerCase()===W?Oa+=7:(n=l,0===Ba&&Ga(Wn)),n!==l)if((r=js())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();(i=Os())!==l?t=n=[n,r,o,i]:(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l;if(t===l){if(t=Oa,n=Oa,(r=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:(r=l,0===Ba&&Ga(Rn)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();n=r=[r,o,i]}else Oa=n,n=l;else Oa=n,n=l;if(n===l&&(n=null),r=Oa,(o=e.substr(Oa,4)).toLowerCase()===fe?Oa+=4:(o=l,0===Ba&&Ga(dr)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();if((s=os())!==l){for(c=Oa,$=[],u=qs();u!==l;)$.push(u),u=qs();if((u=e.substr(Oa,6)).toLowerCase()===he?Oa+=6:(u=l,0===Ba&&Ga(fr)),u!==l)if((f=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();(m=os())!==l?c=$=[$,u,f,p,m]:(Oa=c,c=l)}else Oa=c,c=l;else Oa=c,c=l;c===l&&(c=null),r=o=[o,i,a,s,c]}else Oa=r,r=l}else Oa=r,r=l;else Oa=r,r=l;if(r===l)if(r=Oa,o=Oa,(i=e.substr(Oa,4)).toLowerCase()===pe?Oa+=4:(i=l,0===Ba&&Ga(hr)),i!==l&&(a=js())!==l?o=i=[i,a]:(Oa=o,o=l),o===l&&(o=Oa,(i=e.substr(Oa,6)).toLowerCase()===me?Oa+=6:(i=l,0===Ba&&Ga(pr)),i!==l&&(a=js())!==l?o=i=[i,a]:(Oa=o,o=l),o===l&&(o=Oa,(i=e.substr(Oa,5)).toLowerCase()===be?Oa+=5:(i=l,0===Ba&&Ga(mr)),i!==l&&(a=js())!==l?o=i=[i,a]:(Oa=o,o=l))),o!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();(a=os())!==l?r=o=[o,i,a]:(Oa=r,r=l)}else Oa=r,r=l;if(r!==l?t=n=[n,r]:(Oa=t,t=l),t===l&&(t=Oa,(n=e.substr(Oa,6)).toLowerCase()===we?Oa+=6:(n=l,0===Ba&&Ga(br)),n!==l&&(r=js())!==l?t=n=[n,r]:(Oa=t,t=l),t===l&&(t=Oa,(n=e.substr(Oa,7)).toLowerCase()===ve?Oa+=7:(n=l,0===Ba&&Ga(wr)),n!==l&&(r=js())!==l?t=n=[n,r]:(Oa=t,t=l),t===l))){if(t=Oa,(n=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:(n=l,0===Ba&&Ga(Rn)),n!==l)if((r=js())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();(i=e.substr(Oa,4)).toLowerCase()===ge?Oa+=4:(i=l,0===Ba&&Ga(vr)),i!==l&&(a=js())!==l?t=n=[n,r,o,i,a]:(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l;if(t===l){if(t=Oa,(n=e.substr(Oa,2)).toLowerCase()===ye?Oa+=2:(n=l,0===Ba&&Ga(gr)),n!==l)if((r=js())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();if(i=Oa,(a=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:(a=l,0===Ba&&Ga(Rn)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();i=a=[a,s,c]}else Oa=i,i=l;else Oa=i,i=l;if(i===l&&(i=null),a=Oa,(s=e.substr(Oa,8)).toLowerCase()===B?Oa+=8:(s=l,0===Ba&&Ga(Bn)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();if((u=e.substr(Oa,4)).toLowerCase()===A?Oa+=4:(u=l,0===Ba&&Ga(On)),u!==l)if((f=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();a=s=[s,c,$,u,f,p]}else Oa=a,a=l;else Oa=a,a=l}else Oa=a,a=l;else Oa=a,a=l;a===l&&(a=null),(s=os())!==l?t=n=[n,r,o,i,a,s]:(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l;if(t===l){if(t=Oa,n=Oa,(r=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:(r=l,0===Ba&&Ga(Rn)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();n=r=[r,o,i]}else Oa=n,n=l;else Oa=n,n=l;if(n===l&&(n=null),(r=e.substr(Oa,7)).toLowerCase()===ee?Oa+=7:(r=l,0===Ba&&Ga(er)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();if((a=is())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();if((c=e.substr(Oa,3)).toLowerCase()===le?Oa+=3:(c=l,0===Ba&&Ga(lr)),c!==l)if(($=js())!==l){for(u=[],f=qs();f!==l;)u.push(f),f=qs();(f=os())!==l?t=n=[n,r,o,i,a,s,c,$,u,f]:(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;if(t===l){if(t=Oa,n=Oa,(r=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:(r=l,0===Ba&&Ga(Rn)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();n=r=[r,o,i]}else Oa=n,n=l;else Oa=n,n=l;if(n===l&&(n=null),(r=e.substr(Oa,2)).toLowerCase()===xe?Oa+=2:(r=l,0===Ba&&Ga(yr)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();if(a=Oa,40===e.charCodeAt(Oa)?(s=d,Oa++):(s=l,0===Ba&&Ga(sn)),s!==l?(c=zs(),41===e.charCodeAt(Oa)?($=h,Oa++):($=l,0===Ba&&Ga($n)),$!==l?a=s=[s,c,$]:(Oa=a,a=l)):(Oa=a,a=l),a===l){if(a=Oa,(s=cs())===l&&(s=null),c=Oa,($=Os())!==l){for(u=[],f=qs();f!==l;)u.push(f),f=qs();40===e.charCodeAt(Oa)?(f=d,Oa++):(f=l,0===Ba&&Ga(sn)),f!==l?(p=zs(),41===e.charCodeAt(Oa)?(m=h,Oa++):(m=l,0===Ba&&Ga($n)),m!==l?c=$=[$,u,f,p,m]:(Oa=c,c=l)):(Oa=c,c=l)}else Oa=c,c=l;c===l&&(c=Os()),c!==l?a=s=[s,c]:(Oa=a,a=l)}a!==l?t=n=[n,r,o,i,a]:(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l}}}}}}return t}function ss(){var t,n,r,o,i,a,s,c,$,u,f,p,b,w,v,g,y,x;if((t=ys())===l){if(t=Oa,n=Oa,Ba++,r=Oa,(o=vs())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();(a=os())!==l?r=o=[o,i,a]:(Oa=r,r=l)}else Oa=r,r=l;if(Ba--,r!==l?(Oa=n,n=void 0):n=l,n!==l)if((r=vs())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();(i=os())!==l?t=n=[n,r,o,i]:(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l;if(t===l&&(t=ws())===l){if(t=Oa,n=Oa,Ba++,r=Oa,(o=Os())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();if(40===e.charCodeAt(Oa)?(a=d,Oa++):(a=l,0===Ba&&Ga(sn)),a!==l)if(s=zs(),41===e.charCodeAt(Oa)?(c=h,Oa++):(c=l,0===Ba&&Ga($n)),c!==l){for($=Oa,u=[],f=qs();f!==l;)u.push(f),f=qs();for((f=ms())!==l?$=u=[u,f]:(Oa=$,$=l),$===l&&($=null),u=Oa,f=[],p=qs();p!==l;)f.push(p),p=qs();(p=bs())!==l?u=f=[f,p]:(Oa=u,u=l),u===l&&(u=null),r=o=[o,i,a,s,c,$,u]}else Oa=r,r=l;else Oa=r,r=l}else Oa=r,r=l;if(Ba--,r!==l?(Oa=n,n=void 0):n=l,n!==l)if((r=Os())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();if(40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l)if(a=zs(),41===e.charCodeAt(Oa)?(s=h,Oa++):(s=l,0===Ba&&Ga($n)),s!==l){for(c=Oa,$=[],u=qs();u!==l;)$.push(u),u=qs();for((u=ms())!==l?c=$=[$,u]:(Oa=c,c=l),c===l&&(c=null),$=Oa,u=[],f=qs();f!==l;)u.push(f),f=qs();(f=bs())!==l?$=u=[u,f]:(Oa=$,$=l),$===l&&($=null),t=n=[n,r,o,i,a,s,c,$]}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;if(t===l&&(t=Oa,40===e.charCodeAt(Oa)?(n=d,Oa++):(n=l,0===Ba&&Ga(sn)),n!==l?(r=zs(),41===e.charCodeAt(Oa)?(o=h,Oa++):(o=l,0===Ba&&Ga($n)),o!==l?t=n=[n,r,o]:(Oa=t,t=l)):(Oa=t,t=l),t===l)){if(t=Oa,(n=e.substr(Oa,4)).toLowerCase()===Ee?Oa+=4:(n=l,0===Ba&&Ga(xr)),n!==l)if((r=js())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();if(40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();if((s=os())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();if(($=e.substr(Oa,2)).toLowerCase()===m?Oa+=2:($=l,0===Ba&&Ga(fn)),$!==l)if((u=js())!==l){for(f=[],p=qs();p!==l;)f.push(p),p=qs();for(p=zs(),b=[],w=qs();w!==l;)b.push(w),w=qs();41===e.charCodeAt(Oa)?(w=h,Oa++):(w=l,0===Ba&&Ga($n)),w!==l?t=n=[n,r,o,i,a,s,c,$,u,f,p,b,w]:(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;if(t===l){if(t=Oa,n=Oa,(r=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:(r=l,0===Ba&&Ga(Rn)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();n=r=[r,o,i]}else Oa=n,n=l;else Oa=n,n=l;if(n===l&&(n=null),r=Oa,(o=e.substr(Oa,6)).toLowerCase()===O?Oa+=6:(o=l,0===Ba&&Ga(Nn)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();r=o=[o,i,a]}else Oa=r,r=l;else Oa=r,r=l;if(r===l&&(r=null),40===e.charCodeAt(Oa)?(o=d,Oa++):(o=l,0===Ba&&Ga(sn)),o!==l?(i=zs(),41===e.charCodeAt(Oa)?(a=h,Oa++):(a=l,0===Ba&&Ga($n)),a!==l?t=n=[n,r,o,i,a]:(Oa=t,t=l)):(Oa=t,t=l),t===l){if(t=Oa,(n=e.substr(Oa,4)).toLowerCase()===Ce?Oa+=4:(n=l,0===Ba&&Ga(Er)),n!==l)if((r=js())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();if(i=Oa,a=Oa,Ba++,s=Oa,(c=e.substr(Oa,4)).toLowerCase()===Te?Oa+=4:(c=l,0===Ba&&Ga(Cr)),c!==l&&($=js())!==l?s=c=[c,$]:(Oa=s,s=l),Ba--,s===l?a=void 0:(Oa=a,a=l),a!==l)if((s=os())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();i=a=[a,s,c]}else Oa=i,i=l;else Oa=i,i=l;if(i===l&&(i=null),a=[],s=Oa,(c=e.substr(Oa,4)).toLowerCase()===Te?Oa+=4:(c=l,0===Ba&&Ga(Cr)),c!==l)if(($=js())!==l){for(u=[],f=qs();f!==l;)u.push(f),f=qs();if((f=os())!==l){for(p=[],b=qs();b!==l;)p.push(b),b=qs();if((b=e.substr(Oa,4)).toLowerCase()===_e?Oa+=4:(b=l,0===Ba&&Ga(Tr)),b!==l)if((w=js())!==l){for(v=[],g=qs();g!==l;)v.push(g),g=qs();if((g=os())!==l){for(y=[],x=qs();x!==l;)y.push(x),x=qs();s=c=[c,$,u,f,p,b,w,v,g,y]}else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l}else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l;if(s!==l)for(;s!==l;)if(a.push(s),s=Oa,(c=e.substr(Oa,4)).toLowerCase()===Te?Oa+=4:(c=l,0===Ba&&Ga(Cr)),c!==l)if(($=js())!==l){for(u=[],f=qs();f!==l;)u.push(f),f=qs();if((f=os())!==l){for(p=[],b=qs();b!==l;)p.push(b),b=qs();if((b=e.substr(Oa,4)).toLowerCase()===_e?Oa+=4:(b=l,0===Ba&&Ga(Tr)),b!==l)if((w=js())!==l){for(v=[],g=qs();g!==l;)v.push(g),g=qs();if((g=os())!==l){for(y=[],x=qs();x!==l;)y.push(x),x=qs();s=c=[c,$,u,f,p,b,w,v,g,y]}else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l}else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l;else a=l;if(a!==l){if(s=Oa,(c=e.substr(Oa,4)).toLowerCase()===ke?Oa+=4:(c=l,0===Ba&&Ga(_r)),c!==l)if(($=js())!==l){for(u=[],f=qs();f!==l;)u.push(f),f=qs();if((f=os())!==l){for(p=[],b=qs();b!==l;)p.push(b),b=qs();s=c=[c,$,u,f,p]}else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l;s===l&&(s=null),(c=e.substr(Oa,3)).toLowerCase()===Se?Oa+=3:(c=l,0===Ba&&Ga(kr)),c!==l&&($=js())!==l?t=n=[n,r,o,i,a,s,c,$]:(Oa=t,t=l)}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;if(t===l&&(t=Oa,(n=cs())===l&&(n=null),(r=cs())===l&&(r=null),(o=Os())!==l?t=n=[n,r,o]:(Oa=t,t=l),t===l))if(t=Oa,(n=e.substr(Oa,5)).toLowerCase()===Ie?Oa+=5:(n=l,0===Ba&&Ga(Sr)),n!==l)if((r=js())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l?(a=zs(),41===e.charCodeAt(Oa)?(s=h,Oa++):(s=l,0===Ba&&Ga($n)),s!==l?t=n=[n,r,o,i,a,s]:(Oa=t,t=l)):(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l}}}}}return t}function cs(){var t,n,r,o,i,a,s,c;if(t=Oa,n=Oa,(r=e.substr(Oa,4)).toLowerCase()===Me?Oa+=4:(r=l,0===Ba&&Ga(Ir)),r!==l&&(Aa=n,r=cl()),(n=r)===l&&(n=Os()),n!==l){for(r=Oa,o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();if(46===e.charCodeAt(Oa)?(a=Re,Oa++):(a=l,0===Ba&&Ga(Mr)),a!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();o=i=[i,a,s]}else Oa=o,o=l;(r=o!==l?e.substring(r,Oa):o)!==l?(Aa=t,t=$l(n,r)):(Oa=t,t=l)}else Oa=t,t=l;return t}function $s(){var t,n,r;return e.substr(Oa,2)===Ne?(t=Ne,Oa+=2):(t=l,0===Ba&&Ga(Rr)),t===l&&(e.substr(Oa,2)===Le?(t=Le,Oa+=2):(t=l,0===Ba&&Ga(Nr)),t===l&&(e.substr(Oa,2)===Oe?(t=Oe,Oa+=2):(t=l,0===Ba&&Ga(Lr)),t===l&&(e.substr(Oa,2)===Ae?(t=Ae,Oa+=2):(t=l,0===Ba&&Ga(Or)),t===l&&(e.substr(Oa,2)===De?(t=De,Oa+=2):(t=l,0===Ba&&Ga(Ar)),t===l&&(e.substr(Oa,2)===Fe?(t=Fe,Oa+=2):(t=l,0===Ba&&Ga(Dr)),t===l&&(e.substr(Oa,2)===Ue?(t=Ue,Oa+=2):(t=l,0===Ba&&Ga(Fr)),t===l&&(e.substr(Oa,2)===Be?(t=Be,Oa+=2):(t=l,0===Ba&&Ga(Ur)),t===l&&(t=e.charAt(Oa),Ht.test(t)?Oa++:(t=l,0===Ba&&Ga(Br)),t===l&&(t=Oa,(n=e.substr(Oa,2)).toLowerCase()===ze?Oa+=2:(n=l,0===Ba&&Ga(zr)),n!==l&&(r=js())!==l?t=n=[n,r]:(Oa=t,t=l)))))))))),t}function us(){var t,n,r,o,i,a,s,c,$,u,p,m,b,w,v;if(t=Oa,(n=cs())===l&&(n=null),(r=Os())!==l){for(o=Oa,i=[],a=qs();a!==l;)i.push(a),a=qs();if(o=e.substring(o,Oa),40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l){for(a=Oa,s=[],c=Oa,$=Oa,u=[],p=qs();p!==l;)u.push(p),p=qs();if($=e.substring($,Oa),(u=os())!==l){for(p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();p=e.substring(p,Oa),Aa=c,c=ul(n,r,o,$,u,p)}else Oa=c,c=l;for(;c!==l;)if(s.push(c),c=Oa,44===e.charCodeAt(Oa)?($=f,Oa++):($=l,0===Ba&&Ga(cn)),$!==l){for($=Oa,u=Oa,p=[],m=qs();m!==l;)p.push(m),m=qs();if(u=e.substring(u,Oa),(p=os())!==l){for(m=Oa,b=[],w=qs();w!==l;)b.push(w),w=qs();m=e.substring(m,Oa),Aa=$,$=ul(n,r,o,u,p,m)}else Oa=$,$=l;$===l?(Oa=c,c=l):c=$}else c=$;s.length<1?(Oa=a,a=l):a=s,a!==l?(41===e.charCodeAt(Oa)?(s=h,Oa++):(s=l,0===Ba&&Ga($n)),s!==l?((c=ds())===l&&(c=null),Aa=t,t=dl(n,r,o,a,c)):(Oa=t,t=l)):(Oa=t,t=l)}else Oa=t,t=l}else Oa=t,t=l;if(t===l){if(t=Oa,(n=cs())===l&&(n=null),(r=Os())!==l){for((o=ds())===l&&(o=null),i=Oa,a=Oa,s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(($=e.substr(Oa,7)).toLowerCase()===D?Oa+=7:($=l,0===Ba&&Ga(Dn)),$!==l)if((u=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();if((m=e.substr(Oa,2)).toLowerCase()===F?Oa+=2:(m=l,0===Ba&&Ga(Fn)),m!==l)if((b=js())!==l){for(w=[],v=qs();v!==l;)w.push(v),v=qs();s=c=[c,$,u,p,m,b,w]}else Oa=s,s=l;else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l;if((a=s!==l?e.substring(a,Oa):s)!==l&&(s=Os())!==l?(Aa=i,i=fl(n,r,o,a,s)):(Oa=i,i=l),i===l){for(i=Oa,a=Oa,s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(($=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:($=l,0===Ba&&Ga(Rn)),$!==l)if((u=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();if((m=e.substr(Oa,7)).toLowerCase()===D?Oa+=7:(m=l,0===Ba&&Ga(Dn)),m!==l)if((b=js())!==l){for(w=[],v=qs();v!==l;)w.push(v),v=qs();s=c=[c,$,u,p,m,b,w]}else Oa=s,s=l;else Oa=s,s=l}else Oa=s,s=l;else Oa=s,s=l;(a=s!==l?e.substring(a,Oa):s)!==l&&(Aa=i,a=hl(n,r,o,a)),i=a}i===l&&(i=null),Aa=t,t=pl(n,r,o,i)}else Oa=t,t=l;t===l&&(t=Oa,40===e.charCodeAt(Oa)?(n=d,Oa++):(n=l,0===Ba&&Ga(sn)),n!==l?(r=Oa,o=zs(),r=e.substring(r,Oa),41===e.charCodeAt(Oa)?(o=h,Oa++):(o=l,0===Ba&&Ga($n)),o!==l?((i=ds())===l&&(i=null),Aa=t,t=ml(r,i)):(Oa=t,t=l)):(Oa=t,t=l))}return t}function ds(){var t,n,r,o,i,a,s,c;for(t=Oa,n=Oa,r=[],o=qs();o!==l;)r.push(o),o=qs();if(n=e.substring(n,Oa),r=Oa,o=Oa,(i=e.substr(Oa,2)).toLowerCase()===m?Oa+=2:(i=l,0===Ba&&Ga(fn)),i!==l)if((a=js())!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();o=i=[i,a,s]}else Oa=o,o=l;else Oa=o,o=l;return(r=o!==l?e.substring(r,Oa):o)===l&&(r=null),(o=Os())!==l?(Aa=t,t=bl(n,r,o)):(Oa=t,t=l),t}function fs(){var t,n,r,o,i,a,s,c,$,u,d;if(t=Oa,(n=us())!==l){for(r=[],o=Oa,i=Oa,a=[],s=qs();s!==l;)a.push(s),s=qs();if(i=e.substring(i,Oa),(a=hs())!==l){for(s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(s=e.substring(s,Oa),(c=us())!==l){for($=Oa,u=[],d=qs();d!==l;)u.push(d),d=qs();$=e.substring($,Oa),u=ps(),Aa=o,o=wl(n,i,a,s,c,$,u)}else Oa=o,o=l}else Oa=o,o=l;for(;o!==l;){for(r.push(o),o=Oa,i=Oa,a=[],s=qs();s!==l;)a.push(s),s=qs();if(i=e.substring(i,Oa),(a=hs())!==l){for(s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(s=e.substring(s,Oa),(c=us())!==l){for($=Oa,u=[],d=qs();d!==l;)u.push(d),d=qs();$=e.substring($,Oa),u=ps(),Aa=o,o=wl(n,i,a,s,c,$,u)}else Oa=o,o=l}else Oa=o,o=l}Aa=t,t=vl(n,r)}else Oa=t,t=l;return t}function hs(){var t,n,r,o,i,a,s;if(t=Oa,44===e.charCodeAt(Oa)?(n=f,Oa++):(n=l,0===Ba&&Ga(cn)),n!==l&&(Aa=t,n=gl()),(t=n)===l){if(t=Oa,n=[],r=Oa,o=Oa,Ba++,i=Oa,(a=e.substr(Oa,4)).toLowerCase()===Pe?Oa+=4:(a=l,0===Ba&&Ga(Pr)),a!==l&&(s=js())!==l?i=a=[a,s]:(Oa=i,i=l),Ba--,i===l?o=void 0:(Oa=o,o=l),o!==l)if((i=Fs())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();r=o=[o,i,a]}else Oa=r,r=l;else Oa=r,r=l;for(;r!==l;)if(n.push(r),r=Oa,o=Oa,Ba++,i=Oa,(a=e.substr(Oa,4)).toLowerCase()===Pe?Oa+=4:(a=l,0===Ba&&Ga(Pr)),a!==l&&(s=js())!==l?i=a=[a,s]:(Oa=i,i=l),Ba--,i===l?o=void 0:(Oa=o,o=l),o!==l)if((i=Fs())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();r=o=[o,i,a]}else Oa=r,r=l;else Oa=r,r=l;(r=e.substr(Oa,4)).toLowerCase()===Pe?Oa+=4:(r=l,0===Ba&&Ga(Pr)),r!==l&&(o=js())!==l?(Aa=t,t=yl()):(Oa=t,t=l)}return t}function ps(){var t,n,r,o,i,a,s,c,$,u,p,m;if(t=Oa,n=Oa,r=Oa,(o=e.substr(Oa,2)).toLowerCase()===v?Oa+=2:(o=l,0===Ba&&Ga(mn)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();r=o=[o,i,a]}else Oa=r,r=l;else Oa=r,r=l;if((n=r!==l?e.substring(n,Oa):r)!==l&&(r=os())!==l?(Aa=t,t=xl(n,r)):(Oa=t,t=l),t===l){if(t=Oa,n=Oa,r=Oa,(o=e.substr(Oa,5)).toLowerCase()===S?Oa+=5:(o=l,0===Ba&&Ga(Tn)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();r=o=[o,i,a]}else Oa=r,r=l;else Oa=r,r=l;if((n=r!==l?e.substring(n,Oa):r)!==l)if(40===e.charCodeAt(Oa)?(r=d,Oa++):(r=l,0===Ba&&Ga(sn)),r!==l){for(o=Oa,i=[],a=Oa,s=Oa,c=[],$=qs();$!==l;)c.push($),$=qs();if(s=e.substring(s,Oa),(c=Os())!==l){for($=Oa,u=[],p=qs();p!==l;)u.push(p),p=qs();$=e.substring($,Oa),Aa=a,a=El(n,s,c,$)}else Oa=a,a=l;for(;a!==l;)if(i.push(a),a=Oa,44===e.charCodeAt(Oa)?(s=f,Oa++):(s=l,0===Ba&&Ga(cn)),s!==l){for(s=Oa,c=Oa,$=[],u=qs();u!==l;)$.push(u),u=qs();if(c=e.substring(c,Oa),($=Os())!==l){for(u=Oa,p=[],m=qs();m!==l;)p.push(m),m=qs();u=e.substring(u,Oa),Aa=s,s=El(n,c,$,u)}else Oa=s,s=l;s===l?(Oa=a,a=l):a=s}else a=s;i.length<1?(Oa=o,o=l):o=i,o!==l?(41===e.charCodeAt(Oa)?(i=h,Oa++):(i=l,0===Ba&&Ga($n)),i!==l?(Aa=t,t=Cl(n,o)):(Oa=t,t=l)):(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l}return t===l&&(t=null),t}function ms(){var t,n,r,o,i,a,s,c,$,u,f,p;if(t=Oa,(n=e.substr(Oa,6)).toLowerCase()===He?Oa+=6:(n=l,0===Ba&&Ga(Hr)),n!==l)if((r=js())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();if(40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();if((s=e.substr(Oa,5)).toLowerCase()===P?Oa+=5:(s=l,0===Ba&&Ga(Pn)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();if((u=os())!==l){for(f=[],p=qs();p!==l;)f.push(p),p=qs();41===e.charCodeAt(Oa)?(p=h,Oa++):(p=l,0===Ba&&Ga($n)),p!==l?t=n=[n,r,o,i,a,s,c,$,u,f,p]:(Oa=t,t=l)}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;return t}function bs(){var t,n,r,o,i,a,s,c;if(t=Oa,(n=e.substr(Oa,4)).toLowerCase()===Ve?Oa+=4:(n=l,0===Ba&&Ga(Vr)),n!==l)if((r=js())!==l){for(o=[],i=qs();i!==l;)o.push(i),i=qs();(i=Os())===l&&(i=Oa,40===e.charCodeAt(Oa)?(a=d,Oa++):(a=l,0===Ba&&Ga(sn)),a!==l?(s=zs(),41===e.charCodeAt(Oa)?(c=h,Oa++):(c=l,0===Ba&&Ga($n)),c!==l?i=a=[a,s,c]:(Oa=i,i=l)):(Oa=i,i=l)),i!==l?t=n=[n,r,o,i]:(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l;return t}function ws(){var t,n,r;return t=Oa,n=Oa,Ba++,e.length>Oa?(r=e.charAt(Oa),Oa++):(r=l,0===Ba&&Ga(un)),Ba--,r===l?n=void 0:(Oa=n,n=l),n!==l?(e.length>Oa?(r=e.charAt(Oa),Oa++):(r=l,0===Ba&&Ga(un)),r!==l?t=n=[n,r]:(Oa=t,t=l)):(Oa=t,t=l),t}function vs(){var t,n,r;return t=e.charAt(Oa),Vt.test(t)?Oa++:(t=l,0===Ba&&Ga(jr)),t===l&&(t=Oa,(n=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:(n=l,0===Ba&&Ga(Rn)),n!==l&&(r=js())!==l?t=n=[n,r]:(Oa=t,t=l)),t}function gs(){var t,n,r,o,i,a,s,c,$,u;if(t=Oa,(n=e.substr(Oa,2)).toLowerCase()===ze?Oa+=2:(n=l,0===Ba&&Ga(zr)),n!==l){for(r=[],o=qs();o!==l;)r.push(o),o=qs();if((o=Os())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();if((a=e.substr(Oa,2)).toLowerCase()===ye?Oa+=2:(a=l,0===Ba&&Ga(gr)),a!==l){for(s=[],c=qs();c!==l;)s.push(c),c=qs();if((c=e.substr(Oa,4)).toLowerCase()===ge?Oa+=4:(c=l,0===Ba&&Ga(vr)),c!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();Aa=t,t=Ll()}else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l}else Oa=t,t=l;return t}function ys(){var t,n,r,o,i;return t=Oa,n=Oa,Ba++,r=Oa,(o=e.substr(Oa,4)).toLowerCase()===ge?Oa+=4:(o=l,0===Ba&&Ga(vr)),o!==l&&(i=Vs())!==l?r=o=[o,i]:(Oa=r,r=l),Ba--,r===l?n=void 0:(Oa=n,n=l),n!==l?((r=e.substr(Oa,4)).toLowerCase()===ge?Oa+=4:(r=l,0===Ba&&Ga(vr)),r!==l?(Aa=t,t=Fl()):(Oa=t,t=l)):(Oa=t,t=l),t===l&&(t=Oa,n=Oa,Ba++,r=Oa,(o=e.substr(Oa,4)).toLowerCase()===Qe?Oa+=4:(o=l,0===Ba&&Ga(Jr)),o!==l&&(i=Vs())!==l?r=o=[o,i]:(Oa=r,r=l),Ba--,r===l?n=void 0:(Oa=n,n=l),n!==l?((r=e.substr(Oa,4)).toLowerCase()===Qe?Oa+=4:(r=l,0===Ba&&Ga(Jr)),r!==l?(Aa=t,t=Ul()):(Oa=t,t=l)):(Oa=t,t=l),t===l&&(t=Oa,n=Oa,Ba++,r=Oa,(o=e.substr(Oa,5)).toLowerCase()===Ke?Oa+=5:(o=l,0===Ba&&Ga(Xr)),o!==l&&(i=Vs())!==l?r=o=[o,i]:(Oa=r,r=l),Ba--,r===l?n=void 0:(Oa=n,n=l),n!==l?((r=e.substr(Oa,5)).toLowerCase()===Ke?Oa+=5:(r=l,0===Ba&&Ga(Xr)),r!==l?(Aa=t,t=Bl()):(Oa=t,t=l)):(Oa=t,t=l),t===l&&(t=Oa,n=Oa,Ba++,r=Oa,(o=e.substr(Oa,17)).toLowerCase()===Ye?Oa+=17:(o=l,0===Ba&&Ga(Zr)),o!==l&&(i=Vs())!==l?r=o=[o,i]:(Oa=r,r=l),Ba--,r===l?n=void 0:(Oa=n,n=l),n!==l?((r=e.substr(Oa,17)).toLowerCase()===Ye?Oa+=17:(r=l,0===Ba&&Ga(Zr)),r!==l?(Aa=t,t=zl()):(Oa=t,t=l)):(Oa=t,t=l),t===l&&(t=Oa,n=Oa,Ba++,r=Oa,(o=e.substr(Oa,12)).toLowerCase()===Je?Oa+=12:(o=l,0===Ba&&Ga(eo)),o!==l&&(i=Vs())!==l?r=o=[o,i]:(Oa=r,r=l),Ba--,r===l?n=void 0:(Oa=n,n=l),n!==l?((r=e.substr(Oa,12)).toLowerCase()===Je?Oa+=12:(r=l,0===Ba&&Ga(eo)),r!==l?(Aa=t,t=Pl()):(Oa=t,t=l)):(Oa=t,t=l),t===l&&(t=Oa,n=Oa,Ba++,r=Oa,(o=e.substr(Oa,12)).toLowerCase()===Xe?Oa+=12:(o=l,0===Ba&&Ga(to)),o!==l&&(i=Vs())!==l?r=o=[o,i]:(Oa=r,r=l),Ba--,r===l?n=void 0:(Oa=n,n=l),n!==l?((r=e.substr(Oa,12)).toLowerCase()===Xe?Oa+=12:(r=l,0===Ba&&Ga(to)),r!==l?(Aa=t,t=Hl()):(Oa=t,t=l)):(Oa=t,t=l),t===l&&(t=Ms())===l&&(t=Ss())===l&&(t=Is())))))),t}function xs(){var t,n,r,o,i,a;if(t=Oa,n=Oa,(r=e.substr(Oa,9)).toLowerCase()===Ze?Oa+=9:(r=l,0===Ba&&Ga(no)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();n=r=[r,o,i]}else Oa=n,n=l;else Oa=n,n=l;if(n===l)if(n=Oa,(r=e.substr(Oa,4)).toLowerCase()===Me?Oa+=4:(r=l,0===Ba&&Ga(ro)),r!==l)if((o=js())!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();n=r=[r,o,i]}else Oa=n,n=l;else Oa=n,n=l;return n!==l?e.substring(t,Oa):n}function Es(){var t,n,r,o;for(t=Oa,n=Oa,r=[],o=qs();o!==l;)r.push(o),o=qs();return n=e.substring(n,Oa),(r=Ds())!==l?(o=Oa,Bs(),o=e.substring(o,Oa),Aa=t,t=jl(n,r,o)):(Oa=t,t=l),t}function Cs(){var t,n,r,o,i,a,s,c,$;if(t=Oa,n=Oa,(r=Os())!==l&&(Aa=n,r=Zl(r)),(n=r)===l&&(n=Oa,(r=os())!==l&&(Aa=n,r=ea(r)),n=r),n!==l){if(r=Oa,o=Oa,i=Oa,(a=e.substr(Oa,7)).toLowerCase()===W?Oa+=7:(a=l,0===Ba&&Ga(Wn)),a!==l)if((s=js())!==l){for(c=[],$=qs();$!==l;)c.push($),$=qs();i=a=[a,s,c]}else Oa=i,i=l;else Oa=i,i=l;(o=i!==l?e.substring(o,Oa):i)!==l&&(i=Os())!==l?(Aa=r,r=ta(n,o,i)):(Oa=r,r=l),r===l&&(r=null),(o=Ts())===l&&(o=null),Aa=t,t=na(n,r,o)}else Oa=t,t=l;return t}function Ts(){var t,n,r,o;if(t=Oa,(n=e.substr(Oa,3)).toLowerCase()===lt?Oa+=3:(n=l,0===Ba&&Ga($o)),n!==l)if(js()!==l){for(r=[],o=qs();o!==l;)r.push(o),o=qs();Aa=t,t=ra()}else Oa=t,t=l;else Oa=t,t=l;if(t===l)if(t=Oa,(n=e.substr(Oa,4)).toLowerCase()===at?Oa+=4:(n=l,0===Ba&&Ga(uo)),n!==l)if(js()!==l){for(r=[],o=qs();o!==l;)r.push(o),o=qs();Aa=t,t=oa()}else Oa=t,t=l;else Oa=t,t=l;return t}function _s(){var t,n,r,o,i,a,s,c,$,u,p,m,b,w,g,y,x,E;if(t=Oa,n=Oa,r=Oa,(o=e.substr(Oa,10)).toLowerCase()===st?Oa+=10:(o=l,0===Ba&&Ga(fo)),o!==l)if((i=js())!==l){for(a=[],s=qs();s!==l;)a.push(s),s=qs();r=o=[o,i,a]}else Oa=r,r=l;else Oa=r,r=l;if((n=r!==l?e.substring(n,Oa):r)!==l)if((r=Os())!==l){if(o=Oa,40===e.charCodeAt(Oa)?(i=d,Oa++):(i=l,0===Ba&&Ga(sn)),i!==l){for(a=Oa,s=[],c=Oa,$=Oa,u=[],p=qs();p!==l;)u.push(p),p=qs();if($=e.substring($,Oa),(u=Os())!==l){for(p=Oa,m=[],b=qs();b!==l;)m.push(b),b=qs();p=e.substring(p,Oa),Aa=c,c=ia(n,r,$,u,p)}else Oa=c,c=l;for(;c!==l;)if(s.push(c),c=Oa,44===e.charCodeAt(Oa)?($=f,Oa++):($=l,0===Ba&&Ga(cn)),$!==l){for($=Oa,u=Oa,p=[],m=qs();m!==l;)p.push(m),m=qs();if(u=e.substring(u,Oa),(p=Os())!==l){for(m=Oa,b=[],w=qs();w!==l;)b.push(w),w=qs();m=e.substring(m,Oa),Aa=$,$=ia(n,r,u,p,m)}else Oa=$,$=l;$===l?(Oa=c,c=l):c=$}else c=$;s.length<1?(Oa=a,a=l):a=s,a!==l?(41===e.charCodeAt(Oa)?(s=h,Oa++):(s=l,0===Ba&&Ga($n)),s!==l?o=a:(Oa=o,o=l)):(Oa=o,o=l)}else Oa=o,o=l;if(o===l&&(o=null),i=[],a=Oa,(s=e.substr(Oa,2)).toLowerCase()===v?Oa+=2:(s=l,0===Ba&&Ga(mn)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();if(u=Oa,(p=e.substr(Oa,6)).toLowerCase()===T?Oa+=6:(p=l,0===Ba&&Ga(xn)),p!==l)if((m=js())!==l){for(b=[],w=qs();w!==l;)b.push(w),w=qs();u=p=[p,m,b]}else Oa=u,u=l;else Oa=u,u=l;if(u===l)if(u=Oa,(p=e.substr(Oa,6)).toLowerCase()===k?Oa+=6:(p=l,0===Ba&&Ga(Cn)),p!==l)if((m=js())!==l){for(b=[],w=qs();w!==l;)b.push(w),w=qs();u=p=[p,m,b]}else Oa=u,u=l;else Oa=u,u=l;if(u!==l){if(p=Oa,(m=e.substr(Oa,3)).toLowerCase()===ct?Oa+=3:(m=l,0===Ba&&Ga(ho)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();if((g=e.substr(Oa,4)).toLowerCase()===ge?Oa+=4:(g=l,0===Ba&&Ga(vr)),g!==l)if((y=js())!==l){for(x=[],E=qs();E!==l;)x.push(E),E=qs();p=m=[m,b,w,g,y,x]}else Oa=p,p=l;else Oa=p,p=l}else Oa=p,p=l;else Oa=p,p=l;if(p===l){if(p=Oa,(m=e.substr(Oa,3)).toLowerCase()===ct?Oa+=3:(m=l,0===Ba&&Ga(ho)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();if((g=e.substr(Oa,7)).toLowerCase()===$t?Oa+=7:(g=l,0===Ba&&Ga(po)),g!==l)if((y=js())!==l){for(x=[],E=qs();E!==l;)x.push(E),E=qs();p=m=[m,b,w,g,y,x]}else Oa=p,p=l;else Oa=p,p=l}else Oa=p,p=l;else Oa=p,p=l;if(p===l){if(p=Oa,(m=e.substr(Oa,7)).toLowerCase()===ut?Oa+=7:(m=l,0===Ba&&Ga(mo)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();p=m=[m,b,w]}else Oa=p,p=l;else Oa=p,p=l;if(p===l){if(p=Oa,(m=e.substr(Oa,8)).toLowerCase()===dt?Oa+=8:(m=l,0===Ba&&Ga(bo)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();p=m=[m,b,w]}else Oa=p,p=l;else Oa=p,p=l;if(p===l)if(p=Oa,(m=e.substr(Oa,2)).toLowerCase()===se?Oa+=2:(m=l,0===Ba&&Ga(sr)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();if((g=e.substr(Oa,6)).toLowerCase()===ft?Oa+=6:(g=l,0===Ba&&Ga(wo)),g!==l)if((y=js())!==l){for(x=[],E=qs();E!==l;)x.push(E),E=qs();p=m=[m,b,w,g,y,x]}else Oa=p,p=l;else Oa=p,p=l}else Oa=p,p=l;else Oa=p,p=l}}}p!==l?(Aa=a,a=la()):(Oa=a,a=l)}else Oa=a,a=l}else Oa=a,a=l;else Oa=a,a=l;if(a===l)if(a=Oa,(s=e.substr(Oa,5)).toLowerCase()===be?Oa+=5:(s=l,0===Ba&&Ga(mr)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();(u=Os())!==l?(Aa=a,a=aa()):(Oa=a,a=l)}else Oa=a,a=l;else Oa=a,a=l;for(;a!==l;){if(i.push(a),a=Oa,(s=e.substr(Oa,2)).toLowerCase()===v?Oa+=2:(s=l,0===Ba&&Ga(mn)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();if(u=Oa,(p=e.substr(Oa,6)).toLowerCase()===T?Oa+=6:(p=l,0===Ba&&Ga(xn)),p!==l)if((m=js())!==l){for(b=[],w=qs();w!==l;)b.push(w),w=qs();u=p=[p,m,b]}else Oa=u,u=l;else Oa=u,u=l;if(u===l)if(u=Oa,(p=e.substr(Oa,6)).toLowerCase()===k?Oa+=6:(p=l,0===Ba&&Ga(Cn)),p!==l)if((m=js())!==l){for(b=[],w=qs();w!==l;)b.push(w),w=qs();u=p=[p,m,b]}else Oa=u,u=l;else Oa=u,u=l;if(u!==l){if(p=Oa,(m=e.substr(Oa,3)).toLowerCase()===ct?Oa+=3:(m=l,0===Ba&&Ga(ho)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();if((g=e.substr(Oa,4)).toLowerCase()===ge?Oa+=4:(g=l,0===Ba&&Ga(vr)),g!==l)if((y=js())!==l){for(x=[],E=qs();E!==l;)x.push(E),E=qs();p=m=[m,b,w,g,y,x]}else Oa=p,p=l;else Oa=p,p=l}else Oa=p,p=l;else Oa=p,p=l;if(p===l){if(p=Oa,(m=e.substr(Oa,3)).toLowerCase()===ct?Oa+=3:(m=l,0===Ba&&Ga(ho)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();if((g=e.substr(Oa,7)).toLowerCase()===$t?Oa+=7:(g=l,0===Ba&&Ga(po)),g!==l)if((y=js())!==l){for(x=[],E=qs();E!==l;)x.push(E),E=qs();p=m=[m,b,w,g,y,x]}else Oa=p,p=l;else Oa=p,p=l}else Oa=p,p=l;else Oa=p,p=l;if(p===l){if(p=Oa,(m=e.substr(Oa,7)).toLowerCase()===ut?Oa+=7:(m=l,0===Ba&&Ga(mo)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();p=m=[m,b,w]}else Oa=p,p=l;else Oa=p,p=l;if(p===l){if(p=Oa,(m=e.substr(Oa,8)).toLowerCase()===dt?Oa+=8:(m=l,0===Ba&&Ga(bo)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();p=m=[m,b,w]}else Oa=p,p=l;else Oa=p,p=l;if(p===l)if(p=Oa,(m=e.substr(Oa,2)).toLowerCase()===se?Oa+=2:(m=l,0===Ba&&Ga(sr)),m!==l)if((b=js())!==l){for(w=[],g=qs();g!==l;)w.push(g),g=qs();if((g=e.substr(Oa,6)).toLowerCase()===ft?Oa+=6:(g=l,0===Ba&&Ga(wo)),g!==l)if((y=js())!==l){for(x=[],E=qs();E!==l;)x.push(E),E=qs();p=m=[m,b,w,g,y,x]}else Oa=p,p=l;else Oa=p,p=l}else Oa=p,p=l;else Oa=p,p=l}}}p!==l?(Aa=a,a=la()):(Oa=a,a=l)}else Oa=a,a=l}else Oa=a,a=l;else Oa=a,a=l;if(a===l)if(a=Oa,(s=e.substr(Oa,5)).toLowerCase()===be?Oa+=5:(s=l,0===Ba&&Ga(mr)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();(u=Os())!==l?(Aa=a,a=aa()):(Oa=a,a=l)}else Oa=a,a=l;else Oa=a,a=l}if(a=Oa,s=Oa,c=Oa,($=e.substr(Oa,3)).toLowerCase()===L?Oa+=3:($=l,0===Ba&&Ga(Rn)),$!==l)if((u=js())!==l){for(p=[],m=qs();m!==l;)p.push(m),m=qs();c=$=[$,u,p]}else Oa=c,c=l;else Oa=c,c=l;if((s=c!==l?e.substring(s,Oa):c)===l&&(s=null),c=Oa,$=Oa,(u=e.substr(Oa,10)).toLowerCase()===ht?Oa+=10:(u=l,0===Ba&&Ga(vo)),u!==l)if((p=js())!==l){for(m=[],b=qs();b!==l;)m.push(b),b=qs();$=u=[u,p,m]}else Oa=$,$=l;else Oa=$,$=l;if((c=$!==l?e.substring(c,Oa):$)!==l){if($=Oa,(u=e.substr(Oa,9)).toLowerCase()===pt?Oa+=9:(u=l,0===Ba&&Ga(go)),u!==l)if((p=js())!==l){for(m=[],b=qs();b!==l;)m.push(b),b=qs();if((b=e.substr(Oa,8)).toLowerCase()===mt?Oa+=8:(b=l,0===Ba&&Ga(yo)),b!==l)if((w=js())!==l){for(g=[],y=qs();y!==l;)g.push(y),y=qs();Aa=$,$=sa()}else Oa=$,$=l;else Oa=$,$=l}else Oa=$,$=l;else Oa=$,$=l;if($===l)if($=Oa,(u=e.substr(Oa,9)).toLowerCase()===pt?Oa+=9:(u=l,0===Ba&&Ga(go)),u!==l)if((p=js())!==l){for(m=[],b=qs();b!==l;)m.push(b),b=qs();if((b=e.substr(Oa,9)).toLowerCase()===bt?Oa+=9:(b=l,0===Ba&&Ga(xo)),b!==l)if((w=js())!==l){for(g=[],y=qs();y!==l;)g.push(y),y=qs();Aa=$,$=ca()}else Oa=$,$=l;else Oa=$,$=l}else Oa=$,$=l;else Oa=$,$=l;$===l&&($=null),Aa=a,a=$a(n,r,o,i,s,c,$)}else Oa=a,a=l;a===l&&(a=null),Aa=t,t=ua(n,r,o,i,a)}else Oa=t,t=l;else Oa=t,t=l;return t}function ks(){var t,n,r,o,i,a,s,c,$,u;if(t=Oa,(n=e.substr(Oa,2)).toLowerCase()===v?Oa+=2:(n=l,0===Ba&&Ga(mn)),n!==l)if(js()!==l){for(r=[],o=qs();o!==l;)r.push(o),o=qs();if((o=e.substr(Oa,8)).toLowerCase()===wt?Oa+=8:(o=l,0===Ba&&Ga(Eo)),o!==l)if(js()!==l){for(i=[],a=qs();a!==l;)i.push(a),a=qs();if(a=Oa,(s=e.substr(Oa,8)).toLowerCase()===vt?Oa+=8:(s=l,0===Ba&&Ga(Co)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();a=s=[s,c,$]}else Oa=a,a=l;else Oa=a,a=l;if(a===l){if(a=Oa,(s=e.substr(Oa,5)).toLowerCase()===gt?Oa+=5:(s=l,0===Ba&&Ga(To)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();a=s=[s,c,$]}else Oa=a,a=l;else Oa=a,a=l;if(a===l){if(a=Oa,(s=e.substr(Oa,4)).toLowerCase()===yt?Oa+=4:(s=l,0===Ba&&Ga(_o)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();a=s=[s,c,$]}else Oa=a,a=l;else Oa=a,a=l;if(a===l){if(a=Oa,(s=e.substr(Oa,6)).toLowerCase()===xt?Oa+=6:(s=l,0===Ba&&Ga(ko)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();a=s=[s,c,$]}else Oa=a,a=l;else Oa=a,a=l;if(a===l)if(a=Oa,(s=e.substr(Oa,7)).toLowerCase()===Et?Oa+=7:(s=l,0===Ba&&Ga(So)),s!==l)if((c=js())!==l){for($=[],u=qs();u!==l;)$.push(u),u=qs();a=s=[s,c,$]}else Oa=a,a=l;else Oa=a,a=l}}}a!==l?(Aa=t,t=da()):(Oa=t,t=l)}else Oa=t,t=l;else Oa=t,t=l}else Oa=t,t=l;else Oa=t,t=l;return t===l&&(t=null),t}function Ss(){var t,n,r,o,i;if(t=Oa,39===e.charCodeAt(Oa)?(n=Ct,Oa++):(n=l,0===Ba&&Ga(Io)),n!==l){for(r=[],o=Oa,e.substr(Oa,2)===Tt?(i=Tt,Oa+=2):(i=l,0===Ba&&Ga(Mo)),i!==l&&(Aa=o,i=fa()),(o=i)===l&&(o=e.charAt(Oa),qt.test(o)?Oa++:(o=l,0===Ba&&Ga(Ro)));o!==l;)r.push(o),o=Oa,e.substr(Oa,2)===Tt?(i=Tt,Oa+=2):(i=l,0===Ba&&Ga(Mo)),i!==l&&(Aa=o,i=fa()),(o=i)===l&&(o=e.charAt(Oa),qt.test(o)?Oa++:(o=l,0===Ba&&Ga(Ro)));39===e.charCodeAt(Oa)?(o=Ct,Oa++):(o=l,0===Ba&&Ga(Io)),o!==l?(Aa=t,t=ha(r)):(Oa=t,t=l)}else Oa=t,t=l;return t}function Is(){var t,n,r,o,i,a,s,c,$;if(t=Oa,(n=e.substr(Oa,2)).toLowerCase()===_t?Oa+=2:(n=l,0===Ba&&Ga(No)),n!==l){for(r=Oa,o=[],i=Ns();i!==l;)o.push(i),i=Oa,95===e.charCodeAt(Oa)?(a=kt,Oa++):(a=l,0===Ba&&Ga(Lo)),a===l&&(a=null),(a=Ns())===l?(Oa=i,i=l):i=a;o.length<1?(Oa=r,r=l):r=o,r!==l?(Aa=t,t=pa()):(Oa=t,t=l)}else Oa=t,t=l;if(t===l){for(t=Oa,n=Oa,r=Oa,o=[],i=Rs();i!==l;)o.push(i),i=Oa,95===e.charCodeAt(Oa)?(a=kt,Oa++):(a=l,0===Ba&&Ga(Lo)),a===l&&(a=null),(a=Rs())===l?(Oa=i,i=l):i=a;if(o.length<1?(Oa=r,r=l):r=o,r!==l){if(o=Oa,46===e.charCodeAt(Oa)?(i=Re,Oa++):(i=l,0===Ba&&Ga(Mr)),i!==l){for(a=[],s=Rs();s!==l;)a.push(s),s=Oa,95===e.charCodeAt(Oa)?(c=kt,Oa++):(c=l,0===Ba&&Ga(Lo)),c===l&&(c=null),(c=Rs())===l?(Oa=s,s=l):s=c;o=i=[i,a]}else Oa=o,o=l;o===l&&(o=null),n=r=[r,o]}else Oa=n,n=l;if(n===l)if(n=Oa,46===e.charCodeAt(Oa)?(r=Re,Oa++):(r=l,0===Ba&&Ga(Mr)),r!==l){for(o=Oa,i=[],a=Rs();a!==l;)i.push(a),a=Oa,95===e.charCodeAt(Oa)?(s=kt,Oa++):(s=l,0===Ba&&Ga(Lo)),s===l&&(s=null),(s=Rs())===l?(Oa=a,a=l):a=s;i.length<1?(Oa=o,o=l):o=i,o!==l?n=r=[r,o]:(Oa=n,n=l)}else Oa=n,n=l;if(n!==l){if(r=Oa,(o=e.charAt(Oa)).toLowerCase()===St?Oa++:(o=l,0===Ba&&Ga(Oo)),o!==l){for(i=e.charAt(Oa),Gt.test(i)?Oa++:(i=l,0===Ba&&Ga(Yr)),i===l&&(i=null),a=Oa,s=[],c=Rs();c!==l;)s.push(c),c=Oa,95===e.charCodeAt(Oa)?($=kt,Oa++):($=l,0===Ba&&Ga(Lo)),$===l&&($=null),($=Rs())===l?(Oa=c,c=l):c=$;s.length<1?(Oa=a,a=l):a=s,a!==l?r=o=[o,i,a]:(Oa=r,r=l)}else Oa=r,r=l;r===l&&(r=null),Aa=t,t=ma()}else Oa=t,t=l}return t}function Ms(){var t,n,r,o,i;if(t=Oa,(n=e.substr(Oa,2)).toLowerCase()===It?Oa+=2:(n=l,0===Ba&&Ga(Ao)),n!==l){for(r=[],o=Oa,e.substr(Oa,2)===Tt?(i=Tt,Oa+=2):(i=l,0===Ba&&Ga(Mo)),i!==l&&(Aa=o,i=ba()),(o=i)===l&&(o=e.charAt(Oa),qt.test(o)?Oa++:(o=l,0===Ba&&Ga(Ro)));o!==l;)r.push(o),o=Oa,e.substr(Oa,2)===Tt?(i=Tt,Oa+=2):(i=l,0===Ba&&Ga(Mo)),i!==l&&(Aa=o,i=ba()),(o=i)===l&&(o=e.charAt(Oa),qt.test(o)?Oa++:(o=l,0===Ba&&Ga(Ro)));39===e.charCodeAt(Oa)?(o=Ct,Oa++):(o=l,0===Ba&&Ga(Io)),o!==l?(Aa=t,t=wa(r)):(Oa=t,t=l)}else Oa=t,t=l;return t}function Rs(){var t;return t=e.charAt(Oa),Wt.test(t)?Oa++:(t=l,0===Ba&&Ga(Do)),t}function Ns(){var t;return t=e.charAt(Oa),Qt.test(t)?Oa++:(t=l,0===Ba&&Ga(Fo)),t}function Ls(){var t,n,r,o,i,a;if(t=Oa,n=Oa,Ba++,r=Oa,41===e.charCodeAt(Oa)?(o=h,Oa++):(o=l,0===Ba&&Ga($n)),o!==l){for(i=[],a=e.charAt(Oa),jt.test(a)?Oa++:(a=l,0===Ba&&Ga(Wr));a!==l;)i.push(a),a=e.charAt(Oa),jt.test(a)?Oa++:(a=l,0===Ba&&Ga(Wr));41===e.charCodeAt(Oa)?(a=h,Oa++):(a=l,0===Ba&&Ga($n)),a!==l?r=o=[o,i,a]:(Oa=r,r=l)}else Oa=r,r=l;return Ba--,r!==l?(Oa=n,n=void 0):n=l,n!==l?(41===e.charCodeAt(Oa)?(r=h,Oa++):(r=l,0===Ba&&Ga($n)),r!==l?t=r:(Oa=t,t=l)):(Oa=t,t=l),t}function Os(){var t,n,r,o,i,a,s,c;if(t=Oa,n=Oa,(r=Ps())!==l&&(Aa=n,r=va(r)),(n=r)===l)if(n=Oa,r=Oa,Ba++,o=Fs(),Ba--,o===l?r=void 0:(Oa=r,r=l),r!==l){if(o=Oa,i=Oa,(a=Hs())!==l){for(s=[],c=Vs();c!==l;)s.push(c),c=Vs();i=a=[a,s]}else Oa=i,i=l;(o=i!==l?e.substring(o,Oa):i)!==l?n=o:(Oa=n,n=l)}else Oa=n,n=l;return n!==l&&(Aa=t,n=ga(n)),n}function As(){var t,n,r,o,i,a,s,c;if(t=Oa,n=Oa,(r=Ps())!==l&&(Aa=n,r=ya(r)),(n=r)===l)if(n=Oa,r=Oa,Ba++,o=Us(),Ba--,o===l?r=void 0:(Oa=r,r=l),r!==l){if(o=Oa,i=Oa,(a=Hs())!==l){for(s=[],c=Vs();c!==l;)s.push(c),c=Vs();i=a=[a,s]}else Oa=i,i=l;(o=i!==l?e.substring(o,Oa):i)!==l?n=o:(Oa=n,n=l)}else Oa=n,n=l;return n!==l&&(Aa=t,n=xa(n)),n}function Ds(){var t,n,r,o,i,a,s;if(t=Oa,n=Oa,(r=Ps())!==l&&(Aa=n,r=Ea(r)),(n=r)===l){if(n=Oa,r=Oa,o=Oa,(i=Hs())!==l){for(a=[],s=Vs();s!==l;)a.push(s),s=Vs();o=i=[i,a]}else Oa=o,o=l;(r=o!==l?e.substring(r,Oa):o)!==l?n=r:(Oa=n,n=l)}return n!==l&&(Aa=t,n=Ca(n)),n}function Fs(){var t,n,r,o,i,a;if(t=Oa,n=Oa,r=Oa,(o=Hs())!==l){for(i=[],a=Vs();a!==l;)i.push(a),a=Vs();r=o=[o,i]}else Oa=r,r=l;return(n=r!==l?e.substring(n,Oa):r)!==l?(Aa=Oa,(r=(r=Ta(n))?void 0:l)!==l&&(o=js())!==l?t=n=[n,r,o]:(Oa=t,t=l)):(Oa=t,t=l),t}function Us(){var t,n,r,o,i,a;if(t=Oa,n=Oa,r=Oa,(o=Hs())!==l){for(i=[],a=Vs();a!==l;)i.push(a),a=Vs();r=o=[o,i]}else Oa=r,r=l;return(n=r!==l?e.substring(n,Oa):r)!==l?(Aa=Oa,(r=(r=_a(n))?void 0:l)!==l&&(o=js())!==l?t=n=[n,r,o]:(Oa=t,t=l)):(Oa=t,t=l),t}function Bs(){var t,n,r,o,i;for(t=[],(n=Ps())===l&&(n=Gs())===l&&(n=Oa,40===e.charCodeAt(Oa)?(r=d,Oa++):(r=l,0===Ba&&Ga(sn)),r!==l?(o=zs(),41===e.charCodeAt(Oa)?(i=h,Oa++):(i=l,0===Ba&&Ga($n)),i!==l?n=r=[r,o,i]:(Oa=n,n=l)):(Oa=n,n=l),n===l&&(n=e.charAt(Oa),Kt.test(n)?Oa++:(n=l,0===Ba&&Ga(Uo))));n!==l;)t.push(n),(n=Ps())===l&&(n=Gs())===l&&(n=Oa,40===e.charCodeAt(Oa)?(r=d,Oa++):(r=l,0===Ba&&Ga(sn)),r!==l?(o=zs(),41===e.charCodeAt(Oa)?(i=h,Oa++):(i=l,0===Ba&&Ga($n)),i!==l?n=r=[r,o,i]:(Oa=n,n=l)):(Oa=n,n=l),n===l&&(n=e.charAt(Oa),Kt.test(n)?Oa++:(n=l,0===Ba&&Ga(Uo))));return t}function zs(){var t,n,r,o,i;for(t=[],(n=Ps())===l&&(n=Gs())===l&&(n=Oa,40===e.charCodeAt(Oa)?(r=d,Oa++):(r=l,0===Ba&&Ga(sn)),r!==l?(o=zs(),41===e.charCodeAt(Oa)?(i=h,Oa++):(i=l,0===Ba&&Ga($n)),i!==l?n=r=[r,o,i]:(Oa=n,n=l)):(Oa=n,n=l),n===l&&(n=e.charAt(Oa),Yt.test(n)?Oa++:(n=l,0===Ba&&Ga(Bo))));n!==l;)t.push(n),(n=Ps())===l&&(n=Gs())===l&&(n=Oa,40===e.charCodeAt(Oa)?(r=d,Oa++):(r=l,0===Ba&&Ga(sn)),r!==l?(o=zs(),41===e.charCodeAt(Oa)?(i=h,Oa++):(i=l,0===Ba&&Ga($n)),i!==l?n=r=[r,o,i]:(Oa=n,n=l)):(Oa=n,n=l),n===l&&(n=e.charAt(Oa),Yt.test(n)?Oa++:(n=l,0===Ba&&Ga(Bo))));return t}function Ps(){var t,n,r,o,i;if(t=Oa,39===e.charCodeAt(Oa)?(n=Ct,Oa++):(n=l,0===Ba&&Ga(Io)),n!==l){for(r=[],o=Oa,e.substr(Oa,2)===Tt?(i=Tt,Oa+=2):(i=l,0===Ba&&Ga(Mo)),i!==l&&(Aa=o,i=ka()),(o=i)===l&&(o=e.charAt(Oa),qt.test(o)?Oa++:(o=l,0===Ba&&Ga(Ro)));o!==l;)r.push(o),o=Oa,e.substr(Oa,2)===Tt?(i=Tt,Oa+=2):(i=l,0===Ba&&Ga(Mo)),i!==l&&(Aa=o,i=ka()),(o=i)===l&&(o=e.charAt(Oa),qt.test(o)?Oa++:(o=l,0===Ba&&Ga(Ro)));39===e.charCodeAt(Oa)?(o=Ct,Oa++):(o=l,0===Ba&&Ga(Io)),o!==l?(Aa=t,t=Sa(r)):(Oa=t,t=l)}else Oa=t,t=l;if(t===l){if(t=Oa,34===e.charCodeAt(Oa)?(n=Mt,Oa++):(n=l,0===Ba&&Ga(zo)),n!==l){for(r=[],o=Oa,e.substr(Oa,2)===Rt?(i=Rt,Oa+=2):(i=l,0===Ba&&Ga(Po)),i!==l&&(Aa=o,i=Ia()),(o=i)===l&&(o=e.charAt(Oa),Jt.test(o)?Oa++:(o=l,0===Ba&&Ga(Ho)));o!==l;)r.push(o),o=Oa,e.substr(Oa,2)===Rt?(i=Rt,Oa+=2):(i=l,0===Ba&&Ga(Po)),i!==l&&(Aa=o,i=Ia()),(o=i)===l&&(o=e.charAt(Oa),Jt.test(o)?Oa++:(o=l,0===Ba&&Ga(Ho)));34===e.charCodeAt(Oa)?(o=Mt,Oa++):(o=l,0===Ba&&Ga(zo)),o!==l?(Aa=t,t=Ma(r)):(Oa=t,t=l)}else Oa=t,t=l;if(t===l){if(t=Oa,96===e.charCodeAt(Oa)?(n=Nt,Oa++):(n=l,0===Ba&&Ga(Vo)),n!==l){for(r=[],o=Oa,e.substr(Oa,2)===Lt?(i=Lt,Oa+=2):(i=l,0===Ba&&Ga(jo)),i!==l&&(Aa=o,i=Ra()),(o=i)===l&&(o=e.charAt(Oa),Xt.test(o)?Oa++:(o=l,0===Ba&&Ga(Go)));o!==l;)r.push(o),o=Oa,e.substr(Oa,2)===Lt?(i=Lt,Oa+=2):(i=l,0===Ba&&Ga(jo)),i!==l&&(Aa=o,i=Ra()),(o=i)===l&&(o=e.charAt(Oa),Xt.test(o)?Oa++:(o=l,0===Ba&&Ga(Go)));96===e.charCodeAt(Oa)?(o=Nt,Oa++):(o=l,0===Ba&&Ga(Vo)),o!==l?(Aa=t,t=Na(r)):(Oa=t,t=l)}else Oa=t,t=l;if(t===l)if(t=Oa,91===e.charCodeAt(Oa)?(n=Ot,Oa++):(n=l,0===Ba&&Ga(qo)),n!==l){for(r=Oa,o=[],i=e.charAt(Oa),Zt.test(i)?Oa++:(i=l,0===Ba&&Ga(Wo));i!==l;)o.push(i),i=e.charAt(Oa),Zt.test(i)?Oa++:(i=l,0===Ba&&Ga(Wo));r=e.substring(r,Oa),93===e.charCodeAt(Oa)?(o=At,Oa++):(o=l,0===Ba&&Ga(Qo)),o!==l?(Aa=t,t=La(r)):(Oa=t,t=l)}else Oa=t,t=l}}return t}function Hs(){var t;return t=e.charAt(Oa),en.test(t)?Oa++:(t=l,0===Ba&&Ga(Ko)),t}function Vs(){var t;return t=e.charAt(Oa),tn.test(t)?Oa++:(t=l,0===Ba&&Ga(Yo)),t}function js(){var t,n;return t=Oa,Ba++,n=e.charAt(Oa),nn.test(n)?Oa++:(n=l,0===Ba&&Ga(Jo)),Ba--,n===l?t=void 0:(Oa=t,t=l),t}function Gs(){var t,n,r,o,i,a;if(t=Oa,e.substr(Oa,2)===Dt?(n=Dt,Oa+=2):(n=l,0===Ba&&Ga(Xo)),n!==l){for(r=[],o=e.charAt(Oa),rn.test(o)?Oa++:(o=l,0===Ba&&Ga(Zo));o!==l;)r.push(o),o=e.charAt(Oa),rn.test(o)?Oa++:(o=l,0===Ba&&Ga(Zo));t=n=[n,r]}else Oa=t,t=l;if(t===l)if(t=Oa,e.substr(Oa,2)===Ft?(n=Ft,Oa+=2):(n=l,0===Ba&&Ga(ei)),n!==l){for(r=[],o=Oa,i=Oa,Ba++,e.substr(Oa,2)===Ut?(a=Ut,Oa+=2):(a=l,0===Ba&&Ga(ti)),Ba--,a===l?i=void 0:(Oa=i,i=l),i!==l?(e.length>Oa?(a=e.charAt(Oa),Oa++):(a=l,0===Ba&&Ga(un)),a!==l?o=i=[i,a]:(Oa=o,o=l)):(Oa=o,o=l);o!==l;)r.push(o),o=Oa,i=Oa,Ba++,e.substr(Oa,2)===Ut?(a=Ut,Oa+=2):(a=l,0===Ba&&Ga(ti)),Ba--,a===l?i=void 0:(Oa=i,i=l),i!==l?(e.length>Oa?(a=e.charAt(Oa),Oa++):(a=l,0===Ba&&Ga(un)),a!==l?o=i=[i,a]:(Oa=o,o=l)):(Oa=o,o=l);e.substr(Oa,2)===Ut?(o=Ut,Oa+=2):(o=l,0===Ba&&Ga(ti)),o!==l?t=n=[n,r,o]:(Oa=t,t=l)}else Oa=t,t=l;return t}function qs(){var t;return(t=Gs())===l&&(t=e.charAt(Oa),on.test(t)?Oa++:(t=l,0===Ba&&Ga(ni))),t}if(n=c(),t.peg$library)return{peg$result:n,peg$currPos:Oa,peg$FAILED:l,peg$maxFailExpected:Ua,peg$maxFailPos:Fa};if(n!==l&&Oa===e.length)return n;throw n!==l&&Oa<e.length&&Ga({type:"end"}),r=Ua,o=Fa<e.length?e.charAt(Fa):null,i=Fa<e.length?ja(Fa,Fa+1):ja(Fa,Fa),new ce(ce.buildMessage(r,o),r,o,i)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(ce,Error),ce.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(o):o,l=this.location.source+":"+i.line+":"+i.column;if(r){var a=this.location.end,s=$e("",i.line.toString().length," "),c=r[o.line-1],$=(o.line===a.line?a.column:c.length+1)-o.column||1;t+="\n --\x3e "+l+"\n"+s+" |\n"+i.line+" | "+c+"\n"+s+" | "+$e("",o.column-1," ")+$e("",$,"^")}else t+="\n at "+l}return t},ce.buildMessage=function(e,t){var n,r={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?l(e[0])+"-"+l(e[1]):l(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function o(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+o(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+o(e)}))}function l(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+o(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+o(e)}))}function a(e){return r[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(a);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+((n=t)?'"'+i(n)+'"':"end of input")+" found."};const de=(e,t)=>{try{return ue(t,{startRule:e})}catch(HE){throw new SyntaxError(`Failed to parse '${t}' as '${e}': ${ee(HE)}`)}},fe=(e,t)=>{try{return ue(t,{startRule:e})}catch{return null}},he=e=>{const t=new Set,n=[],r=new Set(fe("FindAllCTENames",e)??[]);for(const o of fe("FindAllFROMKeywords",e)??[]){const i=fe("ExtractTableNames_FROM_Partial",e.slice(o));if(null!==i)for(const e of i){const o=JSON.stringify(e);t.has(o)||(t.add(o),void 0===e.schema&&r.has(e.table)||n.push({R:e.schema??"main",N:e.table}))}}return n},pe=e=>`${e.createIndex}${e.ifNotExists??""}${e.schemaName?.text??""}`,me=e=>`${e.afterIndexName}${e.on}${e.afterOn}${e.tableName.text}${e.afterTableName}(${e.columns.map((e=>`${e.beforeColumnName}${e.columnName.text}${e.afterColumnName}`)).join(",")})${ie(e.rest)}`,be=e=>`${e.createTrigger.text}${e.ifNotExists??""}${e.schemaName?.text??""}`,we=e=>`${e.afterTriggerName}${e.keyword1?.text??""}${e.afterKeyword1}${e.keyword2.text}${e.on}${e.afterOn}${e.tableName.text}${ie(e.rest)}`,ve=(e,t)=>oe(e,{$:t,C:e=>Array.from(e,(e=>e.toString(16).padStart(2,"0"))).join("")}),ge=(e,t)=>e instanceof Uint8Array?`x'${ve(e,t)}'`:null===e?"NULL":"string"==typeof e?`'${oe(e,{$:t,C:e=>e.replaceAll("'","''")})}'`:"number"==typeof e&&/^[+\-]?\d+$/.test(""+e)?e+".0":""+e,ye=(e,t=!0,n=!1)=>{if(e.includes("\0"))throw new Error("Invalid identifier");if(!t){if(n&&"TEMP"===e.toUpperCase())return e;if(/^[a-z_]\w*$/i.test(e)&&!te.includes(e.toUpperCase()))return e}return"`"+e.replaceAll("`","``")+"`"},xe=e=>`${e.createTable.text}${e.ifNotExists??""}${e.schemaName?.text??""}${e.tableName.text}${e.afterTableName}(${e.columns.map((e=>e.text)).join(",")})${ie(e.options)}`,Ee=e=>`${be(e)}${e.triggerName.text}${we(e)}`,Ce=(e,t=!0)=>`${t||!/^[a-z_]\w*$/i.test(e.S)?ye(e.S):e.S} ${e.L}${e.O?" PRIMARY KEY":""}${e.A?" AUTOINCREMENT":""}${e.D?" UNIQUE":""}${e.F?" NOT NULL":""}${e.U?` DEFAULT ${/^'[^']*'$|^[+-]?[\d\.e]+$/i.test(e.U)?e.U:`(${e.U})`}`:""}${""!==e.B.N&&""!==e.B.P?` REFERENCES ${ye(e.B.N)}(${ye(e.B.P)})`:""}`,Te=e=>{switch(e.type){case"=":return`${e.beforeColumn}${e.column.text}${e.afterColumn}=${e.before}${e.list[0].literal}${e.after}${e.orIsNull??""}`;case"IS NULL":return`${e.beforeColumn}${e.column.text}${e.afterColumn}${e.orIsNull}`;case"IN":return`${e.beforeColumn}${e.column.text}${e.afterColumn}${e.inKeyword}${e.afterIn}(${e.list.map((e=>`${e.before}${e.literal}${e.after}`)).join(",")})${e.afterList}${e.orIsNull??""}`}};var _e=(e=>(e[e.Done=0]="Done",e[e.Canceled=1]="Canceled",e))(_e||{});class ke{#e={H:!1};#t(){if(this.#e.H)if(void 0===this.#e.V)this.#e={H:!1};else{const e=this.#e.V;this.#e.V=void 0,e.j()}}j(e){if(this.#e.H)return new Promise(((t,n)=>{const r=()=>{e.j().then((()=>t(0)),n).finally(this.#t.bind(this))};this.#e.H?(this.#e.V?.G(),this.#e.V={j:r,G:()=>{e.G(),t(1)}}):(this.#e={H:!0},r())}));{this.#e={H:!0};const t=e.j().then((()=>0));return t.finally(this.#t.bind(this)).catch(console.error),t}}}const Se=e=>e.reduce(((e,t)=>t>e?t:e)),Ie=e=>e.reduce(((e,t)=>t<e?t:e)),Me=(e,t,n)=>null!==t&&e<=t?t:null!==n&&e>=n?n:e,Re=(e,t)=>e<=t?[e,t]:[t,e],Ne=(e,t)=>{if(e instanceof Uint8Array){if(e===t)return!0;if(!(t instanceof Uint8Array&&e.length===t.length))return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t},Le={table_schema:!0,query_schema:!0,load_extensions:!1,list_tables:!0,list_references:!0,database_label:!0,total_cache_size_bytes:!0,add_sleep_fn:!1},Oe={changes:null,pre_stmt:null,allow_fewer_changes:!1,check_placeholders:null};class Ae extends Error{}const De=(e,t,n)=>{const r=ye(e);if(void 0===n){const e=fe("ColumnDefinition",t.trim());if(null===e)throw new Ae;n=e.columnName.name}return{q:`ALTER TABLE ${r} ADD COLUMN ${t}`,W:`ALTER TABLE ${r} DROP COLUMN ${ye(n)}`}};var Fe=(e=>(e[e.K=1],e[e.Y=2],e[e.J=3],e[e.X=4],e[e.ee=5],e[e.te=6],e[e.ne=7],e[e.re=8],e[e.oe=9],e[e.ie=10],e[e.le=11],e[e.ae=12],e[e.se=13],e[e.ce=14],e[e.$e=15],e[e.ue=16],e[e.de=17],e[e.fe=18],e[e.he=19],e[e.be=20],e))(Fe||{}),Ue=(e=>(e[e.we=0],e[e.ve=1],e))(Ue||{});const Be={},ze=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),i=o?.nonce||o?.getAttribute("nonce");r=Promise.all(t.map((t=>{if(t=function(e,t){return new URL(e,t).href}(t,n),t in Be)return;Be[t]=!0;const r=t.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(n)for(let n=e.length-1;n>=0;n--){const o=e[n];if(o.href===t&&(!r||"stylesheet"===o.rel))return}else if(document.querySelector(`link[href="${t}"]${o}`))return;const l=document.createElement("link");return l.rel=r?"stylesheet":"modulepreload",r||(l.as="script",l.crossOrigin=""),l.href=t,i&&l.setAttribute("nonce",i),document.head.appendChild(l),r?new Promise(((e,n)=>{l.addEventListener("load",e),l.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}return r.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},Pe=["de","en","es","fr","it","ja","ko","pt-BR","ru","zh-CN","zh-TW"],He=(()=>{let e;return e=window.editorVariables[0],Pe.includes(e)||(console.error(`Unexpected language code: ${e}`),e="en"),e})();let Ve;"en"===He?Ve={}:(console.time("load i18n"),Ve=(await ze((()=>import("./i18n-YaHFwOfx.js")),[],import.meta.url)).default,console.timeEnd("load i18n"));const je=(qe="en"===He?[]:[He],We=Ve,function(e,t={}){let n=e;if(Object.hasOwn(We,e))for(const r of qe)if(Object.hasOwn(We[e],r)&&""!==We[e][r]){n=We[e][r];break}return n.replace(/\{%.*%\}/g,"").replace(/\{\{(-)?([^}]+)\}\}/g,((e,n,r)=>{r=r.trim();const o=Object.hasOwn(t,r)?String(t[r]):e;return n?o:ne(o)}))}),Ge="-";var qe,We;function Qe(e){const t=function(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]},o=function(e,t){return t?e.map((([e,n])=>[e,n.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,n])=>[t+e,n]))):e))])):e}(Object.entries(e.classGroups),n);return o.forEach((([e,n])=>{Je(n,r,e,t)})),r}(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:function(e){const n=e.split(Ge);return""===n[0]&&1!==n.length&&n.shift(),Ke(n,t)||function(e){if(Ye.test(e)){const t=Ye.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){const o=n[e]||[];return t&&r[e]?[...o,...r[e]]:o}}}function Ke(e,t){if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Ke(e.slice(1),r):void 0;if(o)return o;if(0===t.validators.length)return;const i=e.join(Ge);return t.validators.find((({validator:e})=>e(i)))?.classGroupId}const Ye=/^\[(.+)\]$/;function Je(e,t,n,r){e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void Je(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((([e,o])=>{Je(o,Xe(t,e),n,r)}))}else(""===e?t:Xe(t,e)).classGroupId=n}))}function Xe(e,t){let n=e;return t.split(Ge).forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n}function Ze(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function o(o,i){n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):o(e,t)}}}const et="!";function tt(e){const t=e.separator,n=1===t.length,r=t[0],o=t.length;return function(e){const i=[];let l,a=0,s=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===a){if(c===r&&(n||e.slice(u,u+o)===t)){i.push(e.slice(s,u)),s=u+o;continue}if("/"===c){l=u;continue}}"["===c?a++:"]"===c&&a--}const c=0===i.length?e:e.substring(s),$=c.startsWith(et);return{modifiers:i,hasImportantModifier:$,baseClassName:$?c.substring(1):c,maybePostfixModifierPosition:l&&l>s?l-s:void 0}}}const nt=/\s+/;function rt(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=ot(e))&&(r&&(r+=" "),r+=t);return r}function ot(e){if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ot(e[r]))&&(n&&(n+=" "),n+=t);return n}function it(e,...t){let n,r,o,i=function(a){const s=t.reduce(((e,t)=>t(e)),e());return n=function(e){return{cache:Ze(e.cacheSize),splitModifiers:tt(e),...Qe(e)}}(s),r=n.cache.get,o=n.cache.set,i=l,l(a)};function l(e){const t=r(e);if(t)return t;const i=function(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=new Set;return e.trim().split(nt).map((e=>{const{modifiers:t,hasImportantModifier:o,baseClassName:i,maybePostfixModifierPosition:l}=n(e);let a=r(l?i.substring(0,l):i),s=Boolean(l);if(!a){if(!l)return{isTailwindClass:!1,originalClassName:e};if(a=r(i),!a)return{isTailwindClass:!1,originalClassName:e};s=!1}const c=function(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t}(t).join(":");return{isTailwindClass:!0,modifierId:o?c+et:c,classGroupId:a,originalClassName:e,hasPostfixModifier:s}})).reverse().filter((e=>{if(!e.isTailwindClass)return!0;const{modifierId:t,classGroupId:n,hasPostfixModifier:r}=e,l=t+n;return!i.has(l)&&(i.add(l),o(n,r).forEach((e=>i.add(t+e))),!0)})).reverse().map((e=>e.originalClassName)).join(" ")}(e,n);return o(e,i),i}return function(){return i(rt.apply(null,arguments))}}function lt(e){const t=t=>t[e]||[];return t.isThemeGetter=!0,t}const at=/^\[(?:([a-z-]+):)?(.+)\]$/i,st=/^\d+\/\d+$/,ct=new Set(["px","full","screen"]),$t=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ut=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ft=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ht=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function pt(e){return bt(e)||ct.has(e)||st.test(e)}function mt(e){return Mt(e,"length",Rt)}function bt(e){return Boolean(e)&&!Number.isNaN(Number(e))}function wt(e){return Mt(e,"number",bt)}function vt(e){return Boolean(e)&&Number.isInteger(Number(e))}function gt(e){return e.endsWith("%")&&bt(e.slice(0,-1))}function yt(e){return at.test(e)}function xt(e){return $t.test(e)}const Et=new Set(["length","size","percentage"]);function Ct(e){return Mt(e,Et,Nt)}function Tt(e){return Mt(e,"position",Nt)}const _t=new Set(["image","url"]);function kt(e){return Mt(e,_t,Ot)}function St(e){return Mt(e,"",Lt)}function It(){return!0}function Mt(e,t,n){const r=at.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))}function Rt(e){return ut.test(e)&&!dt.test(e)}function Nt(){return!1}function Lt(e){return ft.test(e)}function Ot(e){return ht.test(e)}function At(){const e=lt("colors"),t=lt("spacing"),n=lt("blur"),r=lt("brightness"),o=lt("borderColor"),i=lt("borderRadius"),l=lt("borderSpacing"),a=lt("borderWidth"),s=lt("contrast"),c=lt("grayscale"),$=lt("hueRotate"),u=lt("invert"),d=lt("gap"),f=lt("gradientColorStops"),h=lt("gradientColorStopPositions"),p=lt("inset"),m=lt("margin"),b=lt("opacity"),w=lt("padding"),v=lt("saturate"),g=lt("scale"),y=lt("sepia"),x=lt("skew"),E=lt("space"),C=lt("translate"),T=()=>["auto",yt,t],_=()=>[yt,t],k=()=>["",pt,mt],S=()=>["auto",bt,yt],I=()=>["","0",yt],M=()=>[bt,wt],R=()=>[bt,yt];return{cacheSize:500,separator:":",theme:{colors:[It],spacing:[pt,mt],blur:["none","",xt,yt],brightness:M(),borderColor:[e],borderRadius:["none","","full",xt,yt],borderSpacing:_(),borderWidth:k(),contrast:M(),grayscale:I(),hueRotate:R(),invert:I(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[gt,mt],inset:T(),margin:T(),opacity:M(),padding:_(),saturate:M(),scale:M(),sepia:I(),skew:R(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",yt]}],container:["container"],columns:[{columns:[xt]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",yt]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vt,yt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",vt,yt]}],"grid-cols":[{"grid-cols":[It]}],"col-start-end":[{col:["auto",{span:["full",vt,yt]},yt]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[It]}],"row-start-end":[{row:["auto",{span:[vt,yt]},yt]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yt]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yt,t]}],"min-w":[{"min-w":[yt,t,"min","max","fit"]}],"max-w":[{"max-w":[yt,t,"none","full","min","max","fit","prose",{screen:[xt]},xt]}],h:[{h:[yt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xt,mt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wt]}],"font-family":[{font:[It]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yt]}],"line-clamp":[{"line-clamp":["none",bt,wt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pt,yt]}],"list-image":[{"list-image":["none",yt]}],"list-style-type":[{list:["none","disc","decimal",yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pt,mt]}],"underline-offset":[{"underline-offset":["auto",pt,yt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Tt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ct]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[pt,yt]}],"outline-w":[{outline:[pt,mt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[pt,mt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xt,St]}],"shadow-color":[{shadow:[It]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",xt,yt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[$]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yt]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",yt]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[g]}],"scale-x":[{"scale-x":[g]}],"scale-y":[{"scale-y":[g]}],rotate:[{rotate:[vt,yt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pt,mt,wt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Dt=it(At);var Ft,Ut,Bt,zt,Pt,Ht,Vt,jt,Gt={},qt=[],Wt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Qt=Array.isArray;function Kt(e,t){for(var n in t)e[n]=t[n];return e}function Yt(e){var t=e.parentNode;t&&t.removeChild(e)}function Jt(e,t,n){var r,o,i,l={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?Ft.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===l[i]&&(l[i]=e.defaultProps[i]);return Xt(e,l,r,o,null)}function Xt(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++Bt};return null==o&&null!=Ut.vnode&&Ut.vnode(i),i}function Zt(e){return e.children}function en(e,t){this.props=e,this.context=t}function tn(e,t){if(null==t)return e.__?tn(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?tn(e):null}function nn(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return nn(e)}}function rn(e){(!e.__d&&(e.__d=!0)&&zt.push(e)&&!on.__r++||Pt!==Ut.debounceRendering)&&((Pt=Ut.debounceRendering)||Ht)(on)}function on(){var e,t,n,r,o,i,l,a,s;for(zt.sort(Vt);e=zt.shift();)e.__d&&(t=zt.length,r=void 0,o=void 0,i=void 0,a=(l=(n=e).__v).__e,(s=n.__P)&&(r=[],o=[],(i=Kt({},l)).__v=l.__v+1,pn(s,l,i,n.__n,void 0!==s.ownerSVGElement,null!=l.__h?[a]:null,r,a??tn(l),l.__h,o),mn(r,l,o),l.__e!=a&&nn(l)),zt.length>t&&zt.sort(Vt));on.__r=0}function ln(e,t,n,r,o,i,l,a,s,c,$){var u,d,f,h,p,m,b,w,v,g=0,y=r&&r.__k||qt,x=y.length,E=x,C=t.length;for(n.__k=[],u=0;u<C;u++)null!=(h=n.__k[u]=null==(h=t[u])||"boolean"==typeof h||"function"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?Xt(null,h,null,null,h):Qt(h)?Xt(Zt,{children:h},null,null,null):h.__b>0?Xt(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)?(h.__=n,h.__b=n.__b+1,-1===(w=$n(h,y,b=u+g,E))?f=Gt:(f=y[w]||Gt,y[w]=void 0,E--),pn(e,h,f,o,i,l,a,s,c,$),p=h.__e,(d=h.ref)&&f.ref!=d&&(f.ref&&wn(f.ref,null,h),$.push(d,h.__c||p,h)),null!=p&&(null==m&&(m=p),(v=f===Gt||null===f.__v)?-1==w&&g--:w!==b&&(w===b+1?g++:w>b?E>C-b?g+=w-b:g--:g=w<b&&w==b-1?w-b:0),b=u+g,"function"!=typeof h.type||w===b&&f.__k!==h.__k?"function"==typeof h.type||w===b&&!v?void 0!==h.__d?(s=h.__d,h.__d=void 0):s=p.nextSibling:s=cn(e,p,s):s=an(h,s,e),"function"==typeof n.type&&(n.__d=s))):(f=y[u])&&null==f.key&&f.__e&&(f.__e==s&&(s=tn(f)),vn(f,f,!1),y[u]=null);for(n.__e=m,u=x;u--;)null!=y[u]&&("function"==typeof n.type&&null!=y[u].__e&&y[u].__e==n.__d&&(n.__d=y[u].__e.nextSibling),vn(y[u],y[u]))}function an(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?an(r,t,n):cn(n,r.__e,t));return t}function sn(e,t){return t=t||[],null==e||"boolean"==typeof e||(Qt(e)?e.some((function(e){sn(e,t)})):t.push(e)),t}function cn(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function $n(e,t,n,r){var o=e.key,i=e.type,l=n-1,a=n+1,s=t[n];if(null===s||s&&o==s.key&&i===s.type)return n;if(r>(null!=s?1:0))for(;l>=0||a<t.length;){if(l>=0){if((s=t[l])&&o==s.key&&i===s.type)return l;l--}if(a<t.length){if((s=t[a])&&o==s.key&&i===s.type)return a;a++}}return-1}function un(e,t,n){"-"===t[0]?e.setProperty(t,n??""):e[t]=null==n?"":"number"!=typeof n||Wt.test(t)?n:n+"px"}function dn(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||un(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||un(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?hn:fn,i):e.removeEventListener(t,i?hn:fn,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=n??"";break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function fn(e){return this.l[e.type+!1](Ut.event?Ut.event(e):e)}function hn(e){return this.l[e.type+!0](Ut.event?Ut.event(e):e)}function pn(e,t,n,r,o,i,l,a,s,c){var $,u,d,f,h,p,m,b,w,v,g,y,x,E,C,T=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(s=n.__h,a=t.__e=n.__e,t.__h=null,i=[a]),($=Ut.__b)&&$(t);e:if("function"==typeof T)try{if(b=t.props,w=($=T.contextType)&&r[$.__c],v=$?w?w.props.value:$.__:r,n.__c?m=(u=t.__c=n.__c).__=u.__E:("prototype"in T&&T.prototype.render?t.__c=u=new T(b,v):(t.__c=u=new en(b,v),u.constructor=T,u.render=gn),w&&w.sub(u),u.props=b,u.state||(u.state={}),u.context=v,u.__n=r,d=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=T.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=Kt({},u.__s)),Kt(u.__s,T.getDerivedStateFromProps(b,u.__s))),f=u.props,h=u.state,u.__v=t,d)null==T.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==T.getDerivedStateFromProps&&b!==f&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(b,v),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(b,u.__s,v)||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=b,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),g=0;g<u._sb.length;g++)u.__h.push(u._sb[g]);u._sb=[],u.__h.length&&l.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(b,u.__s,v),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(f,h,p)}))}if(u.context=v,u.props=b,u.__P=e,u.__e=!1,y=Ut.__r,x=0,"prototype"in T&&T.prototype.render){for(u.state=u.__s,u.__d=!1,y&&y(t),$=u.render(u.props,u.state,u.context),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[]}else do{u.__d=!1,y&&y(t),$=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++x<25);u.state=u.__s,null!=u.getChildContext&&(r=Kt(Kt({},r),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(p=u.getSnapshotBeforeUpdate(f,h)),ln(e,Qt(C=null!=$&&$.type===Zt&&null==$.key?$.props.children:$)?C:[C],t,n,r,o,i,l,a,s,c),u.base=t.__e,t.__h=null,u.__h.length&&l.push(u),m&&(u.__E=u.__=null)}catch(e){t.__v=null,(s||null!=i)&&(t.__e=a,t.__h=!!s,i[i.indexOf(a)]=null),Ut.__e(e,t,n)}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=bn(n.__e,t,n,r,o,i,l,s,c);($=Ut.diffed)&&$(t)}function mn(e,t,n){for(var r=0;r<n.length;r++)wn(n[r],n[++r],n[++r]);Ut.__c&&Ut.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Ut.__e(e,t.__v)}}))}function bn(e,t,n,r,o,i,l,a,s){var c,$,u,d=n.props,f=t.props,h=t.type,p=0;if("svg"===h&&(o=!0),null!=i)for(;p<i.length;p++)if((c=i[p])&&"setAttribute"in c==!!h&&(h?c.localName===h:3===c.nodeType)){e=c,i[p]=null;break}if(null==e){if(null===h)return document.createTextNode(f);e=o?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),i=null,a=!1}if(null===h)d===f||a&&e.data===f||(e.data=f);else{if(i=i&&Ft.call(e.childNodes),$=(d=n.props||Gt).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!a){if(null!=i)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(u||$)&&(u&&($&&u.__html==$.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||dn(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||dn(e,i,t[i],n[i],r)}(e,f,d,o,a),u)t.__k=[];else if(ln(e,Qt(p=t.props.children)?p:[p],t,n,r,o&&"foreignObject"!==h,i,l,i?i[0]:n.__k&&tn(n,0),a,s),null!=i)for(p=i.length;p--;)null!=i[p]&&Yt(i[p]);a||("value"in f&&void 0!==(p=f.value)&&(p!==e.value||"progress"===h&&!p||"option"===h&&p!==d.value)&&dn(e,"value",p,d.value,!1),"checked"in f&&void 0!==(p=f.checked)&&p!==e.checked&&dn(e,"checked",p,d.checked,!1))}return e}function wn(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Ut.__e(e,n)}}function vn(e,t,n){var r,o;if(Ut.unmount&&Ut.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||wn(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Ut.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&vn(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||Yt(e.__e),e.__=e.__e=e.__d=void 0}function gn(e,t,n){return this.constructor(e,n)}function yn(e,t,n){var r,o,i,l;Ut.__&&Ut.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,i=[],l=[],pn(t,e=(!r&&n||t).__k=Jt(Zt,null,[e]),o||Gt,Gt,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?Ft.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,l),mn(i,e,l)}function xn(e,t){yn(e,t,xn)}function En(e,t,n){var r,o,i,l,a=Kt({},e.props);for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)"key"==i?r=t[i]:"ref"==i?o=t[i]:a[i]=void 0===t[i]&&void 0!==l?l[i]:t[i];return arguments.length>2&&(a.children=arguments.length>3?Ft.call(arguments,2):n),Xt(e.type,a,r||e.key,o||e.ref,null)}Ft=qt.slice,Ut={__e:function(e,t,n,r){for(var o,i,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),l=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),l=o.__d),l)return o.__E=o}catch(t){e=t}throw e}},Bt=0,en.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Kt({},this.state),"function"==typeof e&&(e=e(Kt({},n),this.props)),e&&Kt(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),rn(this))},en.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rn(this))},en.prototype.render=Zt,zt=[],Ht="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vt=function(e,t){return e.__v.__b-t.__v.__b},on.__r=0,jt=0;var Cn=0;function Tn(e,t,n,r,o,i){var l,a,s={};for(a in t)"ref"==a?l=t[a]:s[a]=t[a];var c={type:e,props:s,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Cn,__source:o,__self:i};if("function"==typeof e&&(l=e.defaultProps))for(a in l)void 0===s[a]&&(s[a]=l[a]);return Ut.vnode&&Ut.vnode(c),c}const _n=e=>Tn("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.ge??"1.05em",height:e.ge??"1.05em",viewBox:"0 0 24 24",fill:"none",stroke:e.ye??"currentColor",strokeWidth:e.xe??"1.3",strokeLinecap:"round",strokeLinejoin:"round",class:Dt("tabler-icon inline-block mr-1",e.Ee),onClick:e.Ce,children:e.children}),kn=e=>Tn("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.ge??"1.05em",height:e.ge??"1.05em",viewBox:"0 0 24 24",fill:e.ye??"currentColor",stroke:"none",class:Dt("tabler-icon inline-block mr-1",e.Ee),children:e.children}),Sn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),Tn("path",{d:"M6 4v4"}),Tn("path",{d:"M6 12v8"}),Tn("path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),Tn("path",{d:"M12 4v10"}),Tn("path",{d:"M12 18v2"}),Tn("path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),Tn("path",{d:"M18 4v1"}),Tn("path",{d:"M18 9v11"})]}),In=e=>Tn(_n,{...e,children:[Tn("path",{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}),Tn("path",{d:"M10 18h-7"}),Tn("path",{d:"M21 18h-7"}),Tn("path",{d:"M6 15l-3 3l3 3"}),Tn("path",{d:"M18 15l3 3l-3 3"}),Tn("path",{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}),Tn("path",{d:"M10 18h-7"}),Tn("path",{d:"M21 18h-7"}),Tn("path",{d:"M6 15l-3 3l3 3"}),Tn("path",{d:"M18 15l3 3l-3 3"})]}),Mn=e=>Tn(_n,{...e,children:Tn("path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"})}),Rn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M9 14l-4 -4l4 -4"}),Tn("path",{d:"M5 10h11a4 4 0 1 1 0 8h-1"})]}),Nn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M15 14l4 -4l-4 -4"}),Tn("path",{d:"M19 10h-11a4 4 0 1 0 0 8h1"})]}),Ln=e=>Tn(_n,{...e,children:[Tn("path",{d:"M18 9l3 3l-3 3"}),Tn("path",{d:"M15 12h6"}),Tn("path",{d:"M6 9l-3 3l3 3"}),Tn("path",{d:"M3 12h6"}),Tn("path",{d:"M9 18l3 3l3 -3"}),Tn("path",{d:"M12 15v6"}),Tn("path",{d:"M15 6l-3 -3l-3 3"}),Tn("path",{d:"M12 3v6"})]}),On=e=>Tn(_n,{...e,children:[Tn("path",{d:"M3 9l4 -4l4 4m-4 -4v14"}),Tn("path",{d:"M21 15l-4 4l-4 -4m4 4v-14"})]}),An=e=>Tn(_n,{...e,children:[Tn("path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M4 20h14"})]}),Dn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M9 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M15 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M4 20h14"})]}),Fn=e=>Tn(_n,{...e,children:Tn("path",{d:"M6 9l6 6l6 -6"})}),Un=e=>Tn(_n,{...e,children:Tn("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"})}),Bn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M7 8l-4 4l4 4"}),Tn("path",{d:"M17 8l4 4l-4 4"}),Tn("path",{d:"M14 4l-4 16"})]}),zn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M4 6l5.5 0"}),Tn("path",{d:"M4 10l5.5 0"}),Tn("path",{d:"M4 14l5.5 0"}),Tn("path",{d:"M4 18l5.5 0"}),Tn("path",{d:"M14.5 6l5.5 0"}),Tn("path",{d:"M14.5 10l5.5 0"}),Tn("path",{d:"M14.5 14l5.5 0"}),Tn("path",{d:"M14.5 18l5.5 0"})]}),Pn=e=>Tn(_n,{...e,children:Tn("path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm6 -1v18m6 -18v18"})}),Hn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3"}),Tn("path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.182 -.086 3.148 -.241m4.852 -2.759v-6"}),Tn("path",{d:"M4 12v6c0 1.657 3.582 3 8 3c1.064 0 2.079 -.078 3.007 -.22"}),Tn("path",{d:"M19 16v3"}),Tn("path",{d:"M19 22v.01"})]}),Vn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M12 8h3a1 1 0 0 1 1 1v3"}),Tn("path",{d:"M16 16h-7a1 1 0 0 1 -1 -1v-7"}),Tn("path",{d:"M12 20v.01"}),Tn("path",{d:"M16 20v.01"}),Tn("path",{d:"M8 20v.01"}),Tn("path",{d:"M4 20v.01"}),Tn("path",{d:"M4 16v.01"}),Tn("path",{d:"M4 12v.01"}),Tn("path",{d:"M4 8v.01"}),Tn("path",{d:"M8 4v.01"}),Tn("path",{d:"M12 4v.01"}),Tn("path",{d:"M16 4v.01"}),Tn("path",{d:"M20 4v.01"}),Tn("path",{d:"M20 8v.01"}),Tn("path",{d:"M20 12v.01"}),Tn("path",{d:"M20 16v.01"}),Tn("path",{d:"M3 3l18 18"})]}),jn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),Tn("path",{d:"M7 11l5 5l5 -5"}),Tn("path",{d:"M12 4l0 12"})]}),Gn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),Tn("path",{d:"M12 9v4"}),Tn("path",{d:"M12 16v.01"})]}),qn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M12 3a3 3 0 0 0 -3 3v12a3 3 0 0 0 3 3"}),Tn("path",{d:"M6 3a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3"}),Tn("path",{d:"M13 7h7a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-7"}),Tn("path",{d:"M5 7h-1a1 1 0 0 0 -1 1v8a1 1 0 0 0 1 1h1"}),Tn("path",{d:"M17 12h.01"}),Tn("path",{d:"M13 12h.01"})]}),Wn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M12 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),Tn("path",{d:"M5 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),Tn("path",{d:"M19 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),Tn("path",{d:"M6.5 17.5l5.5 -4.5l5.5 4.5"}),Tn("path",{d:"M12 7l0 6"})]}),Qn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),Tn("path",{d:"M12 9h.01"}),Tn("path",{d:"M11 12h1v4h1"})]}),Kn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M16 16v2a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-8a2 2 0 0 1 2 -2h2v-2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-2"}),Tn("path",{d:"M10 8l-2 0l0 2"}),Tn("path",{d:"M8 14l0 2l2 0"}),Tn("path",{d:"M14 8l2 0l0 2"}),Tn("path",{d:"M16 14l0 2l-2 0"})]}),Yn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5"}),Tn("path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5"}),Tn("path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5"}),Tn("path",{d:"M11 6l9 0"}),Tn("path",{d:"M11 12l9 0"}),Tn("path",{d:"M11 18l9 0"})]}),Jn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M13 5h8"}),Tn("path",{d:"M13 9h5"}),Tn("path",{d:"M13 15h8"}),Tn("path",{d:"M13 19h5"}),Tn("path",{d:"M3 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M3 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),Xn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M15 4.5l-4 4l-4 1.5l-1.5 1.5l7 7l1.5 -1.5l1.5 -4l4 -4"}),Tn("path",{d:"M9 15l-4.5 4.5"}),Tn("path",{d:"M14.5 4l5.5 5.5"})]}),Zn=e=>Tn(_n,{...e,children:[Tn("path",{d:"M19 8h-14"}),Tn("path",{d:"M5 12h9"}),Tn("path",{d:"M11 16h-6"}),Tn("path",{d:"M15 16h6"}),Tn("path",{d:"M18 13v6"})]}),er=e=>Tn(_n,{...e,children:[Tn("path",{d:"M19 8h-14"}),Tn("path",{d:"M5 12h7"}),Tn("path",{d:"M12 16h-7"}),Tn("path",{d:"M16 14l4 4"}),Tn("path",{d:"M20 14l-4 4"})]}),tr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M10 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5"}),Tn("path",{d:"M19 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5"})]}),nr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M15 15m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M21 11v-3a2 2 0 0 0 -2 -2h-6l3 3m0 -6l-3 3"}),Tn("path",{d:"M3 13v3a2 2 0 0 0 2 2h6l-3 -3m0 6l3 -3"})]}),rr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M9 4.55a8 8 0 0 1 6 14.9m0 -4.45v5h5"}),Tn("path",{d:"M5.63 7.16l0 .01"}),Tn("path",{d:"M4.06 11l0 .01"}),Tn("path",{d:"M4.63 15.1l0 .01"}),Tn("path",{d:"M7.16 18.37l0 .01"}),Tn("path",{d:"M11 19.94l0 .01"})]}),or=e=>Tn(_n,{...e,children:[Tn("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),Tn("path",{d:"M21 21l-6 -6"})]}),ir=e=>Tn(_n,{...e,children:[Tn("path",{d:"M8 8m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M12 20v.01"}),Tn("path",{d:"M16 20v.01"}),Tn("path",{d:"M8 20v.01"}),Tn("path",{d:"M4 20v.01"}),Tn("path",{d:"M4 16v.01"}),Tn("path",{d:"M4 12v.01"}),Tn("path",{d:"M4 8v.01"}),Tn("path",{d:"M4 4v.01"}),Tn("path",{d:"M8 4v.01"}),Tn("path",{d:"M12 4v.01"}),Tn("path",{d:"M16 4v.01"}),Tn("path",{d:"M20 4v.01"}),Tn("path",{d:"M20 8v.01"}),Tn("path",{d:"M20 12v.01"}),Tn("path",{d:"M20 16v.01"}),Tn("path",{d:"M20 20v.01"})]}),lr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M3 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),Tn("path",{d:"M15 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),Tn("path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"}),Tn("path",{d:"M6 15v-1a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v1"}),Tn("path",{d:"M12 9l0 3"})]}),ar=e=>Tn(_n,{...e,children:[Tn("path",{d:"M4 15l3 3l3 -3"}),Tn("path",{d:"M7 6v12"}),Tn("path",{d:"M17 3a2 2 0 0 1 2 2v3a2 2 0 1 1 -4 0v-3a2 2 0 0 1 2 -2z"}),Tn("path",{d:"M17 16m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),Tn("path",{d:"M19 16v3a2 2 0 0 1 -2 2h-1.5"})]}),sr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M4 15l3 3l3 -3"}),Tn("path",{d:"M7 6v12"}),Tn("path",{d:"M17 14a2 2 0 0 1 2 2v3a2 2 0 1 1 -4 0v-3a2 2 0 0 1 2 -2z"}),Tn("path",{d:"M17 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),Tn("path",{d:"M19 5v3a2 2 0 0 1 -2 2h-1.5"})]}),cr=e=>Tn(_n,{...e,children:Tn("path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"})}),$r=e=>Tn(_n,{...e,children:[Tn("path",{d:"M22 12h-20"}),Tn("path",{d:"M4 14v-8a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v8"}),Tn("path",{d:"M18 20a2 2 0 0 0 2 -2"}),Tn("path",{d:"M4 18a2 2 0 0 0 2 2"}),Tn("path",{d:"M14 20l-4 0"})]}),ur=e=>Tn(_n,{...e,children:[Tn("path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z"}),Tn("path",{d:"M3 10h18"}),Tn("path",{d:"M10 3v18"})]}),dr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M12 21h-7a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v8"}),Tn("path",{d:"M3 10h18"}),Tn("path",{d:"M10 3v18"}),Tn("path",{d:"M19 22v-6"}),Tn("path",{d:"M22 19l-3 -3l-3 3"})]}),fr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5"}),Tn("path",{d:"M3 10h18"}),Tn("path",{d:"M10 3v18"}),Tn("path",{d:"M16 19h6"}),Tn("path",{d:"M19 16v6"})]}),hr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),Tn("path",{d:"M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z"})]}),pr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M19 10h-14"}),Tn("path",{d:"M5 6h14"}),Tn("path",{d:"M14 14h-9"}),Tn("path",{d:"M5 18h6"}),Tn("path",{d:"M18 15v6"}),Tn("path",{d:"M15 18h6"})]}),mr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),Tn("path",{d:"M7 9l5 -5l5 5"}),Tn("path",{d:"M12 4l0 12"})]}),br=e=>Tn(_n,{...e,children:[Tn("path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3"}),Tn("path",{d:"M15 6l3 3"}),Tn("path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"}),Tn("path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"})]}),wr=e=>Tn(_n,{...e,children:[Tn("path",{d:"M3 16m0 1a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v3a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1z"}),Tn("path",{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-6"}),Tn("path",{d:"M12 8h4v4"}),Tn("path",{d:"M16 8l-5 5"})]}),vr=e=>Tn(_n,{...e,children:Tn("path",{d:"M6 20a2 2 0 1 0-4 0a2 2 0 0 0 4 0M16 4a2 2 0 1 0-4 0a2 2 0 0 0 4 0m0 16a2 2 0 1 0-4 0a2 2 0 0 0 4 0m-5-8a2 2 0 1 0-4 0a2 2 0 0 0 4 0m10 0a2 2 0 1 0-4 0a2 2 0 0 0 4 0M5.058 18.306l2.88-4.606m2.123-3.397l2.877-4.604m-2.873 8.006l2.876 4.6M15.063 5.7l2.881 4.61"})}),gr=e=>Tn(kn,{...e,children:Tn("path",{d:"M12 10a1 1 0 0 1 1 1v7.584l1.293 -1.291a1 1 0 0 1 1.32 -.083l.094 .083a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1 -.112 .097l-.11 .071l-.114 .054l-.105 .035l-.149 .03l-.117 .006l-.075 -.003l-.126 -.017l-.111 -.03l-.111 -.044l-.098 -.052l-.096 -.067l-.09 -.08l-3 -3a1 1 0 0 1 1.414 -1.414l1.293 1.293v-7.586a1 1 0 0 1 1 -1m0 -8a3 3 0 1 1 -3 3l.005 -.176a3 3 0 0 1 2.995 -2.824"})}),yr=e=>Tn(kn,{...e,children:Tn("path",{d:"M6.707 8.293a1 1 0 0 1 0 1.414l-1.292 1.293h7.585a1 1 0 0 1 0 2h-7.585l1.292 1.293a1 1 0 0 1 .083 1.32l-.083 .094a1 1 0 0 1 -1.414 0l-3 -3a1 1 0 0 1 -.097 -.112l-.071 -.11l-.054 -.114l-.035 -.105l-.025 -.118l-.007 -.058l-.004 -.09l.003 -.075l.017 -.126l.03 -.111l.044 -.111l.052 -.098l.067 -.096l.08 -.09l3 -3a1 1 0 0 1 1.414 0m12.293 .707a3 3 0 1 1 0 6a3 3 0 0 1 0 -6"})}),xr=e=>Tn(kn,{...e,children:Tn("path",{d:"M18.707 8.293l3 3q .054 .053 .097 .112l.071 .11l.054 .114l.035 .105l.03 .148l.006 .118l-.003 .075l-.017 .126l-.03 .111l-.044 .111l-.052 .098l-.074 .104l-.073 .082l-3 3a1 1 0 0 1 -1.414 -1.414l1.292 -1.293h-7.585a1 1 0 0 1 0 -2h7.585l-1.292 -1.293a1 1 0 0 1 -.083 -1.32l.083 -.094a1 1 0 0 1 1.414 0m-13.707 .707a3 3 0 1 1 0 6a3 3 0 0 1 0 -6"})}),Er=e=>Tn(kn,{...e,children:[Tn("path",{d:"M11.852 2.011l.058 -.007l.09 -.004l.075 .003l.126 .017l.111 .03l.111 .044l.098 .052l.104 .074l.082 .073l3 3a1 1 0 1 1 -1.414 1.414l-1.293 -1.292v7.585a1 1 0 0 1 -2 0v-7.585l-1.293 1.292a1 1 0 0 1 -1.32 .083l-.094 -.083a1 1 0 0 1 0 -1.414l3 -3q .053 -.054 .112 -.097l.11 -.071l.114 -.054l.105 -.035z"}),Tn("path",{d:"M12 16a3 3 0 1 1 0 6a3 3 0 0 1 0 -6"})]}),Cr=e=>Tn(kn,{...e,children:Tn("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})}),Tr=e=>Tn(kn,{...e,children:Tn("path",{d:"M7 3.34a10 10 0 1 1 -4.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 4.995 -8.336z"})}),_r=e=>Tn(kn,{...e,children:Tn("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10zm6 9a1 1 0 0 0 -1 1a5 5 0 0 1 -5 5a1 1 0 0 0 0 2a7 7 0 0 0 7 -7a1 1 0 0 0 -1 -1z"})}),kr=e=>Tn(kn,{...e,children:Tn("path",{d:"M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005 .195v12.666c0 1.96 -1.537 3.56 -3.472 3.662l-.195 .005h-12.666a3.667 3.667 0 0 1 -3.662 -3.472l-.005 -.195v-12.666c0 -1.96 1.537 -3.56 3.472 -3.662l.195 -.005h12.666zm-2.626 7.293a1 1 0 0 0 -1.414 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"})}),Sr=e=>Tn(kn,{...e,children:Tn("path",{d:"M19 2h-14a3 3 0 0 0 -3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3 -3v-14a3 3 0 0 0 -3 -3z"})}),Ir=e=>Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline-block mr-1 text-[--icon-stroke]",e.Ee),width:"1.05em",height:"1.05em",viewBox:"0 0 24 24",children:Tn("path",{fill:"currentColor",d:"m3.001 11.996l3 .004a1 1 0 0 1 .114 1.993L6 14l-2-.004v5.003L6 19a1 1 0 0 1 .993.883L7 20a1 1 0 0 1-.883.993L6 21H3a1 1 0 0 1-.993-.883L2 20v-7.004a1 1 0 0 1 .885-.994zM21 17a1 1 0 0 1 .117 1.993L21 19H9a1 1 0 0 1-.117-1.993L9 17zm0-3a1 1 0 0 1 .117 1.993L21 16H9a1 1 0 0 1-.117-1.993L9 14zM6 2a1 1 0 0 1 .117 1.993L6 4H4v4.995h2a1 1 0 0 1 .993.883L7 9.995a1 1 0 0 1-.883.993L6 10.995H3a1 1 0 0 1-.993-.883L2 9.995V3a1 1 0 0 1 .883-.993L3 2zm15 5a1 1 0 0 1 .117 1.993L21 9H9a1 1 0 0 1-.117-1.993L9 7zm0-3a1 1 0 0 1 .117 1.993L21 6H9a1 1 0 0 1-.117-1.993L9 4z"})}),Mr=Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:"inline-block mr-1 text-[--icon-stroke]",width:"0.95em",height:"1.05em",viewBox:"0 0 24 24",children:[Tn("path",{fill:"currentColor",d:"M20.005 5.995h-1v2h1v8h-1v2h1c1.103 0 2-.897 2-2v-8c0-1.102-.898-2-2-2m-14 4H15v4H6.005z"}),Tn("path",{fill:"currentColor",d:"M17.005 17.995V4H20V2h-8v2h3.005v1.995h-11c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2h11V20H12v2h8v-2h-2.995zm-13-2v-8h11v8z"})]}),Rr=Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:"inline-block mr-1 text-[--icon-stroke]",width:"1em",height:"1em",viewBox:"0 0 24 24",children:Tn("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 17h3m0 0h3m-3 0v-3m0 3v3m6 1h1a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v6"})}),Nr=e=>Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline-block mr-1 text-[--icon-stroke] translate-y-[-1px]",e.Ee),width:"1em",height:"1em",viewBox:"0 0 24 24",children:Tn("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 14v1a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-6m-3-3H7m0 0H4m3 0V5m0 3v3"})}),Lr=Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:"inline-block mr-1 text-[--icon-stroke]",width:"1em",height:"1em",viewBox:"0 0 512 512",children:[Tn("rect",{width:"336",height:"336",x:"128",y:"128",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",rx:"57",ry:"57"}),Tn("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"m383.5 128l.5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24m168-168v160m80-80H216"})]}),Or=e=>Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline-block mr-1 text-[--icon-stroke] translate-y-[-2px]",e.Ee),width:"1em",height:"1em",viewBox:"0 0 20 20",children:Tn("path",{fill:"currentColor",d:"M8.915 3.541c.29-.04.473-.033.613-.005a1.5 1.5 0 0 1 .486.207a.75.75 0 1 0 .772-1.286a2.977 2.977 0 0 0-.964-.392c-.359-.072-.724-.065-1.128-.007l-.018.002c-.8.134-1.427.547-1.855 1.162c-.413.596-.613 1.34-.67 2.125a.75.75 0 0 0-.001.053v.008l-.001.024l-.003.083l-.013.27c-.01.222-.027.52-.046.872l-.005.093H4.8a.75.75 0 0 0 0 1.5h1.195l-.057.968a417.352 417.352 0 0 1-.287 4.522c-.107 1.284-.22 2.138-1.027 2.61c-.403.229-1.019.215-1.69-.12a.75.75 0 1 0-.67 1.341c.927.464 2.11.65 3.107.08l.006-.003c1.533-.895 1.668-2.55 1.76-3.666l.01-.12v-.004c.059-.769.225-3.46.35-5.608H9.3a.75.75 0 1 0 0-1.5H7.584c.037-.668.062-1.156.065-1.316c.046-.606.195-1.055.404-1.356a1.25 1.25 0 0 1 .862-.537m7.865 6.74a.75.75 0 0 0-1.06-1.061l-2.579 2.578a36.224 36.224 0 0 1-.76-1.353l-.073-.117c-.153-.245-.381-.611-.658-.867a1.609 1.609 0 0 0-.736-.403a1.546 1.546 0 0 0-.957.102a.75.75 0 0 0-.14.078l-.033.023c-.086.06-.183.128-.283.232c-.045.047-.09.1-.132.149l-.022.026l-.164.19a.75.75 0 0 0 1.134.983l.173-.202l.021-.025l.067-.077l.012-.009c.01.007.023.017.041.034c.057.052.125.135.212.263a7.8 7.8 0 0 1 .168.259l.088.14c.121.235.49.897.946 1.67L9.22 15.72a.75.75 0 1 0 1.06 1.06l2.662-2.661a38.465 38.465 0 0 1 .816 1.452c.015.024.032.053.05.086c.13.221.35.597.64.872c.18.172.422.34.733.422a1.605 1.605 0 0 0 1.056-.096c.356-.178.576-.407.804-.778a.75.75 0 0 0-1.28-.784a.952.952 0 0 1-.126.176a.15.15 0 0 1-.032.025a.173.173 0 0 1-.033.006h-.007s-.007-.002-.02-.01a.383.383 0 0 1-.063-.05a1.463 1.463 0 0 1-.203-.257a6.014 6.014 0 0 1-.158-.258l-.06-.103a46.452 46.452 0 0 0-1.021-1.799zm-6.182.242h.002Z"})}),Ar=()=>Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:"inline-block mr-1 text-[--icon-stroke]",width:"1em",height:"1em",viewBox:"0 0 24 24",children:Tn("path",{fill:"currentColor",d:"M5.75 3A2.75 2.75 0 0 0 3 5.75v12.5A2.75 2.75 0 0 0 5.75 21h12.5A2.75 2.75 0 0 0 21 18.25V5.75A2.75 2.75 0 0 0 18.25 3zM11 4.5v1.25A2.25 2.25 0 0 0 13.25 8h6.25v10.25c0 .69-.56 1.25-1.25 1.25H5.75c-.69 0-1.25-.56-1.25-1.25V5.75c0-.69.56-1.25 1.25-1.25zm8.5 2h-6.25a.75.75 0 0 1-.75-.75V4.5h5.75c.69 0 1.25.56 1.25 1.25z"})}),Dr=e=>Tn("div",{class:Dt("w-[1.05em] h-[1.05em] inline-block mr-1",e.class),children:Tn(ar,{Ee:"[font-size:150%] translate-x-[-6px] translate-y-[-1px]"})}),Fr=e=>Tn("div",{class:Dt("w-[1.05em] h-[1.05em] inline-block mr-1",e.class),children:Tn(sr,{Ee:"[font-size:150%] translate-x-[-6px] translate-y-[-1px]"})});var Ur=(e=>(e[e.Te=1],e[e._e=2],e[e.ke=3],e[e.Se=4],e[e.Ie=5],e[e.Me=6],e[e.Re=7],e[e.Ne=8],e[e.Le=9],e[e.Oe=10],e[e.Ae=11],e[e.De=12],e[e.Fe=13],e[e.Ue=14],e[e.Be=15],e[e.ze=16],e[e.Pe=17],e[e.He=18],e[e.Ve=19],e[e.je=20],e[e.Ge=21],e[e.qe=22],e[e.We=23],e[e.Qe=24],e[e.Ke=25],e[e.Ye=26],e[e.Je=27],e[e.Xe=28],e[e.Ze=29],e[e.et=30],e[e.tt=31],e[e.nt=32],e[e.rt=33],e[e.ot=34],e[e.it=35],e[e.lt=36],e[e.st=37],e[e.ct=38],e[e.B=39],e[e.$t=40],e[e.ut=41],e[e.dt=42],e[e.ft=43],e[e.ht=44],e[e.bt=45],e[e.wt=46],e[e.vt=47],e[e.gt=48],e[e.yt=49],e[e.xt=50],e[e.Et=51],e[e.Ct=52],e[e.Tt=53],e[e._t=54],e[e.kt=55],e))(Ur||{});const Br=e=>{switch(e.St){case 1:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M14 7v1H8v6H7V8H1V7h6V1h1v6z"})});case 2:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.5 1h-13l-.5.5v3l.5.5H2v8.5l.5.5h11l.5-.5V5h.5l.5-.5v-3zm-1 3H2V2h12v2zM3 13V5h10v8zm8-6H5v1h6z","clip-rule":"evenodd"})});case 3:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m3 9l2.146 2.146l-.707.708l-3-3v-.708l3-3l.707.708L3 8h10l-2.146-2.146l.707-.708l3 3v.708l-3 3l-.707-.707L13 9z","clip-rule":"evenodd"})});case 4:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m3.147 9l5 5h.707l5-5l-.707-.707L9 12.439V2H8v10.44L3.854 8.292z","clip-rule":"evenodd"})});case 5:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4.207 15.061L1 11.854v-.707L4.207 7.94l.707.707l-2.353 2.354H15v1H2.56l2.354 2.353zm7.586-7L15 4.854v-.707L11.793.94l-.707.707L13.439 4H1v1h12.44l-2.354 2.354z","clip-rule":"evenodd"})});case 6:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m13.854 7l-5-5h-.707l-5 5l.707.707L8 3.561V14h1V3.56l4.146 4.147z","clip-rule":"evenodd"})});case 7:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M13.893 13.558L10 6.006v-4h1v-1H9.994V1l-.456.005H5V2h1v3.952l-3.894 7.609A1 1 0 0 0 3 15.006h10a1 1 0 0 0 .893-1.448m-7-7.15L7 6.193V2.036l2-.024v4.237l.11.215l1.827 3.542H5.049zM3 14.017l1.54-3.011h6.916l1.547 3z"})});case 8:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M8.854 11.702h-1l-.816-2.159H3.772l-.768 2.16H2L4.954 4h.935zm-2.111-2.97L5.534 5.45a3.142 3.142 0 0 1-.118-.515h-.021c-.036.218-.077.39-.124.515L4.073 8.732zm7.013 2.97h-.88v-.86h-.022c-.383.66-.947.99-1.692.99c-.548 0-.978-.146-1.29-.436c-.307-.29-.461-.675-.461-1.155c0-1.027.605-1.625 1.815-1.794l1.65-.23c0-.935-.379-1.403-1.134-1.403c-.663 0-1.26.226-1.794.677V6.59c.54-.344 1.164-.516 1.87-.516c1.292 0 1.938.684 1.938 2.052zm-.88-2.782l-1.327.183c-.409.057-.717.159-.924.306c-.208.143-.312.399-.312.768c0 .268.095.489.285.66c.193.169.45.253.768.253a1.41 1.41 0 0 0 1.08-.457c.286-.308.43-.696.43-1.165z"})});case 9:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m14.431 3.323l-8.47 10l-.79-.036l-3.35-4.77l.818-.574l2.978 4.24l8.051-9.506z","clip-rule":"evenodd"})});case 10:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m7.976 10.072l4.357-4.357l.62.618L8.284 11h-.618L3 6.333l.619-.618z","clip-rule":"evenodd"})});case 11:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.072 8.024L5.715 3.667l.618-.62L11 7.716v.618L6.333 13l-.618-.619z","clip-rule":"evenodd"})});case 12:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m7.116 8l-4.558 4.558l.884.884L8 8.884l4.558 4.558l.884-.884L8.884 8l4.558-4.558l-.884-.884L8 7.116L3.442 2.558l-.884.884z","clip-rule":"evenodd"})});case 13:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m8 8.707l3.646 3.647l.708-.707L8.707 8l3.647-3.646l-.707-.708L8 7.293L4.354 3.646l-.707.708L7.293 8l-3.646 3.646l.707.708z","clip-rule":"evenodd"})});case 14:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M4.708 5.578L2.061 8.224l2.647 2.646l-.708.708l-3-3V7.87l3-3zm7-.708L11 5.578l2.647 2.646L11 10.87l.708.708l3-3V7.87zM4.908 13l.894.448l5-10L9.908 3z"})});case 15:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",children:[Tn("path",{d:"m4 4l1-1h5.414L14 6.586V14l-1 1H5l-1-1zm9 3l-3-3H5v10h8z"}),Tn("path",{d:"M3 1L2 2v10l1 1V2h6.414l-1-1z"})]})});case 16:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M5 8h6v1H5z"})});case 17:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M13 3.5C13 2.119 10.761 1 8 1S3 2.119 3 3.5c0 .04.02.077.024.117H3v8.872l.056.357C3.336 14.056 5.429 15 8 15c2.571 0 4.664-.944 4.944-2.154l.056-.357V3.617h-.024c.004-.04.024-.077.024-.117M8 2.032c2.442 0 4 .964 4 1.468s-1.558 1.468-4 1.468S4 4 4 3.5s1.558-1.468 4-1.468m4 10.458l-.03.131C11.855 13.116 10.431 14 8 14s-3.855-.884-3.97-1.379L4 12.49v-7.5A7.414 7.414 0 0 0 8 6a7.414 7.414 0 0 0 4-1.014z"})});case 18:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m13 2l1 1v10l-1 1H3l-1-1V3l1-1zm-.254 1.25H3.255v9.5h9.491z","clip-rule":"evenodd"})});case 19:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M3.5 2v3.5L4 6h3.5V5H4.979l.941-.941a3.552 3.552 0 1 1 5.023 5.023L5.746 14.28l.72.72l5.198-5.198A4.57 4.57 0 0 0 5.2 3.339l-.7.7V2z","clip-rule":"evenodd"})});case 20:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M13.23 1h-1.46L3.52 9.25l-.16.22L1 13.59L2.41 15l4.12-2.36l.22-.16L15 4.23V2.77zM2.41 13.59l1.51-3l1.45 1.45zm3.83-2.06L4.47 9.76l8-8l1.77 1.77z"})});case 21:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M4 8a1 1 0 1 1-2 0a1 1 0 0 1 2 0m5 0a1 1 0 1 1-2 0a1 1 0 0 1 2 0m5 0a1 1 0 1 1-2 0a1 1 0 0 1 2 0"})});case 22:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.6 1c1.6.1 3.1.9 4.2 2c1.3 1.4 2 3.1 2 5.1c0 1.6-.6 3.1-1.6 4.4c-1 1.2-2.4 2.1-4 2.4c-1.6.3-3.2.1-4.6-.7c-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1m.5 12.9c1.3-.3 2.5-1 3.4-2.1c.8-1.1 1.3-2.4 1.2-3.8c0-1.6-.6-3.2-1.7-4.3c-1-1-2.2-1.6-3.6-1.7c-1.3-.1-2.7.2-3.8 1c-1.1.8-1.9 1.9-2.3 3.3c-.4 1.3-.4 2.7.2 4c.6 1.3 1.5 2.3 2.7 3c1.2.7 2.6.9 3.9.6M7.9 7.5L10.3 5l.7.7l-2.4 2.5l2.4 2.5l-.7.7l-2.4-2.5l-2.4 2.5l-.7-.7l2.4-2.5l-2.4-2.5l.7-.7z","clip-rule":"evenodd"})});case 23:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M1.48 1.48a.5.5 0 0 0-.049.65l.049.057l2.69 2.69A6.657 6.657 0 0 0 1.533 8.71a.5.5 0 0 0 .97.242a5.66 5.66 0 0 1 2.386-3.356l1.207 1.207a2.667 2.667 0 0 0 3.771 3.771l3.946 3.946a.5.5 0 0 0 .756-.65l-.049-.057l-4.075-4.076v-.001l-.8-.799l-1.913-1.913h.001l-1.92-1.919v-.001l-.755-.754l-2.871-2.87a.5.5 0 0 0-.707 0m5.323 6.03l2.356 2.357A1.667 1.667 0 0 1 6.802 7.51M8 3.667c-.667 0-1.314.098-1.926.283l.825.824a5.669 5.669 0 0 1 6.6 4.181a.5.5 0 0 0 .97-.242A6.669 6.669 0 0 0 8 3.667m.13 2.34l2.534 2.533A2.668 2.668 0 0 0 8.13 6.006"})});case 24:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M8 6.003a2.667 2.667 0 1 1 0 5.334a2.667 2.667 0 0 1 0-5.334m0 1a1.667 1.667 0 1 0 0 3.334a1.667 1.667 0 0 0 0-3.334m0-3.336c3.076 0 5.73 2.1 6.467 5.043a.5.5 0 1 1-.97.242a5.67 5.67 0 0 0-10.995.004a.5.5 0 0 1-.97-.243A6.669 6.669 0 0 1 8 3.667"})});case 25:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("g",{fill:"currentColor",children:[Tn("path",{d:"m4.5 1l-.5.5v1.527a4.551 4.551 0 0 1 1 0V2h9v5h-1.707L11 8.293V7H8.973a4.551 4.551 0 0 1 0 1H10v1.5l.854.354L12.707 8H14.5l.5-.5v-6l-.5-.5z"}),Tn("path",{"fill-rule":"evenodd",d:"M6.417 10.429a3.5 3.5 0 1 0-3.834 0A4.501 4.501 0 0 0 0 14.5v.5h1v-.5a3.502 3.502 0 0 1 7 0v.5h1v-.5a4.501 4.501 0 0 0-2.583-4.071M4.5 10a2.5 2.5 0 1 1 0-5a2.5 2.5 0 0 1 0 5","clip-rule":"evenodd"})]})});case 26:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15 2v1.67l-5 4.759V14H6V8.429l-5-4.76V2zM7 8v5h2V8l5-4.76V3H2v.24z","clip-rule":"evenodd"})});case 27:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M9.1 4.4L8.6 2H7.4l-.5 2.4l-.7.3l-2-1.3l-.9.8l1.3 2l-.2.7l-2.4.5v1.2l2.4.5l.3.8l-1.3 2l.8.8l2-1.3l.8.3l.4 2.3h1.2l.5-2.4l.8-.3l2 1.3l.8-.8l-1.3-2l.3-.8l2.3-.4V7.4l-2.4-.5l-.3-.8l1.3-2l-.8-.8l-2 1.3zM9.4 1l.5 2.4L12 2.1l2 2l-1.4 2.1l2.4.4v2.8l-2.4.5L14 12l-2 2l-2.1-1.4l-.5 2.4H6.6l-.5-2.4L4 13.9l-2-2l1.4-2.1L1 9.4V6.6l2.4-.5L2.1 4l2-2l2.1 1.4l.4-2.4zm.6 7c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2M8 9c.6 0 1-.4 1-1s-.4-1-1-1s-1 .4-1 1s.4 1 1 1"})});case 28:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m7.389 12.99l-1.27-1.27l.67-.7l2.13 2.13v.7l-2.13 2.13l-.71-.71L7.349 14h-1.85a2.49 2.49 0 0 1-2.5-2.5V5.95a2.59 2.59 0 0 1-1.27-.68a2.52 2.52 0 0 1-.54-2.73A2.5 2.5 0 0 1 3.499 1a2.45 2.45 0 0 1 1 .19a2.48 2.48 0 0 1 1.35 1.35c.133.317.197.658.19 1a2.5 2.5 0 0 1-2 2.45v5.5a1.5 1.5 0 0 0 1.5 1.5zm-4.68-8.25a1.5 1.5 0 0 0 2.08-2.08a1.55 1.55 0 0 0-.68-.56a1.49 1.49 0 0 0-.86-.08a1.49 1.49 0 0 0-1.18 1.18a1.49 1.49 0 0 0 .08.86c.117.277.311.513.56.68m10.33 6.3c.48.098.922.335 1.27.68a2.51 2.51 0 0 1 .31 3.159a2.5 2.5 0 1 1-3.47-3.468c.269-.182.571-.308.89-.37V5.49a1.5 1.5 0 0 0-1.5-1.5h-1.85l1.27 1.27l-.71.71l-2.13-2.13v-.7l2.13-2.13l.71.71l-1.27 1.27h1.85a2.49 2.49 0 0 1 2.5 2.5zm-.351 3.943a1.5 1.5 0 0 0 1.1-2.322a1.55 1.55 0 0 0-.68-.56a1.49 1.49 0 0 0-.859-.08a1.49 1.49 0 0 0-1.18 1.18a1.49 1.49 0 0 0 .08.86a1.5 1.5 0 0 0 1.539.922","clip-rule":"evenodd"})});case 29:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("g",{fill:"currentColor",children:[Tn("path",{d:"M15 13v1H1.5l-.5-.5V0h1v13z"}),Tn("path",{d:"M13 3.207L7.854 8.354h-.708L5.5 6.707l-3.646 3.647l-.708-.708l4-4h.708L7.5 7.293l5.146-5.147h.707l2 2l-.707.708z"})]})});case 30:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.507 12.324a7 7 0 0 0 .065-8.56A7 7 0 0 0 2 4.393V2H1v3.5l.5.5H5V5H2.811a6.008 6.008 0 1 1-.135 5.77l-.887.462a7 7 0 0 0 11.718 1.092m-3.361-.97l.708-.707L8 7.792V4H7v4l.146.354z","clip-rule":"evenodd"})});case 31:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.568 1.031A6.8 6.8 0 0 1 12.76 3.05a7.06 7.06 0 0 1 .46 9.39a6.85 6.85 0 0 1-8.58 1.74a7 7 0 0 1-3.12-3.5a7.12 7.12 0 0 1-.23-4.71a7 7 0 0 1 2.77-3.79a6.8 6.8 0 0 1 4.508-1.149M9.04 13.88a5.89 5.89 0 0 0 3.41-2.07a6.07 6.07 0 0 0-.4-8.06a5.82 5.82 0 0 0-7.43-.74a6.06 6.06 0 0 0 .5 10.29a5.81 5.81 0 0 0 3.92.58M7.375 6h1.25V5h-1.25zm1.25 1v4h-1.25V7z","clip-rule":"evenodd"})});case 32:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6 2.984V2h-.09c-.313 0-.616.062-.909.185a2.33 2.33 0 0 0-.775.53a2.23 2.23 0 0 0-.493.753v.001a3.542 3.542 0 0 0-.198.83v.002a6.08 6.08 0 0 0-.024.863c.012.29.018.58.018.869c0 .203-.04.393-.117.572v.001a1.504 1.504 0 0 1-.765.787a1.376 1.376 0 0 1-.558.115H2v.984h.09c.195 0 .38.04.556.121l.001.001c.178.078.329.184.455.318l.002.002c.13.13.233.285.307.465l.001.002c.078.18.117.368.117.566c0 .29-.006.58-.018.869c-.012.296-.004.585.024.87v.001c.033.283.099.558.197.824v.001c.106.273.271.524.494.753c.223.23.482.407.775.53c.293.123.596.185.91.185H6v-.984h-.09c-.2 0-.387-.038-.563-.115a1.613 1.613 0 0 1-.457-.32a1.659 1.659 0 0 1-.309-.467c-.074-.18-.11-.37-.11-.573c0-.228.003-.453.011-.672c.008-.228.008-.45 0-.665a4.639 4.639 0 0 0-.055-.64a2.682 2.682 0 0 0-.168-.609A2.284 2.284 0 0 0 3.522 8a2.284 2.284 0 0 0 .738-.955c.08-.192.135-.393.168-.602c.033-.21.051-.423.055-.64c.008-.22.008-.442 0-.666c-.008-.224-.012-.45-.012-.678a1.47 1.47 0 0 1 .877-1.354a1.33 1.33 0 0 1 .563-.121zm4 10.032V14h.09c.313 0 .616-.062.909-.185c.293-.123.552-.3.775-.53c.223-.23.388-.48.493-.753v-.001c.1-.266.165-.543.198-.83v-.002c.028-.28.036-.567.024-.863c-.012-.29-.018-.58-.018-.869c0-.203.04-.393.117-.572v-.001a1.502 1.502 0 0 1 .765-.787a1.38 1.38 0 0 1 .558-.115H14v-.984h-.09c-.196 0-.381-.04-.557-.121l-.001-.001a1.376 1.376 0 0 1-.455-.318l-.002-.002a1.415 1.415 0 0 1-.307-.465v-.002a1.405 1.405 0 0 1-.118-.566c0-.29.006-.58.018-.869a6.174 6.174 0 0 0-.024-.87v-.001a3.537 3.537 0 0 0-.197-.824v-.001a2.23 2.23 0 0 0-.494-.753a2.331 2.331 0 0 0-.775-.53a2.325 2.325 0 0 0-.91-.185H10v.984h.09c.2 0 .387.038.562.115c.174.082.326.188.457.32c.127.134.23.29.309.467c.074.18.11.37.11.573c0 .228-.003.452-.011.672c-.008.228-.008.45 0 .665c.004.222.022.435.055.64c.033.214.089.416.168.609a2.285 2.285 0 0 0 .738.955a2.285 2.285 0 0 0-.738.955a2.689 2.689 0 0 0-.168.602c-.033.21-.051.423-.055.64a9.15 9.15 0 0 0 0 .666c.008.224.012.45.012.678a1.471 1.471 0 0 1-.877 1.354a1.33 1.33 0 0 1-.563.121z","clip-rule":"evenodd"})});case 33:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M2 1L1 2v12l1 1h12l1-1V2l-1-1zm0 9V2h12v8z","clip-rule":"evenodd"})});case 34:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M2 1L1 2v12l1 1h12l1-1V2l-1-1zm12 13H7V2h7z","clip-rule":"evenodd"})});case 35:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M2 1L1 2v12l1 1h12l1-1V2l-1-1zm0 13V2h7v12z","clip-rule":"evenodd"})});case 36:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("g",{fill:"currentColor",children:[Tn("path",{d:"M1.5 1H6v1H2v12h12v-4h1v4.5l-.5.5h-13l-.5-.5v-13z"}),Tn("path",{d:"M15 1.5V8h-1V2.707L7.243 9.465l-.707-.708L13.293 2H8V1h6.5z"})]})});case 37:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M3.78 2L3 2.41v12l.78.42l9-6V8zM4 13.48V3.35l7.6 5.07z"})});case 38:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M2 2h12l1 1v10l-1 1H2l-1-1V3zm0 11h12V3H2zm11-9H3v3h10zm-1 2H4V5h8zm-3 6h4V8H9zm1-3h2v2h-2zM7 8H3v1h4zm-4 3h4v1H3z","clip-rule":"evenodd"})});case 39:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 24 24",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m11.105 4.561l-3.43 3.427l-1.134-1.12l2.07-2.08h-4.8a2.4 2.4 0 1 0 0 4.8h.89v1.6h-.88a4 4 0 0 1 0-7.991h4.8L6.54 1.13L7.675 0l3.43 3.432zM16.62 24h-9.6l-.8-.8V10.412l.8-.8h9.6l.8.8V23.2zm-8.8-1.6h8V11.212h-8zm5.6-20.798h9.6l.8.8v12.786l-.8.8h-4v-1.6h3.2V3.2h-8v4.787h-1.6V2.401l.8-.8zm.8 11.186h-4.8v1.6h4.8zm-4.8 3.2h4.8v1.6h-4.8zm4.8 3.2h-4.8v1.6h4.8zm1.6-14.4h4.8v1.6h-4.8zm4.8 6.4h-1.6v1.6h1.6zm-3.338-3.176v-.024h3.338v1.6h-1.762z","clip-rule":"evenodd"})});case 40:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4.681 3H2V2h3.5l.5.5V6H5V4a5 5 0 1 0 4.53-.761l.302-.954A6 6 0 1 1 4.681 3","clip-rule":"evenodd"})});case 41:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.012 2h.976v3.113l2.56-1.557l.486.885L11.47 6l2.564 1.559l-.485.885l-2.561-1.557V10h-.976V6.887l-2.56 1.557l-.486-.885L9.53 6L6.966 4.441l.485-.885l2.561 1.557zM2 10h4v4H2z","clip-rule":"evenodd"})});case 42:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.04 1.33L12.71 3l.29.71v.33h-.5l-.5.5v-.83l-1.67-1.67H10v4H4v-4H2v10h3l-.5 1H2l-1-1v-10l1-1h8.33zM7 5h2V2H7zm6.5 0L15 6.5l-.02.69l-5.5 5.5l-.13.12l-.37.37l-.1.09l-3 1.5l-.67-.67l1.5-3l.09-.1l.37-.37l.12-.13l5.5-5.5zm-6.22 7.24l-.52 1l1.04-.48zm.69-1.03l.79.79l5.15-5.15l-.79-.79z","clip-rule":"evenodd"})});case 43:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 24 24",children:Tn("path",{fill:"currentColor",d:"M15.25 0a8.25 8.25 0 0 0-6.18 13.72L1 22.88l1.12 1l8.05-9.12A8.251 8.251 0 1 0 15.25.01zm0 15a6.75 6.75 0 1 1 0-13.5a6.75 6.75 0 0 1 0 13.5"})});case 44:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 24 24",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m19.85 8.75l4.15.83v4.84l-4.15.83l2.35 3.52l-3.43 3.43l-3.52-2.35l-.83 4.15H9.58l-.83-4.15l-3.52 2.35l-3.43-3.43l2.35-3.52L0 14.42V9.58l4.15-.83L1.8 5.23L5.23 1.8l3.52 2.35L9.58 0h4.84l.83 4.15l3.52-2.35l3.43 3.43zm-1.57 5.07l4-.81v-2l-4-.81l-.54-1.3l2.29-3.43l-1.43-1.43l-3.43 2.29l-1.3-.54l-.81-4h-2l-.81 4l-1.3.54l-3.43-2.29l-1.43 1.43L6.38 8.9l-.54 1.3l-4 .81v2l4 .81l.54 1.3l-2.29 3.43l1.43 1.43l3.43-2.29l1.3.54l.81 4h2l.81-4l1.3-.54l3.43 2.29l1.43-1.43l-2.29-3.43zm-8.186-4.672A3.43 3.43 0 0 1 12 8.57A3.44 3.44 0 0 1 15.43 12a3.43 3.43 0 1 1-5.336-2.852m.956 4.274c.281.188.612.288.95.288A1.7 1.7 0 0 0 13.71 12a1.71 1.71 0 1 0-2.66 1.422","clip-rule":"evenodd"})});case 45:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8 1.003a7 7 0 0 0-7 7v.43c.09 1.51 1.91 1.79 3 .7a1.87 1.87 0 0 1 2.64 2.64c-1.1 1.16-.79 3.07.8 3.2h.6a7 7 0 1 0 0-14zm0 13h-.52a.58.58 0 0 1-.36-.14a.56.56 0 0 1-.15-.3a1.24 1.24 0 0 1 .35-1.08a2.87 2.87 0 0 0 0-4a2.87 2.87 0 0 0-4.06 0a1 1 0 0 1-.9.34a.41.41 0 0 1-.22-.12a.42.42 0 0 1-.1-.29v-.37a6 6 0 1 1 6 6zM9 3.997a1 1 0 1 1-2 0a1 1 0 0 1 2 0m3 7.007a1 1 0 1 1-2 0a1 1 0 0 1 2 0m-7-5a1 1 0 1 0 0-2a1 1 0 0 0 0 2m7-1a1 1 0 1 1-2 0a1 1 0 0 1 2 0M13 8a1 1 0 1 1-2 0a1 1 0 0 1 2 0","clip-rule":"evenodd"})});case 46:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M15 4h-5V3h5zm-1 3h-2v1h2zm-4 0H1v1h9zm2 6H1v1h11zm-5-3H1v1h6zm8 0h-5v1h5zM8 2v3H1V2zM7 3H2v1h5z"})});case 47:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11 1v4h4v1h-4v4h4v1h-4v4h-1v-4H6v4H5v-4H1v-1h4V6H1V5h4V1h1v4h4V1zM6 6v4h4V6z","clip-rule":"evenodd"})});case 48:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M2.006 8.267L.78 9.5L0 8.73l2.09-2.07l.76.01l2.09 2.12l-.76.76l-1.167-1.18a5 5 0 0 0 9.4 1.983l.813.597a6 6 0 0 1-11.22-2.683m10.99-.466L11.76 6.55l-.76.76l2.09 2.11l.76.01l2.09-2.07l-.75-.76l-1.194 1.18a6 6 0 0 0-11.11-2.92l.81.594a5 5 0 0 1 9.3 2.346z","clip-rule":"evenodd"})});case 49:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 24 24",children:Tn("g",{fill:"currentColor",children:[Tn("path",{"fill-rule":"evenodd",d:"M1.5 3L3 1.5h18L22.5 3v18L21 22.5H3L1.5 21zM3 3v18h18V3z","clip-rule":"evenodd"}),Tn("path",{d:"M7.06 7.5L6 8.56l4.243 4.243L6 17.046l1.06 1.06L12 13.168v-.728zm4.94 9h6V18h-6z"})]})});case 50:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"m14.773 3.485l-.78-.184l-2.108 2.096l-1.194-1.216l2.056-2.157l-.18-.792a4.42 4.42 0 0 0-1.347-.228a3.64 3.64 0 0 0-1.457.28a3.824 3.824 0 0 0-1.186.84a3.736 3.736 0 0 0-.875 1.265a3.938 3.938 0 0 0 0 2.966a335.341 335.341 0 0 0-6.173 6.234c-.21.275-.31.618-.284.963a1.403 1.403 0 0 0 .464.967c.124.135.272.247.437.328c.17.075.353.118.538.127c.316-.006.619-.126.854-.337c1.548-1.457 4.514-4.45 6.199-6.204c.457.194.948.294 1.444.293a3.736 3.736 0 0 0 2.677-1.133a3.885 3.885 0 0 0 1.111-2.73a4.211 4.211 0 0 0-.196-1.378M2.933 13.928a.31.31 0 0 1-.135.07a.437.437 0 0 1-.149 0a.346.346 0 0 1-.144-.057a.336.336 0 0 1-.114-.11c-.14-.143-.271-.415-.14-.568c1.37-1.457 4.191-4.305 5.955-6.046c.1.132.21.258.328.376c.118.123.245.237.38.341c-1.706 1.75-4.488 4.564-5.98 5.994zm11.118-9.065c.002.765-.296 1.5-.832 2.048a2.861 2.861 0 0 1-4.007 0a2.992 2.992 0 0 1-.635-3.137A2.748 2.748 0 0 1 10.14 2.18a2.76 2.76 0 0 1 1.072-.214h.254L9.649 3.839v.696l1.895 1.886h.66l1.847-1.816zM3.24 6.688h1.531l.705.717l.678-.674l-.665-.678V6.01l.057-1.649l-.22-.437l-2.86-1.882l-.591.066l-.831.849l-.066.599l1.838 2.918l.424.215zm-.945-3.632L4.609 4.58L4.57 5.703H3.494L2.002 3.341zm7.105 6.96l.674-.673l3.106 3.185a1.479 1.479 0 0 1 0 2.039a1.404 1.404 0 0 1-1.549.315a1.31 1.31 0 0 1-.437-.315l-3.142-3.203l.679-.678l3.132 3.194a.402.402 0 0 0 .153.105a.477.477 0 0 0 .359 0a.403.403 0 0 0 .153-.105a.436.436 0 0 0 .1-.153a.525.525 0 0 0 .036-.184a.547.547 0 0 0-.035-.184a.436.436 0 0 0-.1-.153z","clip-rule":"evenodd"})});case 51:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10 3h3v1h-1v9l-1 1H4l-1-1V4H2V3h3V2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1zM9 2H6v1h3zM4 13h7V4H4zm2-8H5v7h1zm1 0h1v7H7zm2 0h1v7H9z","clip-rule":"evenodd"})});case 52:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"M2 5.56L2.413 5h11.194l.393.54L8.373 11h-.827z"})});case 53:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor",d:"m14 10.44l-.413.56H2.393L2 10.46L7.627 5h.827z"})});case 54:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.56 1h.88l6.54 12.26l-.44.74H1.44L1 13.26zM8 2.28L2.28 13H13.7zM8.625 12v-1h-1.25v1zm-1.25-2V6h1.25v4z","clip-rule":"evenodd"})});case 55:return Tn("svg",{xmlns:"http://www.w3.org/2000/svg",class:Dt("inline",e.Ee),onClick:e.Ce,width:"1em",height:"1em",viewBox:"0 0 16 16",children:Tn("g",{fill:"currentColor",children:[Tn("path",{"fill-rule":"evenodd",d:"M0 11h1v2h14v-2h1v3H0z","clip-rule":"evenodd"}),Tn("path",{d:"M6.84 11h-.88v-.86h-.022c-.383.66-.947.989-1.692.989c-.548 0-.977-.145-1.289-.435c-.308-.29-.462-.675-.462-1.155c0-1.028.605-1.626 1.816-1.794l1.649-.23c0-.935-.378-1.403-1.134-1.403c-.662 0-1.26.226-1.794.677v-.902c.541-.344 1.164-.516 1.87-.516c1.292 0 1.938.684 1.938 2.052zm-.88-2.782L4.633 8.4c-.408.058-.716.16-.924.307c-.208.143-.311.399-.311.768c0 .268.095.488.284.66c.194.168.45.253.768.253a1.41 1.41 0 0 0 1.08-.457c.286-.308.43-.696.43-1.165zm3.388 1.987h-.022V11h-.88V2.857h.88v3.61h.021c.434-.73 1.068-1.096 1.902-1.096c.705 0 1.257.247 1.654.741c.401.49.602 1.15.602 1.977c0 .92-.224 1.658-.672 2.213c-.447.551-1.06.827-1.837.827c-.726 0-1.276-.308-1.649-.924m-.022-2.218v.768c0 .455.147.841.44 1.16c.298.315.674.473 1.128.473c.534 0 .951-.204 1.252-.613c.304-.408.456-.975.456-1.702c0-.613-.141-1.092-.424-1.44c-.283-.347-.666-.52-1.15-.52c-.511 0-.923.178-1.235.536c-.311.355-.467.8-.467 1.338"})]})})}throw new Error},zr=e=>{const t=/^(CtrlCmd \+ |)(Shift \+ |)(Alt \+ |)(.*?)$/.exec(e);if(null===t)return null;const[n,r,o,i,l]=t;return{It:""!==r,Mt:""!==o,Rt:""!==i,Ue:l}},Pr=(e,t,n)=>{const r=zr(e);if(!r)return{Nt:n,Lt:null,Ot:null};const o=[];let i,l=r.Ue.replace(/\bKey([A-Z])\b/,"$1").replace(/\bDigit(\d)\b/,"$1").replace("ArrowUp","↑").replace("ArrowRight","→").replace("ArrowDown","↓").replace("ArrowLeft","←").replace("Slash","/");return t?(r.It&&o.push("⌘"),r.Mt&&o.push("⇧"),r.Rt&&o.push("⌥"),i=" ",l=l.replace("Escape","Esc").replace("Enter","↩")):(r.It&&o.push("Ctrl"),r.Mt&&o.push("Shift"),r.Rt&&o.push("Alt"),i=" + "),o.push(l),{Nt:o.join(i),Lt:o,Ot:i}},Hr=(e,t)=>e.hasRowIdColumn?"table"!==e.type&&"virtual"!==e.type?null:e.columns.every((e=>"rowid"!==e.name.toLowerCase()))?t:e.columns.every((e=>"oid"!==e.name.toLowerCase()))?t.replaceAll("rowid","oid"):e.columns.every((e=>"_rowid_"!==e.name.toLowerCase()))?t.replaceAll("rowid","_rowid_"):null:null,Vr=(e,t)=>Hr(e,t)??"",jr=e=>{const t=Object.keys(e);if(0===t.length)return[];const n=e[t[0]].length,r=[];for(let o=0;o<n;o++){const n={};for(const r of t)n[r]=e[r][o];r.push(n)}return r},Gr=e=>{for(const t in e)if(Object.hasOwn(e,t))return e[t].length;return 0},qr=(e,t=0)=>{const n=Object.keys(e),r={};if(0===n.length)return{};if(!(t<0||t>=e[n[0]].length)){for(const o of n)r[o]=e[o][t];return r}};var Wr,Qr,Kr;try{Wr=new TextDecoder}catch(VE){}var Yr,Jr,Xr,Zr,eo,to=0,no={},ro=0,oo=0,io=[],lo={useRecords:!1,mapsAsObjects:!0};class ao{}const so=new ao;so.name="MessagePack 0xC1";var co=!1,$o=2;try{new Function("")}catch(VE){$o=1/0}class uo{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.sequential&&!1!==e.trusted&&(e.trusted=!0,e.structures||0==e.useRecords||(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.preserveNumericTypes?e.int64AsType="bigint":e.int64AsNumber&&(e.int64AsType="number")),Object.assign(this,e)}unpack(e,t){if(Qr)return Bo((()=>(zo(),this?this.unpack(e,t):uo.prototype.unpack.call(lo,e,t))));"object"==typeof t?(Kr=t.end||e.length,to=t.start||0):(to=0,Kr=t>-1?t:e.length),oo=0,Jr=null,Xr=null,Qr=e;try{eo=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(VE){if(Qr=null,e instanceof Uint8Array)throw VE;throw new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof uo){if(no=this,this.structures)return Yr=this.structures,fo();(!Yr||Yr.length>0)&&(Yr=[])}else no=lo,(!Yr||Yr.length>0)&&(Yr=[]);return fo()}unpackMultiple(e,t){let n,r=0;try{co=!0;let o=e.length,i=this?this.unpack(e,o):Ho.unpack(e,o);if(!t){for(n=[i];to<o;)r=to,n.push(fo());return n}for(t(i);to<o;)if(r=to,!1===t(fo()))return}catch(VE){throw VE.lastPosition=r,VE.values=n,VE}finally{co=!1,zo()}}_mergeStructures(e,t){e=e||[],Object.isFrozen(e)&&(e=e.map((e=>e.slice(0))));for(let n=0,r=e.length;n<r;n++){let t=e[n];t&&(t.isShared=!0,n>=32&&(t.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let r=e[n],o=t[n];o&&(r&&((e.restoreStructures||(e.restoreStructures=[]))[n]=r),e[n]=o)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function fo(e){try{if(!no.trusted&&!co){let e=Yr.sharedLength||0;e<Yr.length&&(Yr.length=e)}let e;if(no.randomAccessStructure&&Qr[to]<64&&Qr[to],e=po(),Xr&&(to=Xr.postBundlePosition,Xr=null),to==Kr)Yr&&Yr.restoreStructures&&ho(),Yr=null,Qr=null,Zr&&(Zr=null);else{if(to>Kr)throw new Error("Unexpected end of MessagePack data");if(!co)throw new Error("Data read, but end of buffer not reached")}return e}catch(VE){throw Yr&&Yr.restoreStructures&&ho(),zo(),(VE instanceof RangeError||VE.message.startsWith("Unexpected end of buffer")||to>Kr)&&(VE.incomplete=!0),VE}}function ho(){for(let e in Yr.restoreStructures)Yr[e]=Yr.restoreStructures[e];Yr.restoreStructures=null}function po(){let e=Qr[to++];if(e<160){if(e<128){if(e<64)return no.preserveNumericTypes?BigInt(e):e;{let t=Yr[63&e]||no.getStructures&&vo()[63&e];return t?(t.read||(t.read=bo(t,63&e)),t.read()):no.preserveNumericTypes?BigInt(e):e}}if(e<144){if(e-=128,no.mapsAsObjects){let t={};for(let n=0;n<e;n++){let e=Oo();"__proto__"===e&&(e="__proto_"),t[e]=po()}return t}{let t=new Map;for(let n=0;n<e;n++)t.set(po(),po());return t}}{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=po();return no.freezeData?Object.freeze(t):t}}if(e<192){let t=e-160;if(oo>=to)return Jr.slice(to-ro,(to+=t)-ro);if(0==oo&&Kr<140){let e=t<16?Io(t):So(t);if(null!=e)return e}return go(t)}{let t;switch(e){case 192:return null;case 193:return Xr?(t=po(),t>0?Xr[1].slice(Xr.position1,Xr.position1+=t):Xr[0].slice(Xr.position0,Xr.position0-=t)):so;case 194:return!1;case 195:return!0;case 196:if(t=Qr[to++],void 0===t)throw new Error("Unexpected end of buffer");return Ro(t);case 197:return t=eo.getUint16(to),to+=2,Ro(t);case 198:return t=eo.getUint32(to),to+=4,Ro(t);case 199:return No(Qr[to++]);case 200:return t=eo.getUint16(to),to+=2,No(t);case 201:return t=eo.getUint32(to),to+=4,No(t);case 202:if(t=eo.getFloat32(to),no.useFloat32>2){let e=Po[(127&Qr[to])<<1|Qr[to+1]>>7];return to+=4,(e*t+(t>0?.5:-.5)|0)/e}return to+=4,t;case 203:return t=eo.getFloat64(to),to+=8,t;case 204:return t=Qr[to++],no.preserveNumericTypes&&(t=BigInt(t)),t;case 205:return t=eo.getUint16(to),no.preserveNumericTypes&&(t=BigInt(t)),to+=2,t;case 206:return t=eo.getUint32(to),no.preserveNumericTypes&&(t=BigInt(t)),to+=4,t;case 207:return"number"===no.int64AsType?(t=4294967296*eo.getUint32(to),t+=eo.getUint32(to+4)):t="string"===no.int64AsType?eo.getBigUint64(to).toString():eo.getBigUint64(to),to+=8,t;case 208:return t=eo.getInt8(to++),no.preserveNumericTypes&&(t=BigInt(t)),t;case 209:return t=eo.getInt16(to),no.preserveNumericTypes&&(t=BigInt(t)),to+=2,t;case 210:return t=eo.getInt32(to),no.preserveNumericTypes&&(t=BigInt(t)),to+=4,t;case 211:return"number"===no.int64AsType?(t=4294967296*eo.getInt32(to),t+=eo.getUint32(to+4)):t="string"===no.int64AsType?eo.getBigInt64(to).toString():eo.getBigInt64(to),to+=8,t;case 212:if(t=Qr[to++],114==t)return Do(63&Qr[to++]);{let e=io[t];if(e)return e.read?(to++,e.read(po())):e.noBuffer?(to++,e()):e(Qr.subarray(to,++to));throw new Error("Unknown extension "+t)}case 213:return t=Qr[to],114==t?(to++,Do(63&Qr[to++],Qr[to++])):No(2);case 214:return No(4);case 215:return No(8);case 216:return No(16);case 217:return t=Qr[to++],oo>=to?Jr.slice(to-ro,(to+=t)-ro):yo(t);case 218:return t=eo.getUint16(to),oo>=(to+=2)?Jr.slice(to-ro,(to+=t)-ro):xo(t);case 219:return t=eo.getUint32(to),oo>=(to+=4)?Jr.slice(to-ro,(to+=t)-ro):Eo(t);case 220:return t=eo.getUint16(to),to+=2,To(t);case 221:return t=eo.getUint32(to),to+=4,To(t);case 222:return t=eo.getUint16(to),to+=2,_o(t);case 223:return t=eo.getUint32(to),to+=4,_o(t);default:if(e>=224)return no.preserveNumericTypes?BigInt(e-256):e-256;if(void 0===e){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}throw new Error("Unknown MessagePack token "+e)}}}const mo=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function bo(e,t){function n(){if(n.count++>$o){let n=e.read=new Function("r","return function(){return "+(no.freezeData?"Object.freeze":"")+"({"+e.map((e=>"__proto__"===e?"__proto_:r()":mo.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"})}")(po);return 0===e.highByte&&(e.read=wo(t,e.read)),n()}let r={};for(let t=0,n=e.length;t<n;t++){let n=e[t];"__proto__"===n&&(n="__proto_"),r[n]=po()}return no.freezeData?Object.freeze(r):r}return n.count=0,0===e.highByte?wo(t,n):n}const wo=(e,t)=>function(){let n=Qr[to++];if(0===n)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),o=Yr[r]||vo()[r];if(!o)throw new Error("Record id is not defined for "+r);return o.read||(o.read=bo(o,e)),o.read()};function vo(){let e=Bo((()=>(Qr=null,no.getStructures())));return Yr=no._mergeStructures(e,Yr)}var go=Co,yo=Co,xo=Co,Eo=Co;function Co(e){let t;if(e<16&&(t=Io(e)))return t;if(e>64&&Wr)return Wr.decode(Qr.subarray(to,to+=e));const n=to+e,r=[];for(t="";to<n;){const e=Qr[to++];if(128&e)if(192==(224&e)){const t=63&Qr[to++];r.push((31&e)<<6|t)}else if(224==(240&e)){const t=63&Qr[to++],n=63&Qr[to++];r.push((31&e)<<12|t<<6|n)}else if(240==(248&e)){let t=(7&e)<<18|(63&Qr[to++])<<12|(63&Qr[to++])<<6|63&Qr[to++];t>65535&&(t-=65536,r.push(t>>>10&1023|55296),t=56320|1023&t),r.push(t)}else r.push(e);else r.push(e);r.length>=4096&&(t+=ko.apply(String,r),r.length=0)}return r.length>0&&(t+=ko.apply(String,r)),t}function To(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=po();return no.freezeData?Object.freeze(t):t}function _o(e){if(no.mapsAsObjects){let t={};for(let n=0;n<e;n++){let e=Oo();"__proto__"===e&&(e="__proto_"),t[e]=po()}return t}{let t=new Map;for(let n=0;n<e;n++)t.set(po(),po());return t}}var ko=String.fromCharCode;function So(e){let t=to,n=new Array(e);for(let r=0;r<e;r++){const e=Qr[to++];if((128&e)>0)return void(to=t);n[r]=e}return ko.apply(String,n)}function Io(e){if(e<4){if(e<2){if(0===e)return"";{let e=Qr[to++];return(128&e)>1?void(to-=1):ko(e)}}{let t=Qr[to++],n=Qr[to++];if((128&t)>0||(128&n)>0)return void(to-=2);if(e<3)return ko(t,n);let r=Qr[to++];return(128&r)>0?void(to-=3):ko(t,n,r)}}{let t=Qr[to++],n=Qr[to++],r=Qr[to++],o=Qr[to++];if((128&t)>0||(128&n)>0||(128&r)>0||(128&o)>0)return void(to-=4);if(e<6){if(4===e)return ko(t,n,r,o);{let e=Qr[to++];return(128&e)>0?void(to-=5):ko(t,n,r,o,e)}}if(e<8){let i=Qr[to++],l=Qr[to++];if((128&i)>0||(128&l)>0)return void(to-=6);if(e<7)return ko(t,n,r,o,i,l);let a=Qr[to++];return(128&a)>0?void(to-=7):ko(t,n,r,o,i,l,a)}{let i=Qr[to++],l=Qr[to++],a=Qr[to++],s=Qr[to++];if((128&i)>0||(128&l)>0||(128&a)>0||(128&s)>0)return void(to-=8);if(e<10){if(8===e)return ko(t,n,r,o,i,l,a,s);{let e=Qr[to++];return(128&e)>0?void(to-=9):ko(t,n,r,o,i,l,a,s,e)}}if(e<12){let c=Qr[to++],$=Qr[to++];if((128&c)>0||(128&$)>0)return void(to-=10);if(e<11)return ko(t,n,r,o,i,l,a,s,c,$);let u=Qr[to++];return(128&u)>0?void(to-=11):ko(t,n,r,o,i,l,a,s,c,$,u)}{let c=Qr[to++],$=Qr[to++],u=Qr[to++],d=Qr[to++];if((128&c)>0||(128&$)>0||(128&u)>0||(128&d)>0)return void(to-=12);if(e<14){if(12===e)return ko(t,n,r,o,i,l,a,s,c,$,u,d);{let e=Qr[to++];return(128&e)>0?void(to-=13):ko(t,n,r,o,i,l,a,s,c,$,u,d,e)}}{let f=Qr[to++],h=Qr[to++];if((128&f)>0||(128&h)>0)return void(to-=14);if(e<15)return ko(t,n,r,o,i,l,a,s,c,$,u,d,f,h);let p=Qr[to++];return(128&p)>0?void(to-=15):ko(t,n,r,o,i,l,a,s,c,$,u,d,f,h,p)}}}}}function Mo(){let e,t=Qr[to++];if(t<192)e=t-160;else switch(t){case 217:e=Qr[to++];break;case 218:e=eo.getUint16(to),to+=2;break;case 219:e=eo.getUint32(to),to+=4;break;default:throw new Error("Expected string")}return Co(e)}function Ro(e){return no.copyBuffers?Uint8Array.prototype.slice.call(Qr,to,to+=e):Qr.subarray(to,to+=e)}function No(e){let t=Qr[to++];if(io[t]){let n;return io[t](Qr.subarray(to,n=to+=e),(e=>{to=e;try{return po()}finally{to=n}}))}throw new Error("Unknown extension type "+t)}var Lo=new Array(4096);function Oo(){let e=Qr[to++];if(!(e>=160&&e<192))return to--,Ao(po());if(e-=160,oo>=to)return Jr.slice(to-ro,(to+=e)-ro);if(!(0==oo&&Kr<180))return go(e);let t,n=4095&(e<<5^(e>1?eo.getUint16(to):e>0?Qr[to]:0)),r=Lo[n],o=to,i=to+e-3,l=0;if(r&&r.bytes==e){for(;o<i;){if(t=eo.getUint32(o),t!=r[l++]){o=1879048192;break}o+=4}for(i+=3;o<i;)if(t=Qr[o++],t!=r[l++]){o=1879048192;break}if(o===i)return to=o,r.string;i-=3,o=to}for(r=[],Lo[n]=r,r.bytes=e;o<i;)t=eo.getUint32(o),r.push(t),o+=4;for(i+=3;o<i;)t=Qr[o++],r.push(t);let a=e<16?Io(e):So(e);return r.string=null!=a?a:go(e)}function Ao(e){if("string"==typeof e)return e;if("number"==typeof e)return e.toString();throw new Error("Invalid property type for record",typeof e)}const Do=(e,t)=>{let n=po().map(Ao),r=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let o=Yr[e];return o&&o.isShared&&((Yr.restoreStructures||(Yr.restoreStructures=[]))[e]=o),Yr[e]=n,n.read=bo(n,r),n.read()};io[0]=()=>{},io[0].noBuffer=!0,io[101]=()=>{let e=po();return(globalThis[e[0]]||Error)(e[1])},io[105]=e=>{let t=eo.getUint32(to-4);Zr||(Zr=new Map);let n,r=Qr[to];n=r>=144&&r<160||220==r||221==r?[]:{};let o={target:n};Zr.set(t,o);let i=po();return o.used?Object.assign(n,i):(o.target=i,i)},io[112]=e=>{let t=eo.getUint32(to-4),n=Zr.get(t);return n.used=!0,n.target},io[115]=()=>new Set(po());const Fo=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((e=>e+"Array"));io[116]=e=>{let t=e[0],n=Fo[t];if(!n)throw new Error("Could not find typed array for code "+t);return new globalThis[n](Uint8Array.prototype.slice.call(e,1).buffer)},io[120]=()=>{let e=po();return new RegExp(e[0],e[1])};const Uo=[];function Bo(e){let t=Kr,n=to,r=ro,o=oo,i=Jr,l=Zr,a=Xr,s=new Uint8Array(Qr.slice(0,Kr)),c=Yr,$=Yr.slice(0,Yr.length),u=no,d=co,f=e();return Kr=t,to=n,ro=r,oo=o,Jr=i,Zr=l,Xr=a,Qr=s,co=d,(Yr=c).splice(0,Yr.length,...$),no=u,eo=new DataView(Qr.buffer,Qr.byteOffset,Qr.byteLength),f}function zo(){Qr=null,Zr=null,Yr=null}io[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=to;return to+=t-e.length,Xr=Uo,(Xr=[Mo(),Mo()]).position0=0,Xr.position1=0,Xr.postBundlePosition=to,to=n,po()},io[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");const Po=new Array(147);for(let jE=0;jE<256;jE++)Po[jE]=+("1e"+Math.floor(45.15-.30103*jE));var Ho=new uo({useRecords:!1});Ho.unpack,Ho.unpackMultiple,Ho.unpack;let Vo,jo,Go,qo=new Float32Array(1);new Uint8Array(qo.buffer,0,4);try{Vo=new TextEncoder}catch(VE){}const Wo="undefined"!=typeof Buffer,Qo=Wo?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,Ko=Wo?Buffer:Uint8Array,Yo=Wo?4294967296:2144337920;let Jo,Xo,Zo,ei,ti=0,ni=null;const ri=/[\u0080-\uFFFF]/,oi=Symbol("record-id");class ii extends uo{constructor(e){let t,n,r,o;super(e),this.offset=0;let i=Ko.prototype.utf8Write?function(e,t){return Jo.utf8Write(e,t,4294967295)}:!(!Vo||!Vo.encodeInto)&&function(e,t){return Vo.encodeInto(e,Jo.subarray(t)).written},l=this;e||(e={});let a=e&&e.sequential,s=e.structures||e.saveStructures,c=e.maxSharedStructures;if(null==c&&(c=s?32:0),c>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&null==e.moreTypes&&(e.moreTypes=!0);let $=e.maxOwnStructures;null==$&&($=s?32:64),this.structures||0==e.useRecords||(this.structures=[]);let u=c>32||$+c>64,d=c+64,f=c+$+64;if(f>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let h=[],p=0,m=0;this.pack=this.encode=function(e,i){if(Jo||(Jo=new Qo(8192),Zo=Jo.dataView||(Jo.dataView=new DataView(Jo.buffer,0,8192)),ti=0),ei=Jo.length-10,ei-ti<2048?(Jo=new Qo(Jo.length),Zo=Jo.dataView||(Jo.dataView=new DataView(Jo.buffer,0,Jo.length)),ei=Jo.length-10,ti=0):ti=ti+7&2147483640,t=ti,o=l.structuredClone?new Map:null,l.bundleStrings&&"string"!=typeof e?(ni=[],ni.size=1/0):ni=null,r=l.structures,r){r.uninitialized&&(r=l._mergeStructures(l.getStructures()));let e=r.sharedLength||0;if(e>c)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let t=0;t<e;t++){let e=r[t];if(!e)continue;let n,o=r.transitions;for(let t=0,r=e.length;t<r;t++){let r=e[t];n=o[r],n||(n=o[r]=Object.create(null)),o=n}o[oi]=t+64}this.lastNamedStructuresLength=e}a||(r.nextId=e+64)}n&&(n=!1);try{l.randomAccessStructure&&e.constructor&&e.constructor===Object?E(e):w(e);let n=ni;if(ni&&ci(t,w,0),o&&o.idsToInsert){let e=o.idsToInsert.sort(((e,t)=>e.offset>t.offset?1:-1)),r=e.length,i=-1;for(;n&&r>0;){let o=e[--r].offset+t;o<n.stringsPosition+t&&-1===i&&(i=0),o>n.position+t?i>=0&&(i+=6):(i>=0&&(Zo.setUint32(n.position+t,Zo.getUint32(n.position+t)+i),i=-1),n=n.previous,r++)}i>=0&&n&&Zo.setUint32(n.position+t,Zo.getUint32(n.position+t)+i),ti+=6*e.length,ti>ei&&g(ti),l.offset=ti;let a=function(e,t){let n,r=6*t.length,o=e.length-r;for(;n=t.pop();){let t=n.offset,i=n.id;e.copyWithin(t+r,t,o),r-=6;let l=t+r;e[l++]=214,e[l++]=105,e[l++]=i>>24,e[l++]=i>>16&255,e[l++]=i>>8&255,e[l++]=255&i,o=t}return e}(Jo.subarray(t,ti),e);return o=null,a}return l.offset=ti,i&ui?(Jo.start=t,Jo.end=ti,Jo):Jo.subarray(t,ti)}finally{if(r){m<10&&m++;let o=r.sharedLength||0;if(r.length>o&&(r.length=o),p>1e4)r.transitions=null,m=0,p=0,h.length>0&&(h=[]);else if(h.length>0&&!a){for(let e=0,t=h.length;e<t;e++)h[e][oi]=0;h=[]}if(n&&l.saveStructures){let n=Jo.subarray(t,ti),i=function(e,t){return e.isCompatible=e=>{let n=!e||(t.lastNamedStructuresLength||0)===e.length;return n||t._mergeStructures(e),n},e}(r,l);return!1===l.saveStructures(i,i.isCompatible)?l.pack(e):(l.lastNamedStructuresLength=o,n)}}i&di&&(ti=t)}};const b=e=>{var t=e.length;t<16?Jo[ti++]=144|t:t<65536?(Jo[ti++]=220,Jo[ti++]=t>>8,Jo[ti++]=255&t):(Jo[ti++]=221,Zo.setUint32(ti,t),ti+=4);for(let n=0;n<t;n++)w(e[n])},w=n=>{ti>ei&&(Jo=g(ti));var r,l=typeof n;if("string"===l){let e,o=n.length;if(ni&&o>=4&&o<4096){if((ni.size+=o)>61440){let e,n,r=(ni[0]?3*ni[0].length+ni[1].length:0)+10;ti+r>ei&&(Jo=g(ti+r)),ni.position?(n=ni,Jo[ti]=200,ti+=3,Jo[ti++]=98,e=ti-t,ti+=4,ci(t,w,0),Zo.setUint16(e+t-3,ti-t-e)):(Jo[ti++]=214,Jo[ti++]=98,e=ti-t,ti+=4),ni=["",""],ni.previous=n,ni.size=0,ni.position=e}let e=ri.test(n);return ni[e?0:1]+=n,Jo[ti++]=193,void w(e?-o:o)}e=o<32?1:o<256?2:o<65536?3:5;let l=3*o;if(ti+l>ei&&(Jo=g(ti+l)),o<64||!i){let t,i,l,a=ti+e;for(t=0;t<o;t++)i=n.charCodeAt(t),i<128?Jo[a++]=i:i<2048?(Jo[a++]=i>>6|192,Jo[a++]=63&i|128):55296==(64512&i)&&56320==(64512&(l=n.charCodeAt(t+1)))?(i=65536+((1023&i)<<10)+(1023&l),t++,Jo[a++]=i>>18|240,Jo[a++]=i>>12&63|128,Jo[a++]=i>>6&63|128,Jo[a++]=63&i|128):(Jo[a++]=i>>12|224,Jo[a++]=i>>6&63|128,Jo[a++]=63&i|128);r=a-ti-e}else r=i(n,ti+e);r<32?Jo[ti++]=160|r:r<256?(e<2&&Jo.copyWithin(ti+2,ti+1,ti+1+r),Jo[ti++]=217,Jo[ti++]=r):r<65536?(e<3&&Jo.copyWithin(ti+3,ti+2,ti+2+r),Jo[ti++]=218,Jo[ti++]=r>>8,Jo[ti++]=255&r):(e<5&&Jo.copyWithin(ti+5,ti+3,ti+3+r),Jo[ti++]=219,Zo.setUint32(ti,r),ti+=4),ti+=r}else if("number"===l)if(n>>>0!==n||e.preserveNumericTypes)if((0|n)!==n||e.preserveNumericTypes){let e;if((e=this.useFloat32)>0&&n<4294967296&&n>=-2147483648){let t;if(Jo[ti++]=202,Zo.setFloat32(ti,n),e<4||(0|(t=n*Po[(127&Jo[ti])<<1|Jo[ti+1]>>7]))===t)return void(ti+=4);ti--}Jo[ti++]=203,Zo.setFloat64(ti,n),ti+=8}else n>=-32?Jo[ti++]=256+n:n>=-128?(Jo[ti++]=208,Jo[ti++]=n+256):n>=-32768?(Jo[ti++]=209,Zo.setInt16(ti,n),ti+=2):(Jo[ti++]=210,Zo.setInt32(ti,n),ti+=4);else n<32||n<128&&!1===this.useRecords||n<64&&!this.randomAccessStructure?Jo[ti++]=n:n<256?(Jo[ti++]=204,Jo[ti++]=n):n<65536?(Jo[ti++]=205,Jo[ti++]=n>>8,Jo[ti++]=255&n):(Jo[ti++]=206,Zo.setUint32(ti,n),ti+=4);else if("object"===l)if(n){if(o){let e=o.get(n);if(e){if(!e.id){let t=o.idsToInsert||(o.idsToInsert=[]);e.id=t.push(e)}return Jo[ti++]=214,Jo[ti++]=112,Zo.setUint32(ti,e.id),void(ti+=4)}o.set(n,{offset:ti-t})}let e=n.constructor;if(e===Object)v(n,!0);else if(e===Array)b(n);else if(e===Map){(r=n.size)<16?Jo[ti++]=128|r:r<65536?(Jo[ti++]=222,Jo[ti++]=r>>8,Jo[ti++]=255&r):(Jo[ti++]=223,Zo.setUint32(ti,r),ti+=4);for(let[e,t]of n)w(e),w(t)}else{for(let e=0,t=jo.length;e<t;e++)if(n instanceof Go[e]){let t=jo[e];if(t.write){t.type&&(Jo[ti++]=212,Jo[ti++]=t.type,Jo[ti++]=0);let e=t.write.call(this,n);return void(e===n?Array.isArray(n)?b(n):v(n):w(e))}let r,o=Jo,i=Zo,l=ti;Jo=null;try{r=t.pack.call(this,n,(e=>(Jo=o,o=null,ti+=e,ti>ei&&g(ti),{target:Jo,targetView:Zo,position:ti-e})),w)}finally{o&&(Jo=o,Zo=i,ti=l,ei=Jo.length-10)}return void(r&&(r.length+ti>ei&&g(r.length+ti),ti=si(r,Jo,ti,t.type)))}Array.isArray(n)?b(n):v(n,!n.hasOwnProperty)}}else Jo[ti++]=192;else if("boolean"===l)Jo[ti++]=n?195:194;else if("bigint"===l){if(n<BigInt(1)<<BigInt(63)&&n>=-(BigInt(1)<<BigInt(63)))Jo[ti++]=211,Zo.setBigInt64(ti,n);else if(n<BigInt(1)<<BigInt(64)&&n>0)Jo[ti++]=207,Zo.setBigUint64(ti,n);else{if(!this.largeBigIntToFloat)throw new RangeError(n+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");Jo[ti++]=203,Zo.setFloat64(ti,Number(n))}ti+=8}else if("undefined"===l)this.encodeUndefinedAsNil?Jo[ti++]=192:(Jo[ti++]=212,Jo[ti++]=0,Jo[ti++]=0);else{if("function"!==l)throw new Error("Unknown type: "+l);w(this.writeFunction&&this.writeFunction())}},v=!1===this.useRecords?this.variableMapSize?e=>{let t,n=Object.keys(e),r=n.length;r<16?Jo[ti++]=128|r:r<65536?(Jo[ti++]=222,Jo[ti++]=r>>8,Jo[ti++]=255&r):(Jo[ti++]=223,Zo.setUint32(ti,r),ti+=4);for(let o=0;o<r;o++)w(t=n[o]),w(e[t])}:(e,n)=>{Jo[ti++]=222;let r=ti-t;ti+=2;let o=0;for(let t in e)(n||e.hasOwnProperty(t))&&(w(t),w(e[t]),o++);Jo[r+++t]=o>>8,Jo[r+t]=255&o}:e.progressiveRecords&&!u?(e,n)=>{let o,i,l=r.transitions||(r.transitions=Object.create(null)),a=ti++-t;for(let s in e)if(n||e.hasOwnProperty(s)){if(o=l[s],o)l=o;else{let n=Object.keys(e),c=l;l=r.transitions;let $=0;for(let e=0,t=n.length;e<t;e++){let t=n[e];o=l[t],o||(o=l[t]=Object.create(null),$++),l=o}a+t+1==ti?(ti--,y(l,n,$)):x(l,n,a,$),i=!0,l=c[s]}w(e[s])}if(!i){let n=l[oi];n?Jo[a+t]=n:x(l,Object.keys(e),a,0)}}:(e,t)=>{let n,o=r.transitions||(r.transitions=Object.create(null)),i=0;for(let r in e)(t||e.hasOwnProperty(r))&&(n=o[r],n||(n=o[r]=Object.create(null),i++),o=n);let l=o[oi];l?l>=96&&u?(Jo[ti++]=96+(31&(l-=96)),Jo[ti++]=l>>5):Jo[ti++]=l:y(o,o.__keys__||Object.keys(e),i);for(let r in e)(t||e.hasOwnProperty(r))&&w(e[r])},g=e=>{let n;if(e>16777216){if(e-t>Yo)throw new Error("Packed buffer would be larger than maximum buffer size");n=Math.min(Yo,4096*Math.round(Math.max((e-t)*(e>67108864?1.25:2),4194304)/4096))}else n=1+(Math.max(e-t<<2,Jo.length-1)>>12)<<12;let r=new Qo(n);return Zo=r.dataView||(r.dataView=new DataView(r.buffer,0,n)),e=Math.min(e,Jo.length),Jo.copy?Jo.copy(r,0,t,e):r.set(Jo.slice(t,e)),ti-=t,t=0,ei=r.length-10,Jo=r},y=(e,t,o)=>{let i=r.nextId;i||(i=64),i<d&&this.shouldShareStructure&&!this.shouldShareStructure(t)?(i=r.nextOwnId,i<f||(i=d),r.nextOwnId=i+1):(i>=f&&(i=d),r.nextId=i+1);let l=t.highByte=i>=96&&u?i-96>>5:-1;e[oi]=i,e.__keys__=t,r[i-64]=t,i<d?(t.isShared=!0,r.sharedLength=i-63,n=!0,l>=0?(Jo[ti++]=96+(31&i),Jo[ti++]=l):Jo[ti++]=i):(l>=0?(Jo[ti++]=213,Jo[ti++]=114,Jo[ti++]=96+(31&i),Jo[ti++]=l):(Jo[ti++]=212,Jo[ti++]=114,Jo[ti++]=i),o&&(p+=m*o),h.length>=$&&(h.shift()[oi]=0),h.push(e),w(t))},x=(e,n,r,o)=>{let i=Jo,l=ti,a=ei,s=t;Jo=Xo,ti=0,t=0,Jo||(Xo=Jo=new Qo(8192)),ei=Jo.length-10,y(e,n,o),Xo=Jo;let c=ti;if(Jo=i,ti=l,ei=a,t=s,c>1){let e=ti+c-1;e>ei&&g(e);let n=r+t;Jo.copyWithin(n+c,n+1,ti),Jo.set(Xo.slice(0,c),n),ti=e}else Jo[r+t]=Xo[0]},E=(e,o)=>{let i=(void 0)(e,Jo,ti,r,g,((e,r,o)=>{if(o)return n=!0;if(ti=r,t>0){if(w(e),0==t)return{position:ti,targetView:Zo,target:Jo}}else w(e);return ti}),this);if(0===i)return v(e,!0);ti=i}}useBuffer(e){Jo=e,Zo=new DataView(Jo.buffer,Jo.byteOffset,Jo.byteLength),ti=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}function li(e,t,n,r){let o=e.byteLength;if(o+1<256){var{target:i,position:l}=n(4+o);i[l++]=199,i[l++]=o+1}else if(o+1<65536){var{target:i,position:l}=n(5+o);i[l++]=200,i[l++]=o+1>>8,i[l++]=o+1&255}else{var{target:i,position:l,targetView:a}=n(7+o);i[l++]=201,a.setUint32(l,o+1),l+=4}i[l++]=116,i[l++]=t,i.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),l)}function ai(e,t){let n=e.byteLength;var r,o;if(n<256){var{target:r,position:o}=t(n+2);r[o++]=196,r[o++]=n}else if(n<65536){var{target:r,position:o}=t(n+3);r[o++]=197,r[o++]=n>>8,r[o++]=255&n}else{var{target:r,position:o,targetView:i}=t(n+5);r[o++]=198,i.setUint32(o,n),o+=4}r.set(e,o)}function si(e,t,n,r){let o=e.length;switch(o){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:o<256?(t[n++]=199,t[n++]=o):o<65536?(t[n++]=200,t[n++]=o>>8,t[n++]=255&o):(t[n++]=201,t[n++]=o>>24,t[n++]=o>>16&255,t[n++]=o>>8&255,t[n++]=255&o)}return t[n++]=r,t.set(e,n),n+o}function ci(e,t,n){if(ni.length>0){Zo.setUint32(ni.position+e,ti+n-ni.position-e),ni.stringsPosition=ti-e;let r=ni;ni=null,t(r[0]),t(r[1])}}Go=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,ao],jo=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&r>=0&&r<4294967296){let{target:e,targetView:n,position:o}=t(6);e[o++]=214,e[o++]=255,n.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:n,targetView:o,position:i}=t(10);n[i++]=215,n[i++]=255,o.setUint32(i,4e6*e.getMilliseconds()+(r/1e3/4294967296|0)),o.setUint32(i+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:e,targetView:r,position:o}=t(3);e[o++]=212,e[o++]=255,e[o++]=255}else{let{target:n,targetView:o,position:i}=t(15);n[i++]=199,n[i++]=12,n[i++]=255,o.setUint32(i,1e6*e.getMilliseconds()),o.setBigInt64(i+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){let r=Array.from(e),{target:o,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(o[i++]=212,o[i++]=115,o[i++]=0),n(r)}},{pack(e,t,n){let{target:r,position:o}=t(this.moreTypes?3:0);this.moreTypes&&(r[o++]=212,r[o++]=101,r[o++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:o}=t(this.moreTypes?3:0);this.moreTypes&&(r[o++]=212,r[o++]=120,r[o++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?li(e,16,t):ai(Wo?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==Ko&&this.moreTypes?li(e,Fo.indexOf(n.name),t):ai(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];let $i=new ii({useRecords:!1});$i.pack,$i.pack;const ui=512,di=1024,fi=()=>new ii({useRecords:!1,preserveNumericTypes:!0}),hi=()=>new uo({largeBigIntToFloat:!1,int64AsNumber:!1,mapsAsObjects:!0,useRecords:!0,preserveNumericTypes:!0}),pi=fi(),mi=hi();class bi{constructor(e){this.data=e}}!function(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");Go.unshift(e.Class),jo.unshift(e)}!function(e){io[e.type]=e.unpack?e.unpack:e}(e)}({Class:bi,type:48,pack:e=>fi().pack(e.data),unpack:e=>new bi(hi().unpack(e))});var wi,vi,gi,yi,xi=0,Ei=[],Ci=[],Ti=Ut.__b,_i=Ut.__r,ki=Ut.diffed,Si=Ut.__c,Ii=Ut.unmount;function Mi(e,t){Ut.__h&&Ut.__h(vi,e,xi||t),xi=0;var n=vi.__H||(vi.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Ci}),n.__[e]}function Ri(e){return xi=1,Ni(ji,e)}function Ni(e,t,n){var r=Mi(wi++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):ji(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=vi,!vi.u)){var o=function(e,t,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter((function(e){return e.__c}));if(o.every((function(e){return!e.__N})))return!i||i.call(this,e,t,n);var l=!1;return o.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(l=!0)}})),!(!l&&r.__c.props===e)&&(!i||i.call(this,e,t,n))};vi.u=!0;var i=vi.shouldComponentUpdate,l=vi.componentWillUpdate;vi.componentWillUpdate=function(e,t,n){if(this.__e){var r=i;i=void 0,o(e,t,n),i=r}l&&l.call(this,e,t,n)},vi.shouldComponentUpdate=o}return r.__N||r.__}function Li(e,t){var n=Mi(wi++,3);!Ut.__s&&Vi(n.__H,t)&&(n.__=e,n.i=t,vi.__H.__h.push(n))}function Oi(e,t){var n=Mi(wi++,4);!Ut.__s&&Vi(n.__H,t)&&(n.__=e,n.i=t,vi.__h.push(n))}function Ai(e){return xi=5,Di((function(){return{current:e}}),[])}function Di(e,t){var n=Mi(wi++,7);return Vi(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Fi(e,t){return xi=8,Di((function(){return e}),t)}function Ui(){for(var e;e=Ei.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Pi),e.__H.__h.forEach(Hi),e.__H.__h=[]}catch(vi){e.__H.__h=[],Ut.__e(vi,e.__v)}}Ut.__b=function(e){vi=null,Ti&&Ti(e)},Ut.__r=function(e){_i&&_i(e),wi=0;var t=(vi=e.__c).__H;t&&(gi===vi?(t.__h=[],vi.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Ci,e.__N=e.i=void 0}))):(t.__h.forEach(Pi),t.__h.forEach(Hi),t.__h=[],wi=0)),gi=vi},Ut.diffed=function(e){ki&&ki(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Ei.push(t)&&yi===Ut.requestAnimationFrame||((yi=Ut.requestAnimationFrame)||zi)(Ui)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Ci&&(e.__=e.__V),e.i=void 0,e.__V=Ci}))),gi=vi=null},Ut.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Pi),e.__h=e.__h.filter((function(e){return!e.__||Hi(e)}))}catch(gi){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Ut.__e(gi,e.__v)}})),Si&&Si(e,t)},Ut.unmount=function(e){Ii&&Ii(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Pi(e)}catch(e){t=e}})),n.__H=void 0,t&&Ut.__e(t,n.__v))};var Bi="function"==typeof requestAnimationFrame;function zi(e){var t,n=function(){clearTimeout(r),Bi&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Bi&&(t=requestAnimationFrame(n))}function Pi(e){var t=vi,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),vi=t}function Hi(e){var t=vi;e.__c=e.__(),vi=t}function Vi(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function ji(e,t){return"function"==typeof t?t(e):t}function Gi(e,t){for(var n in t)e[n]=t[n];return e}function qi(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function Wi(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function Qi(e){this.props=e}function Ki(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:qi(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Jt(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Qi.prototype=new en).isPureReactComponent=!0,Qi.prototype.shouldComponentUpdate=function(e,t){return qi(this.props,e)||qi(this.state,t)};var Yi=Ut.__b;Ut.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Yi&&Yi(e)};var Ji="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,Xi=function(e,t){return null==e?null:sn(sn(e).map(t))},Zi={map:Xi,forEach:Xi,count:function(e){return e?sn(e).length:0},only:function(e){var t=sn(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:sn},el=Ut.__e;Ut.__e=function(e,t,n,r){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);el(e,t,n,r)};var tl=Ut.unmount;function nl(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=Gi({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return nl(e,t,n)}))),e}function rl(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return rl(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function ol(){this.__u=0,this.t=null,this.__b=null}function il(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ll(){this.u=null,this.o=null}Ut.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),tl&&tl(e)},(ol.prototype=new en).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=il(r.__v),i=!1,l=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=l;var a=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=rl(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},s=!0===t.__h;r.__u++||s||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(l,l)},ol.prototype.componentWillUnmount=function(){this.t=[]},ol.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=nl(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&Jt(Zt,null,e.fallback);return o&&(o.__h=null),[Jt(Zt,null,t.__a?null:e.children),o]};var al=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function sl(e){return this.getChildContext=function(){return e.context},e.children}function cl(e){var t=this,n=e.i;t.componentWillUnmount=function(){yn(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),yn(Jt(sl,{context:t.context},e.__v),t.l)}(ll.prototype=new en).__a=function(e){var t=this,n=il(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),al(t,e,r)):o()};n?n(i):i()}},ll.prototype.render=function(e){this.u=null,this.o=new Map;var t=sn(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ll.prototype.componentDidUpdate=ll.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){al(e,n,t)}))};var $l="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ul=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,dl=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,fl=/[A-Z0-9]/g,hl="undefined"!=typeof document,pl=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};en.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(en.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ml=Ut.event;function bl(){}function wl(){return this.cancelBubble}function vl(){return this.defaultPrevented}Ut.event=function(e){return ml&&(e=ml(e)),e.persist=bl,e.isPropagationStopped=wl,e.isDefaultPrevented=vl,e.nativeEvent=e};var gl,yl={enumerable:!1,configurable:!0,get:function(){return this.class}},xl=Ut.vnode;Ut.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={};for(var o in t){var i=t[o];if(!("value"===o&&"defaultValue"in t&&null==i||hl&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var l=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===i?i="":"ondoubleclick"===l?o="ondblclick":"onchange"!==l||"input"!==n&&"textarea"!==n||pl(t.type)?"onfocus"===l?o="onfocusin":"onblur"===l?o="onfocusout":dl.test(o)?o=l:-1===n.indexOf("-")&&ul.test(o)?o=o.replace(fl,"-$&").toLowerCase():null===i&&(i=void 0):l=o="oninput","oninput"===l&&r[o=l]&&(o="oninputCapture"),r[o]=i}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=sn(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=sn(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",yl)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.At=$l,xl&&xl(e)};var El=Ut.__r;Ut.__r=function(e){El&&El(e),gl=e.__c};var Cl=Ut.diffed;Ut.diffed=function(e){Cl&&Cl(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),gl=null};var Tl={ReactCurrentDispatcher:{current:{readContext:function(e){return gl.__n[e.__c].props.value}}}};function _l(e){return!!e&&e.At===$l}function kl(e){e()}function Sl(e,t){var n=t(),r=Ri({h:{__:n,v:t}}),o=r[0].h,i=r[1];return Oi((function(){o.__=n,o.v=t,Wi(o.__,t())||i({h:o})}),[e,n,t]),Li((function(){return Wi(o.__,o.v())||i({h:o}),e((function(){Wi(o.__,o.v())||i({h:o})}))}),[e]),n}var Il={useState:Ri,useId:function(){var e=Mi(wi++,11);if(!e.__){for(var t=vi.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__},useReducer:Ni,useEffect:Li,useLayoutEffect:Oi,useInsertionEffect:Oi,useTransition:function(){return[!1,kl]},useDeferredValue:function(e){return e},useSyncExternalStore:Sl,startTransition:kl,useRef:Ai,useImperativeHandle:function(e,t,n){xi=6,Oi((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))},useMemo:Di,useCallback:Fi,useContext:function(e){var t=vi.context[e.__c],n=Mi(wi++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(vi)),t.props.value):e.__},useDebugValue:function(e,t){Ut.useDebugValue&&Ut.useDebugValue(t?t(e):e)},version:"17.0.2",Children:Zi,render:function(e,t,n){return null==t.__k&&(t.textContent=""),yn(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return xn(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(yn(null,e),!0)},createPortal:function(e,t){var n=Jt(cl,{__v:e,i:t});return n.containerInfo=t,n},createElement:Jt,createContext:function(e,t){var n={__c:t="__cC"+jt++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,rn(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(e){return Jt.bind(null,e)},cloneElement:function(e){return _l(e)?En.apply(null,arguments):e},createRef:function(){return{current:null}},Fragment:Zt,isValidElement:_l,isElement:_l,isFragment:function(e){return _l(e)&&e.type===Zt},findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:en,PureComponent:Qi,memo:Ki,forwardRef:function(e){function t(t){var n=Gi({},t);return delete n.ref,e(n,t.ref||null)}return t.At=Ji,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},flushSync:function(e,t){return e(t)},unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:Zt,Suspense:ol,SuspenseList:ll,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return Jt(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Tl};function Ml(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(Symbol.iterator in e&&Symbol.iterator in t){if("entries"in e&&"entries"in t){const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[e,t]of n)if(!Object.is(t,r.get(e)))return!1;return!0}const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),i=r.next();for(;!o.done&&!i.done;){if(!Object.is(o.value,i.value))return!1;o=n.next(),i=r.next()}return!!o.done&&!!i.done}{const n=new Map(Object.entries(e)),r=new Map(Object.entries(t));if(n.size!==r.size)return!1;for(const[e,t]of n)if(!Object.is(t,r.get(e)))return!1;return!0}}const Rl=(e,t,n)=>{let r;const o=new Set;let i=!1;const l={Dt:(e,t)=>{const l="function"==typeof e?e(r):e;if(Object.is(l,r))return;const a=r;if(r=!1===t||void 0===t&&"object"==typeof l&&null!==l?Object.assign({},r,l):l,o.forEach((e=>e(r,a))),void 0!==n&&!i&&n.Ft.some((e=>!Object.is(r[e],a[e])))){const e={};for(const t of n.Ft)e[t]=r[t];n.Bt.Ut(n.zt,e).catch(console.error)}},Pt:()=>r,Ht:e=>(o.add(e),()=>o.delete(e))};if(r=t(l.Dt,l.Pt,l),void 0!==n){const e=n.Bt.Vt(n.zt);if(e instanceof Promise)e.then((e=>{i=!0;try{l.Dt(e)}finally{i=!1}})).catch((e=>console.error(e)));else{i=!0;try{l.Dt(e)}finally{i=!1}}}return Object.assign(((e,t=Object.is)=>Al(l.Ht,l.Pt,e,t)),l)},Nl=(e,t)=>Rl(0,(()=>t)),Ll=(e,t,n)=>Rl(0,((e,r)=>({...t,...n(e,r)}))),Ol=(e,t,n)=>Rl(0,(()=>t),n),Al=(e,t,n,r)=>{const o=Ai({jt:!1}),i=Sl(e,Di((()=>{let e,i,l=!0;return()=>{const a=t();if(l){l=!1;const t=n(e=a);return i=o.current.jt&&r(o.current.Gt,t)?o.current.Gt:t}if(Object.is(e,a))return i;const s=n(e=a);return r(i,s)?i:i=s}}),[t,n,r]));return Li((()=>{o.current={jt:!0,Gt:i}}),[i]),i};var Dl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Fl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ul=/^\s+|\s+$/g,Bl=/^[-+]0x[0-9a-f]+$/i,zl=/^0b[01]+$/i,Pl=/^0o[0-7]+$/i,Hl=parseInt,Vl="object"==typeof Dl&&Dl&&Dl.Object===Object&&Dl,jl="object"==typeof self&&self&&self.Object===Object&&self,Gl=Vl||jl||Function("return this")(),ql=Object.prototype.toString,Wl=Math.max,Ql=Math.min,Kl=function(){return Gl.Date.now()};function Yl(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Jl(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==ql.call(e)}(e))return NaN;if(Yl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Yl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ul,"");var n=zl.test(e);return n||Pl.test(e)?Hl(e.slice(2),n?2:8):Bl.test(e)?NaN:+e}const Xl=Fl((function(e,t,n){var r,o,i,l,a,s,c=0,$=!1,u=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,i=o;return r=o=void 0,c=t,l=e.apply(i,n)}function h(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-c>=i}function p(){var e=Kl();if(h(e))return m(e);a=setTimeout(p,function(e){var n=t-(e-s);return u?Ql(n,i-(e-c)):n}(e))}function m(e){return a=void 0,d&&r?f(e):(r=o=void 0,l)}function b(){var e=Kl(),n=h(e);if(r=arguments,o=this,s=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(p,t),$?f(e):l}(s);if(u)return a=setTimeout(p,t),f(s)}return void 0===a&&(a=setTimeout(p,t)),l}return t=Jl(t)||0,Yl(n)&&($=!!n.leading,i=(u="maxWait"in n)?Wl(Jl(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=s=o=a=void 0},b.flush=function(){return void 0===a?l:m(Kl())},b}));var Zl="undefined"!=typeof window?Oi:Li;function ea(e,t,n,r){const o=Ai(t);Zl((()=>{o.current=t}),[t]),Li((()=>{const t=(null==n?void 0:n.current)??window;if(!t||!t.addEventListener)return;const i=e=>{o.current(e)};return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}),[e,n,r])}function ta(e,t){const n=Ai(e);Zl((()=>{n.current=e}),[e]),Li((()=>{if(null===t)return;const e=setInterval((()=>{n.current()}),t);return()=>{clearInterval(e)}}),[t])}var na="undefined"==typeof window;function ra(e={}){let{initializeWithValue:t=!0}=e;na&&(t=!1);const[n,r]=Ri((()=>t?{width:window.innerWidth,height:window.innerHeight}:{width:void 0,height:void 0})),o=function(e,t=500,n){const r=Ai();!function(e){const t=Ai(e);t.current=e,Li((()=>()=>{t.current()}),[])}((()=>{r.current&&r.current.cancel()}));const o=Di((()=>{const o=Xl(e,t,n),i=(...e)=>o(...e);return i.cancel=()=>{o.cancel()},i.isPending=()=>!!r.current,i.flush=()=>o.flush(),i}),[e,t,n]);return Li((()=>{r.current=Xl(e,t,n)}),[e,t,n]),o}(r,e.debounceDelay);function i(){(e.debounceDelay?o:r)({width:window.innerWidth,height:window.innerHeight})}return ea("resize",i),Zl((()=>{i()}),[]),n}const oa=(e,t)=>{const n=document.querySelector("#loadingMessage");n&&(n.innerHTML=e,n.append(t))};oa('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-database-search inline-block mr-1 text-[--icon-stroke]" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3" /><path d="M4 6v6c0 1.657 3.582 3 8 3m8 -3.5v-5.5" /><path d="M4 12v6c0 1.657 3.582 3 8 3" /><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M20.2 20.2l1.8 1.8" /></svg>',je("Executing queries..."));const ia=window.acquireVsCodeApi?.(),la=void 0!==ia,aa=[],sa=new Set,ca=Ll(0,{qt:new Set,Wt:new Set,Qt:new Set,Kt:new Set,Yt:new Set,Jt:null},((e,t)=>({Xt:()=>{e({qt:new Set,Wt:new Set,Qt:new Set})},Te:n=>{if(sa.add(n),t().Kt.has(n)){const r=new Set(t().Kt);r.delete(n),e({Kt:r})}const r=ee(n),{Qt:o}=t().Jt?.(r)??{};void 0!==o&&e({Qt:new Set([...t().Qt,o])}),e({qt:new Set([...t().qt,r]),Wt:new Set([...t().Wt,n instanceof Error&&void 0!==n.stack&&""!==n.stack?n.stack.replace(/http.*\/webview/g,""):r])})},Zt:n=>{if(ee(n).includes("ResizeObserver loop completed with undelivered notifications.")||ee(n).includes("ResizeObserver loop limit exceeded")||ee(n).includes("Failed to execute 'importScripts' on 'WorkerGlobalScope'")||ee(n).includes("Model is disposed")||ee(n).includes("Canceled: Canceled")||ee(n).includes("getModifierState is not a function")||ee(n).includes("NetworkError: load failed"))return;if(null!=n&&"string"!=typeof n&&"number"!=typeof n||(n=n+"\n"+((new Error).stack??"")),console.error(n),sa.has(n))return;const r=new Set(t().Kt),o=t().Jt?.(ee(n));r.add(n),void 0!==o?.Qt&&e({Yt:new Set([...t().Yt,o.Qt])}),e({Kt:r})},en:()=>{e({Kt:new Set,Yt:new Set})},tn:t=>{e({Jt:t})}}))),$a=ca.Pt().Zt;class ua extends Error{constructor(e,t){super(e),this.message=e,this.errorCode=t}}const da=(e,{nn:t=!1}={})=>async(...n)=>{const r={start:Date.now()};t||aa.push(r);try{if(void 0!==ia)return await new Promise(((t,r)=>{const o=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);ia.postMessage({requestId:o,apiID:e,body:pi.pack(n),query:51===e?n[0]:void 0});const i=({data:e})=>{Array.isArray(e)&&1===e[0]&&e[1]===o&&(window.removeEventListener("message",i),"err"in e[2]?r(new ua(e[2].err,e[2].errorCode)):t(mi.unpack(e[2].body)))};window.addEventListener("message",i)}));{if(8===e){const[e]=n;return prompt(e.prompt,e.value)??void 0}const t=await fetch(`http://localhost:8080/api/${e}`,{method:"POST",body:pi.pack(n),headers:{"Content-Type":"application/octet-stream"}});if(!t.ok){const e=JSON.parse(await t.text());throw new ua(e.err,e.errorCode)}return mi.unpack(new Uint8Array(await t.arrayBuffer()))}}finally{t||aa.splice(aa.indexOf(r),1)}},fa=(e,t={})=>async(...n)=>{try{return await da(e,t)(...n)}catch(HE){throw t.rn&&ca.Pt().Te(HE),HE}},ha=Nl(0,{ln:!1,an:!0,sn:0,cn:0}),pa=async(e,t,n,r,o={rn:!0})=>{const i=Date.now();try{const l=await da(51,{...o})(e,t,n,r);return console.log(e,t,{totalTime:(Date.now()-i)/1e3,sqlTime:l.time,warnings:l.warnings}),l}catch(HE){if(ha.Pt().ln&&"read_only"===n&&HE instanceof ua&&("DatabaseBusy"===HE.errorCode||"DatabaseLocked"===HE.errorCode)){"DatabaseBusy"===HE.errorCode?ha.Dt((e=>({sn:e.sn+1}))):ha.Dt((e=>({cn:e.cn+1})));try{return await new Promise(((o,i)=>{setTimeout((()=>{pa(e,t,n,r).then(o).catch(i)}),1e3)}))}finally{"DatabaseBusy"===HE.errorCode?ha.Dt((e=>({sn:e.sn-1}))):ha.Dt((e=>({cn:e.cn-1})))}}throw o.rn&&ca.Pt().Te(HE),HE}},ma=(e,t,n)=>{if(null!==e&&window[`serverPush_${e}`])return()=>{};if(null!==e&&(window[`serverPush_${e}`]=!0),void 0!==ia){const r=({data:e})=>{Array.isArray(e)&&e[0]===t&&n(...e.slice(1))};return window.addEventListener("message",r),()=>{window.removeEventListener("message",r),null!==e&&delete window[`serverPush_${e}`]}}{const r=new WebSocket("ws://localhost:8080/"),o=e=>{const r=JSON.parse(e.data);Array.isArray(r)&&r[0]===t&&n(...r.slice(1))};return r.addEventListener("message",o),()=>{r.removeEventListener("message",o),null!==e&&delete window[`serverPush_${e}`]}}},ba=(e,t)=>{void 0!==ia?ea("message",(({data:n})=>{Array.isArray(n)&&n[0]===e&&t(...n.slice(1))})):Li((()=>{const n=new WebSocket("ws://localhost:8080/"),r=n=>{const r=JSON.parse(n.data);Array.isArray(r)&&r[0]===e&&t(...r.slice(1))};return n.addEventListener("message",r),()=>{n.removeEventListener("message",r)}}),[e,t])},wa=new Proxy({},{get:(e,t,n)=>"string"!=typeof t?n[t]:(...e)=>fa(+t)(...e)}),va=async(e,t,n=Oe,r={rn:!0})=>{const o=await pa(`EDITOR_PRAGMA ${e}`,t,Le[e]?"read_only":"read_write",n,r);for(const i of o.warnings)ca.Pt().Te(je("Invalid UTF-8: ")+`${i.context}\n- text ${i.text_lossy}\n- raw bytes ${i.bytes}`);return o.data},ga=async e=>{if(void 0!==ia)await wa[9](e);else try{await navigator.clipboard.writeText(e)}catch(HE){console.error(HE)}},ya=async()=>{if(void 0!==ia)return await wa[10]();try{return await navigator.clipboard.readText()}catch(HE){console.error(HE)}},xa=async(e,t)=>{if(la)await wa[33](e,t);else{const n=new URLSearchParams(location.search);n.set("tableName",e),n.set("columnFilters",JSON.stringify(t)),window.open(window.location.href.split("?")[0]+"?"+n.toString())}};let Ea=!1;const Ca=[],Ta=async(e,t,n=!1)=>{const r=()=>wa[19](e,t,n);Ea?await r():Ca.push(r)},_a=async(...e)=>{const t=()=>wa[15](...e);Ea?await t():Ca.push(t)},ka=()=>({Vt:e=>{const t=window.editorVariables[17][e];return void 0===t?{}:t.state},Ut:async(e,t)=>{const[n,r]=(e=>[e.startsWith("g:"),e.slice(2)])(e);await Ta(r,Z(t),n)}}),Sa=(e,t)=>void 0===e?(console.error("x === undefined"),t):e,Ia=e=>{if("bigint"!=typeof e)throw new Error(`${e}: ${typeof e} is not a bigint`);return e},Ma=async(e,t)=>jr((await pa(e,t,"read_only",Oe,{rn:!1})).records);window.getCacheSizeBytes=()=>va("total_cache_size_bytes",[]);const Ra=e=>new Promise((t=>{const n=document.querySelector(e);if(n)return void t(n);const r=new MutationObserver((n=>{for(const i of n)for(const n of i.addedNodes){if(!(n instanceof Element))continue;const i=n.matches(e)?n:n.querySelector(e);if(i)return r.disconnect(),clearTimeout(o),void t(i)}}));r.observe(document.body,{childList:!0,subtree:!0});const o=setTimeout((()=>{r.disconnect(),t(null)}),2e3)}));let Na=0;class La{$n="id"+Na++;Pt(e=document){return e.querySelector("#"+this.$n)}un(){return Ra("#"+this.$n)}}const Oa=new La,Aa=new La,Da=new La,Fa=new La,Ua=new La,Ba=new La,za=new La,Pa=new La,Ha=new La,Va=new La,ja=new La,Ga=new La,qa=new La,Wa=new La,Qa=new La,Ka=new La,Ya=new La,Ja=new La,Xa=new La,Za=new La,es=new La,ts=new La,ns=new La,rs=new La,os=new La,is=new La,ls=new La,as=new La,ss=new La,cs=new La,$s=new La,us=new La,ds=new La,fs=new La,hs=new La,ps=new La,ms=navigator.platform.startsWith("Mac"),bs=Symbol(),ws=e=>Pr(e,ms,"").Nt;class vs{#n;#r;#o;#i;#l;constructor(e){this.#n=e.shiftKey,this.#r=e.altKey,this.#o=ms?e.metaKey:e.ctrlKey,this.#i=e.code,this.#l=e.isComposing}dn(e){const t=zr(e);return!(!t||t.It&&!this.#o||!t.It&&this.#o||t.Mt&&!this.#n||!t.Mt&&this.#n||t.Rt&&!this.#r||!t.Rt&&this.#r||this.#l||this.#i!==t.Ue)}hn(){return Pr(`${this.#o?"CtrlCmd + ":""}${this.#n?"Shift + ":""}${this.#r?"Alt + ":""}${this.#i}`,ms,"error").Nt+(this.#l?" + isComposing":"")}}const gs=Nl(0,{C:new Map,pn:null});class ys{#a;#s;#c;constructor(e,t,n){this.#c=e,this.#a=t,this.#s=n}get Gt(){return this.#a()}hn(){return this.#c}}class xs{#$;constructor(e){this.#$=e}get Gt(){return!this.#$.Gt}hn(e){return"!"+this.#$.hn(!0)}}class Es{#u;constructor(e){this.#u=e}get Gt(){return this.#u.every((e=>e.Gt))}hn(e){if(0===this.#u.length)return"true";if(1===this.#u.length)return this.#u[0].hn(!0);{const t=this.#u.map((e=>e.hn(!0))).join(" && ");return e?"("+t+")":t}}}class Cs{#u;constructor(e){this.#u=e}get Gt(){return this.#u.some((e=>e.Gt))}hn(e){if(0===this.#u.length)return"false";if(1===this.#u.length)return this.#u[0].hn(!0);{const t=this.#u.map((e=>e.hn(!0))).join(" || ");return e?"("+t+")":t}}}const Ts=e=>new xs(e),_s=(...e)=>new Cs(e),ks=(...e)=>new Es(e),Ss=(e,t)=>new ys(e,(()=>{const e=document.activeElement;return e instanceof Element&&t(e)}),(e=>{window.addEventListener("focus",e,!0),window.addEventListener("blur",e,!0)})),Is=Ss("focus.body",(e=>e===document.body)),Ms=Ss("focus.input.cell",(e=>e.matches("table textarea"))),Rs=Ss("focus.input",(e=>e.matches("label, button, input, textarea, select, option"))),Ns=_s(Ts(Rs),Ms),Ls=Ss("focus.comment",(e=>e.matches(`#${za.$n} *`)));var Os=(e=>(e[e.mn=1],e[e.bn=2],e[e.wn=3],e[e.vn=4],e[e.gn=5],e[e.yn=6],e[e.xn=7],e[e.En=8],e[e.Cn=9],e[e.Tn=10],e[e._n=11],e[e.kn=12],e[e.Sn=13],e[e.In=14],e[e.Mn=15],e[e.Rn=16],e[e.Nn=17],e[e.Ln=18],e[e.On=19],e[e.An=20],e[e.Dn=21],e[e.Fn=22],e[e.Un=23],e[e.Bn=24],e[e.zn=25],e[e.Pn=26],e[e.Hn=27],e[e.Vn=28],e[e.jn=29],e[e.Gn=30],e[e.qn=31],e[e.Wn=32],e[e.Qn=33],e[e.Kn=34],e[e.Yn=35],e[e.Jn=36],e[e.Xn=37],e[e.Zn=38],e[e.er=39],e[e.tr=40],e[e.nr=41],e[e.rr=42],e[e.ir=43],e[e.lr=44],e[e.ar=45],e[e.cr=46],e[e.$r=47],e[e.ur=48],e[e.dr=49],e[e.hr=50],e[e.br=51],e[e.wr=52],e[e.vr=53],e[e.gr=54],e[e.yr=55],e[e.Er=56],e[e.Cr=57],e[e.Tr=58],e[e._r=59],e[e.kr=60],e[e.Sr=61],e[e.Ir=62],e[e.Mr=63],e[e.Rr=64],e[e.Nr=65],e[e.Lr=66],e[e.Or=67],e[e.Ar=68],e[e.Dr=69],e[e.Fr=70],e[e.Ur=71],e[e.Br=72],e[e.zr=73],e[e.Pr=74],e[e.Hr=75],e[e.Vr=76],e[e.jr=77],e[e.Gr=78],e[e.qr=79],e[e.Wr=80],e[e.Qr=81],e[e.Kr=82],e[e.Yr=83],e[e.Jr=84],e[e.Xr=85],e[e.Zr=86],e[e.eo=87],e[e.no=88],e[e.ro=89],e))(Os||{}),As=(e=>(e[e.oo=0],e[e.Fr=1],e[e.Xr=2],e[e.Dr=3],e[e.Ur=4],e[e.Yr=5],e[e.ro=6],e[e.no=100],e[e.Zr=101],e[e.eo=200],e))(As||{});const Ds=new class{#d=[];#f=!1;#h=new Map;io(){return this.#f||(this.#d.sort(((e,t)=>t.lo-e.lo)),this.#f=!0),this.#d}Te(e,t,n,r,o,i=0,l=!0){const a=this.#d.find((t=>t.$n===e)),s=1===r.length?r[0]:ks(...r),c=Array.isArray(t)?t:[t];if(a){JSON.stringify(a.ao)!==JSON.stringify(c)&&console.error(`${e}: ${JSON.stringify(a.ao)} !== ${JSON.stringify(c)}`);const t=a.so;a.co=_s(a.co,s),a.so=e=>s.Gt?n(e):t(e)}else{const t={$n:e,$o:l,ao:c,so:n,co:s,uo:!!o,lo:i};this.#d.push(t),this.#f=!1,this.#h.set(e,t)}}do(e){const t=this.#h.get(e)?.ao[0];if(void 0!==t)return t===bs?"any key":Pr(t,ms,void 0).Nt}fo(e){const t=this.#h.get(e)?.ao[0];if(void 0===t)return"";if(t===bs)return" (any key)";const n=Pr(t,ms,null).Nt;return null===n?"":` (${n})`}};la&&window.addEventListener("keydown",(e=>{if(!e.defaultPrevented)return;if(!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement))return;const t=new vs(e);t.dn("CtrlCmd + KeyZ")?document.execCommand("undo",!1):(t.dn("CtrlCmd + Shift + KeyZ")||t.dn("CtrlCmd + KeyY"))&&document.execCommand("redo",!1)}));var Fs="top",Us="bottom",Bs="right",zs="left",Ps="auto",Hs=[Fs,Us,Bs,zs],Vs="start",js="end",Gs="clippingParents",qs="viewport",Ws="popper",Qs="reference",Ks=Hs.reduce((function(e,t){return e.concat([t+"-"+Vs,t+"-"+js])}),[]),Ys=[].concat(Hs,[Ps]).reduce((function(e,t){return e.concat([t,t+"-"+Vs,t+"-"+js])}),[]),Js=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Xs(e){return e?(e.nodeName||"").toLowerCase():null}function Zs(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ec(e){return e instanceof Zs(e).Element||e instanceof Element}function tc(e){return e instanceof Zs(e).HTMLElement||e instanceof HTMLElement}function nc(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Zs(e).ShadowRoot||e instanceof ShadowRoot)}const rc={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];tc(o)&&Xs(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});tc(r)&&Xs(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function oc(e){return e.split("-")[0]}var ic=Math.max,lc=Math.min,ac=Math.round;function sc(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function cc(){return!/^((?!chrome|android).)*safari/i.test(sc())}function $c(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&tc(e)&&(o=e.offsetWidth>0&&ac(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ac(r.height)/e.offsetHeight||1);var l=(ec(e)?Zs(e):window).visualViewport,a=!cc()&&n,s=(r.left+(a&&l?l.offsetLeft:0))/o,c=(r.top+(a&&l?l.offsetTop:0))/i,$=r.width/o,u=r.height/i;return{width:$,height:u,top:c,right:s+$,bottom:c+u,left:s,x:s,y:c}}function uc(e){var t=$c(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function dc(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&nc(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fc(e){return Zs(e).getComputedStyle(e)}function hc(e){return["table","td","th"].indexOf(Xs(e))>=0}function pc(e){return((ec(e)?e.ownerDocument:e.document)||window.document).documentElement}function mc(e){return"html"===Xs(e)?e:e.assignedSlot||e.parentNode||(nc(e)?e.host:null)||pc(e)}function bc(e){return tc(e)&&"fixed"!==fc(e).position?e.offsetParent:null}function wc(e){for(var t=Zs(e),n=bc(e);n&&hc(n)&&"static"===fc(n).position;)n=bc(n);return n&&("html"===Xs(n)||"body"===Xs(n)&&"static"===fc(n).position)?t:n||function(e){var t=/firefox/i.test(sc());if(/Trident/i.test(sc())&&tc(e)&&"fixed"===fc(e).position)return null;var n=mc(e);for(nc(n)&&(n=n.host);tc(n)&&["html","body"].indexOf(Xs(n))<0;){var r=fc(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function vc(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gc(e,t,n){return ic(e,lc(t,n))}function yc(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function xc(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const Ec={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,a=oc(n.placement),s=vc(a),c=[zs,Bs].indexOf(a)>=0?"height":"width";if(i&&l){var $=function(e,t){return yc("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:xc(e,Hs))}(o.padding,n),u=uc(i),d="y"===s?Fs:zs,f="y"===s?Us:Bs,h=n.rects.reference[c]+n.rects.reference[s]-l[s]-n.rects.popper[c],p=l[s]-n.rects.reference[s],m=wc(i),b=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,w=h/2-p/2,v=$[d],g=b-u[c]-$[f],y=b/2-u[c]/2+w,x=gc(v,y,g),E=s;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-y,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&dc(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cc(e){return e.split("-")[1]}var Tc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _c(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,l=e.offsets,a=e.position,s=e.gpuAcceleration,c=e.adaptive,$=e.roundOffsets,u=e.isFixed,d=l.x,f=void 0===d?0:d,h=l.y,p=void 0===h?0:h,m="function"==typeof $?$({x:f,y:p}):{x:f,y:p};f=m.x,p=m.y;var b=l.hasOwnProperty("x"),w=l.hasOwnProperty("y"),v=zs,g=Fs,y=window;if(c){var x=wc(n),E="clientHeight",C="clientWidth";x===Zs(n)&&"static"!==fc(x=pc(n)).position&&"absolute"===a&&(E="scrollHeight",C="scrollWidth"),(o===Fs||(o===zs||o===Bs)&&i===js)&&(g=Us,p-=(u&&x===y&&y.visualViewport?y.visualViewport.height:x[E])-r.height,p*=s?1:-1),o!==zs&&(o!==Fs&&o!==Us||i!==js)||(v=Bs,f-=(u&&x===y&&y.visualViewport?y.visualViewport.width:x[C])-r.width,f*=s?1:-1)}var T,_=Object.assign({position:a},c&&Tc),k=!0===$?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:ac(n*o)/o||0,y:ac(r*o)/o||0}}({x:f,y:p},Zs(n)):{x:f,y:p};return f=k.x,p=k.y,s?Object.assign({},_,((T={})[g]=w?"0":"",T[v]=b?"0":"",T.transform=(y.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",T)):Object.assign({},_,((t={})[g]=w?p+"px":"",t[v]=b?f+"px":"",t.transform="",t))}var kc={passive:!0},Sc={left:"right",right:"left",bottom:"top",top:"bottom"};function Ic(e){return e.replace(/left|right|bottom|top/g,(function(e){return Sc[e]}))}var Mc={start:"end",end:"start"};function Rc(e){return e.replace(/start|end/g,(function(e){return Mc[e]}))}function Nc(e){var t=Zs(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Lc(e){return $c(pc(e)).left+Nc(e).scrollLeft}function Oc(e){var t=fc(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Ac(e){return["html","body","#document"].indexOf(Xs(e))>=0?e.ownerDocument.body:tc(e)&&Oc(e)?e:Ac(mc(e))}function Dc(e,t){var n;void 0===t&&(t=[]);var r=Ac(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Zs(r),l=o?[i].concat(i.visualViewport||[],Oc(r)?r:[]):r,a=t.concat(l);return o?a:a.concat(Dc(mc(l)))}function Fc(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Uc(e,t,n){return t===qs?Fc(function(e,t){var n=Zs(e),r=pc(e),o=n.visualViewport,i=r.clientWidth,l=r.clientHeight,a=0,s=0;if(o){i=o.width,l=o.height;var c=cc();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,s=o.offsetTop)}return{width:i,height:l,x:a+Lc(e),y:s}}(e,n)):ec(t)?function(e,t){var n=$c(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Fc(function(e){var t,n=pc(e),r=Nc(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=ic(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),l=ic(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+Lc(e),s=-r.scrollTop;return"rtl"===fc(o||n).direction&&(a+=ic(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:l,x:a,y:s}}(pc(e)))}function Bc(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?oc(o):null,l=o?Cc(o):null,a=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(i){case Fs:t={x:a,y:n.y-r.height};break;case Us:t={x:a,y:n.y+n.height};break;case Bs:t={x:n.x+n.width,y:s};break;case zs:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=i?vc(i):null;if(null!=c){var $="y"===c?"height":"width";switch(l){case Vs:t[c]=t[c]-(n[$]/2-r[$]/2);break;case js:t[c]=t[c]+(n[$]/2-r[$]/2)}}return t}function zc(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,l=void 0===i?e.strategy:i,a=n.boundary,s=void 0===a?Gs:a,c=n.rootBoundary,$=void 0===c?qs:c,u=n.elementContext,d=void 0===u?Ws:u,f=n.altBoundary,h=void 0!==f&&f,p=n.padding,m=void 0===p?0:p,b=yc("number"!=typeof m?m:xc(m,Hs)),w=d===Ws?Qs:Ws,v=e.rects.popper,g=e.elements[h?w:d],y=function(e,t,n,r){var o="clippingParents"===t?function(e){var t=Dc(mc(e)),n=["absolute","fixed"].indexOf(fc(e).position)>=0&&tc(e)?wc(e):e;return ec(n)?t.filter((function(e){return ec(e)&&dc(e,n)&&"body"!==Xs(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),l=i[0],a=i.reduce((function(t,n){var o=Uc(e,n,r);return t.top=ic(o.top,t.top),t.right=lc(o.right,t.right),t.bottom=lc(o.bottom,t.bottom),t.left=ic(o.left,t.left),t}),Uc(e,l,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(ec(g)?g:g.contextElement||pc(e.elements.popper),s,$,l),x=$c(e.elements.reference),E=Bc({reference:x,element:v,strategy:"absolute",placement:o}),C=Fc(Object.assign({},v,E)),T=d===Ws?C:x,_={top:y.top-T.top+b.top,bottom:T.bottom-y.bottom+b.bottom,left:y.left-T.left+b.left,right:T.right-y.right+b.right},k=e.modifiersData.offset;if(d===Ws&&k){var S=k[o];Object.keys(_).forEach((function(e){var t=[Bs,Us].indexOf(e)>=0?1:-1,n=[Fs,Us].indexOf(e)>=0?"y":"x";_[e]+=S[n]*t}))}return _}function Pc(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,l=n.padding,a=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?Ys:s,$=Cc(r),u=$?a?Ks:Ks.filter((function(e){return Cc(e)===$})):Hs,d=u.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=u);var f=d.reduce((function(t,n){return t[n]=zc(e,{placement:n,boundary:o,rootBoundary:i,padding:l})[oc(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}const Hc={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,l=n.altAxis,a=void 0===l||l,s=n.fallbackPlacements,c=n.padding,$=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,h=void 0===f||f,p=n.allowedAutoPlacements,m=t.options.placement,b=oc(m),w=s||(b!==m&&h?function(e){if(oc(e)===Ps)return[];var t=Ic(e);return[Rc(e),t,Rc(t)]}(m):[Ic(m)]),v=[m].concat(w).reduce((function(e,n){return e.concat(oc(n)===Ps?Pc(t,{placement:n,boundary:$,rootBoundary:u,padding:c,flipVariations:h,allowedAutoPlacements:p}):n)}),[]),g=t.rects.reference,y=t.rects.popper,x=new Map,E=!0,C=v[0],T=0;T<v.length;T++){var _=v[T],k=oc(_),S=Cc(_)===Vs,I=[Fs,Us].indexOf(k)>=0,M=I?"width":"height",R=zc(t,{placement:_,boundary:$,rootBoundary:u,altBoundary:d,padding:c}),N=I?S?Bs:zs:S?Us:Fs;g[M]>y[M]&&(N=Ic(N));var L=Ic(N),O=[];if(i&&O.push(R[k]<=0),a&&O.push(R[N]<=0,R[L]<=0),O.every((function(e){return e}))){C=_,E=!1;break}x.set(_,O)}if(E)for(var A=function(e){var t=v.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},D=h?3:1;D>0&&"break"!==A(D);D--);t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Vc(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function jc(e){return[Fs,Bs,Us,zs].some((function(t){return e[t]>=0}))}const Gc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,l=Ys.reduce((function(e,n){return e[n]=function(e,t,n){var r=oc(e),o=[zs,Fs].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,l=i[0],a=i[1];return l=l||0,a=(a||0)*o,[zs,Bs].indexOf(r)>=0?{x:a,y:l}:{x:l,y:a}}(n,t.rects,i),e}),{}),a=l[t.placement],s=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=l}},qc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,l=n.altAxis,a=void 0!==l&&l,s=n.boundary,c=n.rootBoundary,$=n.altBoundary,u=n.padding,d=n.tether,f=void 0===d||d,h=n.tetherOffset,p=void 0===h?0:h,m=zc(t,{boundary:s,rootBoundary:c,padding:u,altBoundary:$}),b=oc(t.placement),w=Cc(t.placement),v=!w,g=vc(b),y="x"===g?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,C=t.rects.popper,T="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,_="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(x){if(i){var I,M="y"===g?Fs:zs,R="y"===g?Us:Bs,N="y"===g?"height":"width",L=x[g],O=L+m[M],A=L-m[R],D=f?-C[N]/2:0,F=w===Vs?E[N]:C[N],U=w===Vs?-C[N]:-E[N],B=t.elements.arrow,z=f&&B?uc(B):{width:0,height:0},P=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=P[M],V=P[R],j=gc(0,E[N],z[N]),G=v?E[N]/2-D-j-H-_.mainAxis:F-j-H-_.mainAxis,q=v?-E[N]/2+D+j+V+_.mainAxis:U+j+V+_.mainAxis,W=t.elements.arrow&&wc(t.elements.arrow),Q=W?"y"===g?W.clientTop||0:W.clientLeft||0:0,K=null!=(I=null==k?void 0:k[g])?I:0,Y=L+q-K,J=gc(f?lc(O,L+G-K-Q):O,L,f?ic(A,Y):A);x[g]=J,S[g]=J-L}if(a){var X,Z="x"===g?Fs:zs,ee="x"===g?Us:Bs,te=x[y],ne="y"===y?"height":"width",re=te+m[Z],oe=te-m[ee],ie=-1!==[Fs,zs].indexOf(b),le=null!=(X=null==k?void 0:k[y])?X:0,ae=ie?re:te-E[ne]-C[ne]-le+_.altAxis,se=ie?te+E[ne]+C[ne]-le-_.altAxis:oe,ce=f&&ie?function(e,t,n){var r=gc(e,t,n);return r>n?n:r}(ae,te,se):gc(f?ae:re,te,f?se:oe);x[y]=ce,S[y]=ce-te}t.modifiersData[r]=S}},requiresIfExists:["offset"]};function Wc(e,t,n){void 0===n&&(n=!1);var r,o,i=tc(t),l=tc(t)&&function(e){var t=e.getBoundingClientRect(),n=ac(t.width)/e.offsetWidth||1,r=ac(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=pc(t),s=$c(e,l,n),c={scrollLeft:0,scrollTop:0},$={x:0,y:0};return(i||!i&&!n)&&(("body"!==Xs(t)||Oc(a))&&(c=(r=t)!==Zs(r)&&tc(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:Nc(r)),tc(t)?(($=$c(t,!0)).x+=t.clientLeft,$.y+=t.clientTop):a&&($.x=Lc(a))),{x:s.left+c.scrollLeft-$.x,y:s.top+c.scrollTop-$.y,width:s.width,height:s.height}}function Qc(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}var Kc={placement:"bottom",modifiers:[],strategy:"absolute"};function Yc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Jc(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Kc:o;return function(e,t,n){void 0===n&&(n=i);var o,l,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kc,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],c=!1,$={state:a,setOptions:function(n){var o="function"==typeof n?n(a.options):n;u(),a.options=Object.assign({},i,a.options,o),a.scrollParents={reference:ec(e)?Dc(e):e.contextElement?Dc(e.contextElement):[],popper:Dc(t)};var l,c,d=function(e){var t=Qc(e);return Js.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((l=[].concat(r,a.options.modifiers),c=l.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=d.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:a,name:t,instance:$,options:r});s.push(i||function(){})}})),$.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(Yc(t,n)){a.rects={reference:Wc(t,wc(n),"fixed"===a.options.strategy),popper:uc(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var o=a.orderedModifiers[r],i=o.fn,l=o.options,s=void 0===l?{}:l,u=o.name;"function"==typeof i&&(a=i({state:a,options:s,name:u,instance:$})||a)}else a.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){$.forceUpdate(),e(a)}))},function(){return l||(l=new Promise((function(e){Promise.resolve().then((function(){l=void 0,e(o())}))}))),l}),destroy:function(){u(),c=!0}};if(!Yc(e,t))return $;function u(){s.forEach((function(e){return e()})),s=[]}return $.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),$}}var Xc=Jc({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,l=r.resize,a=void 0===l||l,s=Zs(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,kc)})),a&&s.addEventListener("resize",n.update,kc),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,kc)})),a&&s.removeEventListener("resize",n.update,kc)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Bc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,l=void 0===i||i,a=n.roundOffsets,s=void 0===a||a,c={placement:oc(t.placement),variation:Cc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,_c(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,_c(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},rc,Gc,Hc,qc,Ec,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,l=zc(t,{elementContext:"reference"}),a=zc(t,{altBoundary:!0}),s=Vc(l,r),c=Vc(a,o,i),$=jc(s),u=jc(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:$,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":$,"data-popper-escaped":u})}}]}),Zc="tippy-content",e$="tippy-backdrop",t$="tippy-arrow",n$="tippy-svg-arrow",r$={passive:!0,capture:!0},o$=function(){return document.body};function i$(e,t,n){return Array.isArray(e)?e[t]??(Array.isArray(n)?n[t]:n):e}function l$(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function a$(e,t){return"function"==typeof e?e.apply(void 0,t):e}function s$(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function c$(e){return[].concat(e)}function $$(e,t){-1===e.indexOf(t)&&e.push(t)}function u$(e){return[].slice.call(e)}function d$(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function f$(){return document.createElement("div")}function h$(e){return["Element","Fragment"].some((function(t){return l$(e,t)}))}function p$(e){return l$(e,"MouseEvent")}function m$(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function b$(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function w$(e){var t,n=c$(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function v$(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function g$(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var y$={isTouch:!1},x$=0;function E$(){y$.isTouch||(y$.isTouch=!0,window.performance&&document.addEventListener("mousemove",C$))}function C$(){var e=performance.now();e-x$<20&&(y$.isTouch=!1,document.removeEventListener("mousemove",C$)),x$=e}function T$(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var n=t._tippy;t.blur&&!n.state.isVisible&&t.blur()}}var _$=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),k$=Object.assign({appendTo:o$,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),S$=Object.keys(k$);function I$(e){var t=(e.plugins||[]).reduce((function(t,n){var r,o=n.name,i=n.defaultValue;return o&&(t[o]=void 0!==e[o]?e[o]:null!=(r=k$[o])?r:i),t}),{});return Object.assign({},e,t)}function M$(e,t){var n=Object.assign({},t,{content:a$(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(I$(Object.assign({},k$,{plugins:t}))):S$).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(Ti){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},k$.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}var R$=function(){return"innerHTML"};function N$(e,t){e[R$()]=t}function L$(e){var t=f$();return!0===e?t.className=t$:(t.className=n$,h$(e)?t.appendChild(e):N$(t,e)),t}function O$(e,t){h$(t.content)?(N$(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?N$(e,t.content):e.textContent=t.content)}function A$(e){var t=e.firstElementChild,n=u$(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(Zc)})),arrow:n.find((function(e){return e.classList.contains(t$)||e.classList.contains(n$)})),backdrop:n.find((function(e){return e.classList.contains(e$)}))}}function D$(e){var t=f$(),n=f$();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=f$();function o(n,r){var o=A$(t),i=o.box,l=o.content,a=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||O$(l,e.props),r.arrow?a?n.arrow!==r.arrow&&(i.removeChild(a),i.appendChild(L$(r.arrow))):i.appendChild(L$(r.arrow)):a&&i.removeChild(a)}return r.className=Zc,r.setAttribute("data-state","hidden"),O$(r,e.props),t.appendChild(n),n.appendChild(r),o(e.props,e.props),{popper:t,onUpdate:o}}D$.ho=!0;var F$=1,U$=[],B$=[];function z$(e,t){void 0===t&&(t={});var n=k$.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",E$,r$),window.addEventListener("blur",T$);var r,o=Object.assign({},t,{plugins:n}),i=(r=e,h$(r)?[r]:function(e){return l$(e,"NodeList")}(r)?u$(r):Array.isArray(r)?r:u$(document.querySelectorAll(r))).reduce((function(e,t){var n=t&&function(e,t){var n,r,o,i,l,a,s,c,$=M$(e,Object.assign({},k$,I$(d$(t)))),u=!1,d=!1,f=!1,h=!1,p=[],m=s$(W,$.interactiveDebounce),b=F$++,w=(c=$.plugins).filter((function(e,t){return c.indexOf(e)===t})),v={id:b,reference:e,popper:f$(),popperInstance:null,props:$,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:w,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(t){if(!v.state.isDestroyed){L("onBeforeUpdate",[v,t]),G();var n=v.props,r=M$(e,Object.assign({},n,d$(t),{ignoreAttributes:!0}));v.props=r,j(),n.interactiveDebounce!==r.interactiveDebounce&&(D(),m=s$(W,r.interactiveDebounce)),n.triggerTarget&&!r.triggerTarget?c$(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded"),A(),N(),x&&x(n,r),v.popperInstance&&(J(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),L("onAfterUpdate",[v,t])}},setContent:function(e){v.setProps({content:e})},show:function(){var e=v.state.isVisible,t=v.state.isDestroyed,n=!v.state.isEnabled,r=y$.isTouch&&!v.props.touch,o=i$(v.props.duration,0,k$.duration);if(!(e||t||n||r||S().hasAttribute("disabled")||(L("onShow",[v],!1),!1===v.props.onShow(v)))){if(v.state.isVisible=!0,k()&&(y.style.visibility="visible"),N(),z(),v.state.isMounted||(y.style.transition="none"),k()){var i=M();m$([i.box,i.content],0)}var l,s,c;a=function(){var e;if(v.state.isVisible&&!h){if(h=!0,y.offsetHeight,y.style.transition=v.props.moveTransition,k()&&v.props.animation){var t=M(),n=t.box,r=t.content;m$([n,r],o),b$([n,r],"visible")}O(),A(),$$(B$,v),null==(e=v.popperInstance)||e.forceUpdate(),L("onMount",[v]),v.props.animation&&k()&&function(e,t){H(e,(function(){v.state.isShown=!0,L("onShown",[v])}))}(o)}},s=v.props.appendTo,c=S(),(l=v.props.interactive&&s===o$||"parent"===s?c.parentNode:a$(s,[c])).contains(y)||l.appendChild(y),v.state.isMounted=!0,J()}},hide:function(){var e=!v.state.isVisible,t=v.state.isDestroyed,n=!v.state.isEnabled,r=i$(v.props.duration,1,k$.duration);if(!(e||t||n)&&(L("onHide",[v],!1),!1!==v.props.onHide(v))){if(v.state.isVisible=!1,v.state.isShown=!1,h=!1,u=!1,k()&&(y.style.visibility="hidden"),D(),P(),N(!0),k()){var o=M(),i=o.box,l=o.content;v.props.animation&&(m$([i,l],r),b$([i,l],"hidden"))}O(),A(),v.props.animation?k()&&function(e,t){H(e,(function(){!v.state.isVisible&&y.parentNode&&y.parentNode.contains(y)&&t()}))}(r,v.unmount):v.unmount()}},hideWithInteractivity:function(e){I().addEventListener("mousemove",m),$$(U$,m),m(e)},enable:function(){v.state.isEnabled=!0},disable:function(){v.hide(),v.state.isEnabled=!1},unmount:function(){v.state.isVisible&&v.hide(),v.state.isMounted&&(X(),Z().forEach((function(e){e._tippy.unmount()})),y.parentNode&&y.parentNode.removeChild(y),B$=B$.filter((function(e){return e!==v})),v.state.isMounted=!1,L("onHidden",[v]))},destroy:function(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),G(),delete e._tippy,v.state.isDestroyed=!0,L("onDestroy",[v]))}};if(!$.render)return v;var g=$.render(v),y=g.popper,x=g.onUpdate;y.setAttribute("data-tippy-root",""),y.id="tippy-"+v.id,v.popper=y,e._tippy=v,y._tippy=v;var E=w.map((function(e){return e.fn(v)})),C=e.hasAttribute("aria-expanded");return j(),A(),N(),L("onCreate",[v]),$.showOnCreate&&ee(),y.addEventListener("mouseenter",(function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()})),y.addEventListener("mouseleave",(function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&I().addEventListener("mousemove",m)})),v;function T(){var e=v.props.touch;return Array.isArray(e)?e:[e,0]}function _(){return"hold"===T()[0]}function k(){var e;return!(null==(e=v.props.render)||!e.ho)}function S(){return s||e}function I(){var e=S().parentNode;return e?w$(e):document}function M(){return A$(y)}function R(e){return v.state.isMounted&&!v.state.isVisible||y$.isTouch||i&&"focus"===i.type?0:i$(v.props.delay,e?0:1,k$.delay)}function N(e){void 0===e&&(e=!1),y.style.pointerEvents=v.props.interactive&&!e?"":"none",y.style.zIndex=""+v.props.zIndex}function L(e,t,n){var r;void 0===n&&(n=!0),E.forEach((function(n){n[e]&&n[e].apply(n,t)})),n&&(r=v.props)[e].apply(r,t)}function O(){var t=v.props.aria;if(t.content){var n="aria-"+t.content,r=y.id;c$(v.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(v.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var o=t&&t.replace(r,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}}))}}function A(){!C&&v.props.aria.expanded&&c$(v.props.triggerTarget||e).forEach((function(e){v.props.interactive?e.setAttribute("aria-expanded",v.state.isVisible&&e===S()?"true":"false"):e.removeAttribute("aria-expanded")}))}function D(){I().removeEventListener("mousemove",m),U$=U$.filter((function(e){return e!==m}))}function F(t){if(!y$.isTouch||!f&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!v.props.interactive||!g$(y,n)){if(c$(v.props.triggerTarget||e).some((function(e){return g$(e,n)}))){if(y$.isTouch)return;if(v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[v,t]);!0===v.props.hideOnClick&&(v.clearDelayTimeouts(),v.hide(),d=!0,setTimeout((function(){d=!1})),v.state.isMounted||P())}}}function U(){f=!0}function B(){f=!1}function z(){var e=I();e.addEventListener("mousedown",F,!0),e.addEventListener("touchend",F,r$),e.addEventListener("touchstart",B,r$),e.addEventListener("touchmove",U,r$)}function P(){var e=I();e.removeEventListener("mousedown",F,!0),e.removeEventListener("touchend",F,r$),e.removeEventListener("touchstart",B,r$),e.removeEventListener("touchmove",U,r$)}function H(e,t){var n=M().box;function r(e){e.target===n&&(v$(n,"remove",r),t())}if(0===e)return t();v$(n,"remove",l),v$(n,"add",r),l=r}function V(t,n,r){void 0===r&&(r=!1),c$(v.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),p.push({node:e,eventType:t,handler:n,options:r})}))}function j(){var e;_()&&(V("touchstart",q,{passive:!0}),V("touchend",Q,{passive:!0})),(e=v.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(V(e,q),e){case"mouseenter":V("mouseleave",Q);break;case"focus":V(_$?"focusout":"blur",K);break;case"focusin":V("focusout",K)}}))}function G(){p.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)})),p=[]}function q(e){var t,n=!1;if(v.state.isEnabled&&!Y(e)&&!d){var r="focus"===(null==(t=i)?void 0:t.type);i=e,s=e.currentTarget,A(),!v.state.isVisible&&p$(e)&&U$.forEach((function(t){return t(e)})),"click"===e.type&&(v.props.trigger.indexOf("mouseenter")<0||u)&&!1!==v.props.hideOnClick&&v.state.isVisible?n=!0:ee(e),"click"===e.type&&(u=!n),n&&!r&&te(e)}}function W(e){var t=e.target,n=S().contains(t)||y.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,i=e.props.interactiveBorder,l=o.placement.split("-")[0],a=o.modifiersData.offset;if(!a)return!0;var s="bottom"===l?a.top.y:0,c="top"===l?a.bottom.y:0,$="right"===l?a.left.x:0,u="left"===l?a.right.x:0,d=t.top-r+s>i,f=r-t.bottom-c>i,h=t.left-n+$>i,p=n-t.right-u>i;return d||f||h||p}))}(Z().concat(y).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:$}:null})).filter(Boolean),e)&&(D(),te(e))}function Q(e){Y(e)||v.props.trigger.indexOf("click")>=0&&u||(v.props.interactive?v.hideWithInteractivity(e):te(e))}function K(e){v.props.trigger.indexOf("focusin")<0&&e.target!==S()||v.props.interactive&&e.relatedTarget&&y.contains(e.relatedTarget)||te(e)}function Y(e){return!!y$.isTouch&&_()!==e.type.indexOf("touch")>=0}function J(){X();var t=v.props,n=t.popperOptions,r=t.placement,o=t.offset,i=t.getReferenceClientRect,l=t.moveTransition,s=k()?A$(y).arrow:null,c=i?{getBoundingClientRect:i,contextElement:i.contextElement||S()}:e,$=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!l}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(k()){var n=M().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];k()&&s&&$.push({name:"arrow",options:{element:s,padding:3}}),$.push.apply($,(null==n?void 0:n.modifiers)||[]),v.popperInstance=Xc(c,y,Object.assign({},n,{placement:r,onFirstUpdate:a,modifiers:$}))}function X(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function Z(){return u$(y.querySelectorAll("[data-tippy-root]"))}function ee(e){v.clearDelayTimeouts(),e&&L("onTrigger",[v,e]),z();var t=R(!0),r=T(),o=r[0],i=r[1];y$.isTouch&&"hold"===o&&i&&(t=i),t?n=setTimeout((function(){v.show()}),t):v.show()}function te(e){if(v.clearDelayTimeouts(),L("onUntrigger",[v,e]),v.state.isVisible){if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=R(!1);t?r=setTimeout((function(){v.state.isVisible&&v.hide()}),t):o=requestAnimationFrame((function(){v.hide()}))}}else P()}}(t,o);return n&&e.push(n),e}),[]);return h$(e)?i[0]:i}z$.defaultProps=k$,z$.setDefaultProps=function(e){Object.keys(e).forEach((function(t){k$[t]=e[t]}))},z$.currentInput=y$,Object.assign({},rc,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});var P$={clientX:0,clientY:0},H$=[];function V$(e){var t=e.clientX,n=e.clientY;P$={clientX:t,clientY:n}}var j$={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=w$(e.props.triggerTarget||t),r=!1,o=!1,i=!0,l=e.props;function a(){return"initial"===e.props.followCursor&&e.state.isVisible}function s(){n.addEventListener("mousemove",u)}function c(){n.removeEventListener("mousemove",u)}function $(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function u(n){var r=!n.target||t.contains(n.target),o=e.props.followCursor,i=n.clientX,l=n.clientY,a=t.getBoundingClientRect(),s=i-a.left,c=l-a.top;!r&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=i,r=l;"initial"===o&&(n=e.left+s,r=e.top+c);var a="horizontal"===o?e.top:r,$="vertical"===o?e.right:n,u="horizontal"===o?e.bottom:r,d="vertical"===o?e.left:n;return{width:$-d,height:u-a,top:a,right:$,bottom:u,left:d}}})}function d(){e.props.followCursor&&(H$.push({instance:e,doc:n}),function(e){e.addEventListener("mousemove",V$)}(n))}function f(){0===(H$=H$.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===n})).length&&function(e){e.removeEventListener("mousemove",V$)}(n)}return{onCreate:d,onDestroy:f,onBeforeUpdate:function(){l=e.props},onAfterUpdate:function(t,n){var i=n.followCursor;r||void 0!==i&&l.followCursor!==i&&(f(),i?(d(),!e.state.isMounted||o||a()||s()):(c(),$()))},onMount:function(){e.props.followCursor&&!o&&(i&&(u(P$),i=!1),a()||s())},onTrigger:function(e,t){p$(t)&&(P$={clientX:t.clientX,clientY:t.clientY}),o="focus"===t.type},onHidden:function(){e.props.followCursor&&($(),c(),i=!0)}}}};z$.setDefaultProps({render:D$});const G$=e=>{const t=Ai(null),n=Ai(null),r=void 0!==e.content&&""!==e.content;Oi((()=>{if(t.current&&r)return n.current=z$(t.current,{duration:100,plugins:[j$]}),()=>{n.current?.destroy(),n.current=null}}),[r]),Li((()=>{void 0!==e.content&&""!==e.content&&n.current?.setProps({content:e.content,allowHTML:e.allowHTML,followCursor:e.followCursor,delay:[e.delay??0,null],offset:e.offset})}),[e.content,e.allowHTML,e.followCursor,e.delay,e.offset]);const o={...e};return"baseClass"in o&&delete o.baseClass,"content"in o&&delete o.content,"children"in o&&delete o.children,"allowHTML"in o&&delete o.allowHTML,Jt(e.baseClass,{ref:t,...o},e.children)},q$=e=>Tn(G$,{baseClass:"button",content:e.po,disabled:e.mo,style:e.bo,allowHTML:e.wo,class:Dt("outline-0 pointer-outline [font-family:inherit] disabled:cursor-not-allowed disabled:text-neutral-500 disabled:bg-neutral-300 rounded-sm hover:bg-opacity-100 shadow px-2",!e.vo&&"focus:outline focus:[outline-width:var(--focus-outline-width)] focus:outline-outline-color focus:outline-offset-0",e.yo?"bg-button-secondary":"bg-primary text-fg-primary",e.Ee),onClick:e.Ce,onContextMenu:e.xo,title:e.Eo,"data-testid":void 0,children:e.children}),W$=e=>{const t=!!e.Co,n=!!e.To;return Tn(G$,{baseClass:"span",content:e.Eo,class:Dt("align-middle select-none px-1 [border-radius:1px] inline-block cursor-pointer",t&&"bg-neutral-300",!t&&"hover:bg-neutral-300 active:bg-inherit",!t&&n&&"bg-white",e.Ee),onMouseDown:()=>e._o?.(),onClick:n=>e.Ce?.(!t,n),"data-testid":void 0,children:"number"==typeof e.St?Tn(Br,{Ee:Dt("translate-y-[-1.5px]",e.ko),St:e.St}):e.St})},Q$=e=>{const t=!!e.Co;return Tn(G$,{id:e.$n,baseClass:"span",content:e.Eo,allowHTML:e.So,tabIndex:e.Io,class:Dt("align-middle select-none px-2 mr-[1px] inline-block pointer-outline rounded border whitespace-nowrap",t?"bg-neutral-300 opacity-90 border-l-neutral-400 border-t-neutral-400 border-r-neutral-200 border-b-neutral-200":"border-transparent",e.Ee),onClick:n=>e.Ce(!t,n),onContextMenu:e.xo,"data-testid":void 0,children:["number"==typeof e.St?Tn(Br,{St:e.St}):e.St,Tn("span",{class:"ml-1",children:e.children})]})},K$=e=>void 0!==e.mo||void 0!==e.Mo&&!e.Co?Tn(G$,{baseClass:"label",content:e.mo??e.Mo,"data-checked":e.Co,title:e.Eo,class:Dt("select-none cursor-not-allowed text-neutral-800 bg-white shadow inline-block px-2 opacity-40",e.Ee),tabIndex:e.Io??0,style:e.bo,"data-testid":e["data-testid"],children:e.Nt}):Tn(G$,{baseClass:"label",content:e.po,"data-checked":e.Co,title:e.Eo,class:Dt("select-none pointer-outline text-neutral-800 inline-block px-2 border",e.Co?"text-opacity-80 bg-neutral-300 opacity-90 border-l-neutral-400 border-t-neutral-400 border-r-neutral-200 border-b-neutral-200":"border-transparent shadow bg-white text-opacity-40",e.Ee),tabIndex:e.Io??0,style:e.bo,onClick:()=>e.Ro(!e.Co),onKeyDown:t=>{["Enter","Space"].includes(t.code)&&e.Ro(!e.Co)},"data-testid":e["data-testid"],children:e.Nt}),Y$=e=>{const t=!!e.No,n=!!e.Lo;return void 0!==e.mo||void 0!==e.Mo&&!e.Co?Tn(G$,{baseClass:"label",content:e.mo??e.Mo,"data-checked":e.Co,title:e.Eo,class:Dt("select-none text-neutral-800 whitespace-nowrap rounded bg-button-secondary px-1 inline-block text-opacity-40 cursor-not-allowed",e.Co?"bg-opacity-20":"bg-opacity-40",!t&&"mr-1",n&&"border-b border-neutral-400",e.Ee),tabIndex:e.Io??0,style:e.bo,"data-testid":e["data-testid"],children:e.Nt}):Tn(G$,{baseClass:"label",content:e.po,"data-checked":e.Co,title:e.Eo,class:Dt("select-none text-neutral-800 whitespace-nowrap rounded bg-button-secondary px-1 inline-block pointer-outline",e.Co?"bg-opacity-20":"bg-opacity-40",!t&&"mr-1",n&&"border-b border-neutral-400",e.Co?"font-bold text-opacity-80":"text-opacity-40",e.Ee),tabIndex:e.Io??0,style:e.bo,onClick:()=>e.Ro(!e.Co),onKeyDown:t=>{["Enter","Space"].includes(t.code)&&e.Ro(!e.Co)},"data-testid":e["data-testid"],children:e.Nt})},J$=e=>{const t=!!e.Oo,n=!!e.Ao,r=!!e.po;return Tn(G$,{baseClass:"div",title:e.Eo??je("Close"),content:r?je("Close"):void 0,class:Dt("absolute right-1 hover:bg-slate-400 hover:bg-opacity-30 rounded-sm px-1 cursor-pointer",t&&"top-[-0.5px] py-0",!t&&"py-[0.15rem]",!t&&!n&&"top-1",e.Ee),onClick:e.Ce,"data-testid":e["data-testid"],children:Tn(Br,{St:Ur.De,Ee:"translate-y-[-2px]"})})},X$=e=>Tn("span",{class:Dt("focus-outline inline-block",e.Ee),style:e.bo,onClick:()=>{e.Ro?.(!e.Co)},onKeyPress:e=>{"Space"===e.code&&(e.stopImmediatePropagation(),e.preventDefault(),e.currentTarget.click())},tabIndex:e.Io??0,children:[Tn("span",{class:"relative inline-block translate-y-[-1px]",children:[Tn(cr,{Ee:"invisible",ge:"1.2em"}),e.Co?Tn(Zt,{children:[Tn(Sr,{Ee:"absolute left-0 top-[2px] z-0 text-always-white scale-90",ge:"1.2em"}),Tn(kr,{Ee:"absolute left-0 top-[2px] z-10 text-primary",ge:"1.2em"}),Tn(cr,{Ee:"absolute left-0 top-[2px] z-20 text-neutral-500",ge:"1.2em"})]}):Tn(Zt,{children:[Tn(Sr,{Ee:"absolute left-0 top-[2px] z-0 text-[--checkbox-bg] scale-90",ge:"1.2em"}),Tn(cr,{Ee:"absolute left-0 top-[2px] z-10 text-neutral-500",ge:"1.2em"})]})]}),e.children]}),Z$=(e,t,n,r)=>{const o=window.scrollY+window.innerHeight;let i=e.Do,l=e.Fo;n(i,l);let a=!1,s=0;const c=()=>{const n=t();if(n){const t=n.getBoundingClientRect(),s=Math.min(i,window.innerWidth-t.width-10);let c=l;!a&&void 0!==e.Uo&&l>o-t.height-10&&(c=e.Uo-t.height-10,a=!0),c=Math.min(c,o-t.height-10),i===s&&l===c||r(s,c),i=s,l=c}s++,s>=30||requestAnimationFrame(c)};c()},eu=e=>Tn("span",{class:Dt("focus-outline inline-block",e.Ee),onClick:()=>{e.Ro?.(!e.Co)},onKeyPress:e=>{"Space"===e.code&&(e.stopImmediatePropagation(),e.preventDefault(),e.currentTarget.click())},tabIndex:e.Io??0,children:[Tn("span",{class:"relative inline-block translate-y-[-1px]",children:[Tn(Un,{Ee:"invisible",ge:"1.2em"}),e.Co?Tn(Zt,{children:[Tn(Tr,{Ee:"absolute left-0 top-[2px] z-0 text-always-white scale-90",ge:"1.3em"}),Tn(Cr,{Ee:"absolute left-0 top-[2px] z-10 text-primary",ge:"1.3em"}),Tn(Un,{Ee:"absolute left-0 top-[2px] z-20 text-neutral-500",ge:"1.3em"})]}):Tn(Zt,{children:[Tn(Tr,{Ee:"absolute left-0 top-[2px] z-0 text-[--checkbox-bg] scale-90",ge:"1.3em"}),Tn(Un,{Ee:"absolute left-0 top-[2px] z-10 text-neutral-500",ge:"1.3em"})]})]}),e.children]}),tu=e=>Tn("span",{class:Dt("focus-outline pointer-outline inline-block px-4 pt-4 pb-2",e.Co&&"bg-sky-100",e.Ee),onClick:()=>{e.Ro?.(!e.Co)},onKeyPress:e=>{"Space"===e.code&&(e.stopImmediatePropagation(),e.preventDefault(),e.currentTarget.click())},tabIndex:e.Io??0,children:[void 0!==e.Bo&&Tn("div",{class:"w-fit mx-auto",children:e.Bo}),Tn("div",{class:"w-fit mx-auto",children:[Tn("span",{class:"relative inline-block translate-y-[-1px]",children:[Tn(Un,{Ee:"invisible",ge:"1.2em"}),e.Co?Tn(Zt,{children:[Tn(Tr,{Ee:"absolute left-0 top-[2px] z-0 text-always-white scale-90",ge:"1.3em"}),Tn(Cr,{Ee:"absolute left-0 top-[2px] z-10 text-primary",ge:"1.3em"}),Tn(Un,{Ee:"absolute left-0 top-[2px] z-20 text-neutral-500",ge:"1.3em"})]}):Tn(Zt,{children:[Tn(Tr,{Ee:"absolute left-0 top-[2px] z-0 text-[--checkbox-bg] scale-90",ge:"1.3em"}),Tn(Un,{Ee:"absolute left-0 top-[2px] z-10 text-neutral-500",ge:"1.3em"})]})]}),e.children]})]}),nu=Nl(0,{Do:0,Uo:0,zo:null,Po:"",Ho:!1}),ru=()=>nu.Pt().Ho,ou=()=>{const e=nu((e=>e.zo)),t=nu((e=>e.Do)),n=nu((e=>e.Uo)),[r,o]=Ri(null),[i,l]=Ri(null);return ea("contextmenu",(e=>{if(null!==nu.Pt().zo){if(e.defaultPrevented)return;e.preventDefault(),lu()}else{if(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||!1===document.getSelection()?.isCollapsed||e.target instanceof Element&&e.target.matches(".select-text, .select-text *"))return;e.preventDefault()}}),{current:document.body}),ea("mousedown",(e=>{ru()||e.target instanceof Element&&e.target.matches(".contextmenu, .contextmenu *")||lu()}),void 0,{capture:!0}),ea("blur",(()=>{ru()||lu()})),Li((()=>{if(!r)return;const e=r.children[0];e instanceof HTMLElement&&document.activeElement instanceof HTMLElement&&(document.activeElement.matches(`#${Pa.$n} *`)||(l(document.activeElement),e.focus()))}),[r]),null===e?Tn(Zt,{}):Tn("div",{ref:o,id:Pa.$n,class:"contextmenu",onClick:()=>{lu()},onKeyDown:e=>{if(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement)return;const t=e=>e instanceof HTMLHRElement||e instanceof HTMLHeadingElement;if("Escape"===e.code)e.preventDefault(),e.stopImmediatePropagation(),lu(),i?.isConnected&&i.focus();else if(1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey){if("ArrowDown"===e.code||"ArrowUp"===e.code){if(!r)return;e.preventDefault(),e.stopImmediatePropagation();let n=document.activeElement;for(;t(n=n?.["ArrowDown"===e.code?"nextSibling":"previousSibling"]););if(!(n instanceof HTMLElement))return;n.focus()}}else{if(!r)return;e.preventDefault(),e.stopImmediatePropagation();const t=nu.Pt().Po+e.key;nu.Dt({Po:t});for(const e of r.children)if(e instanceof HTMLElement&&e.textContent?.trim().toLowerCase().startsWith(t.toLowerCase())){e.focus();break}}},style:{left:t,top:n},children:[Tn("div",{tabIndex:0,class:"contextmenu-default-focus-item"}),e]})},iu=(e,t,n=!1)=>{if("mousedown"===e.type&&2===e.button)return;e.preventDefault(),lu(!0),e.currentTarget instanceof Element&&e.currentTarget.classList.add("contextmenu-target"),null!==nu.Pt().zo&&e.stopImmediatePropagation();let r={Do:e.pageX,Fo:e.pageY};if(n){const{currentTarget:t}=e;if(!(t instanceof HTMLElement))return void console.warn("ev.currentTarget is not a HTMLElement.",t);const n=t.getBoundingClientRect();r={Do:n.left,Fo:n.bottom,Uo:n.top}}Z$(r,(()=>Pa.Pt()),((e,n)=>{nu.Dt({Do:e,Uo:n,zo:t,Po:""})}),((e,t)=>{const n=Pa.Pt();null!==n&&(n.style.left=e+"px",n.style.top=t+"px")}))},lu=(e=!1)=>{e||nu.Dt({zo:null}),document.querySelector(".contextmenu-target")?.classList.remove("contextmenu-target")},au=e=>Tn("h3",{children:[e.St,Tn("span",{class:"align-middle",children:e.Nt})]}),su=e=>{let t;return t="number"==typeof e.St?Tn(Br,{Ee:"mr-1",St:e.St}):e.St?e.St:Tn(Zt,{}),Tn("div",{class:"contextmenu-button-divider no-focus-effect flex",onClick:e=>{e.target instanceof Element&&e.target.matches("button, button *")||e.stopImmediatePropagation()},children:[Tn("div",{class:"flex-1 translate-y-[2.5px]",children:[t,Tn("span",{class:"align-middle",children:e.Nt})]}),e.children]})},cu=e=>{let t;return t="number"==typeof e.St?Tn(Br,{Ee:"mr-1",St:e.St}):e.St?e.St:Tn(Zt,{}),void 0!==e.Vo?Tn("button",{disabled:e.mo,onClick:e.Ce,class:Dt("flex",e.jo&&"contextmenu-active",e.Ee),tabIndex:e.Io,"data-testid":e["data-testid"],children:[void 0!==e.Co&&Tn(X$,{Ee:"mr-2",Co:e.Co}),void 0!==e.Go&&Tn(eu,{Ee:"mr-2",Co:e.Go}),Tn("div",{class:"flex-1",children:[t,Tn("span",{class:"align-middle",children:e.Nt})]}),Tn("kbd",{children:e.Vo}),void 0!==e.children&&Tn("div",{children:e.children})]}):Tn("button",{disabled:e.mo,onClick:e.Ce,class:Dt(e.jo&&"contextmenu-active",e.Ee),tabIndex:e.Io,"data-testid":e["data-testid"],children:[void 0!==e.Co&&Tn(X$,{Ee:"mr-2",Co:e.Co}),void 0!==e.Go&&Tn(eu,{Ee:"mr-2",Co:e.Go}),t,Tn("span",{class:"align-middle",children:e.Nt}),void 0!==e.children&&Tn("div",{children:e.children})]})},$u=e=>e.replace(/(^|\n)(#+ [^\n]*)/g,"$1#$2"),uu=e=>e.replace(/(^|\n)#(#+ [^\n]*)/g,"$1$2"),du=e=>e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n"),fu=e=>{e=e.slice(8);try{const t=(e=>e.replace(/\\[\\n]/g,(e=>"\\\\"===e?"\\":"\n")))(e);return du(t)!==e?null:t.includes("\n")||t.startsWith("escaped:")&&null!==fu(t)?t:null}catch{return null}},hu=e=>e.startsWith("escaped:")?fu(e)??e:e,pu=e=>{let t=e.includes("\n");return e.startsWith("escaped:")&&null!==fu(e)&&(t=!0),t?"escaped:"+du(e):e},mu=e=>{const t=e=>{const[t,n,r]=/^([^\n]*)(?:\n(.*)|$)/s.exec(e);return[hu(n),void 0===r?null:uu(r)]},n=e.split("\n# ");return n[0].startsWith("# ")?{header:null,sections:[t(n.shift().slice(2)),...n.map((e=>t(e)))]}:{header:uu(n.shift()),sections:n.map((e=>t(e)))}};class bu{#p;#h=new Map;constructor(e){this.#p=mu(e);for(const t of this.#p.sections)this.#h.has(t[0])||this.#h.set(t[0],t)}qo(){return new bu(this.Wo())}Wo(){return(e=>{const t=[];null!==e.header&&t.push($u(e.header));for(const[n,r]of e.sections)null===r?t.push(`# ${pu(n)}`):t.push(`# ${pu(n)}\n${$u(r)}`);return t.join("\n")})(this.#p)}Qo(e){return this.#h.get(e)?.[1]}Ko(e,t){const n=this.#h.get(e);if(void 0===n){const n=[e,t];this.#h.set(e,n),""===this.#p.header&&0===this.#p.sections.length?Object.assign(this.#p,{header:null,sections:[n]}):this.#p.sections.push(n)}else if(""===t){const t=this.#p.sections.indexOf(n);if(-1===t)return;const r=[...this.#p.sections.slice(0,t),...this.#p.sections.slice(t+1)];0===r.length?null===this.#p.header?Object.assign(this.#p,{header:"",sections:[]}):this.#p.sections=[]:this.#p.sections=r;const o=this.#p.sections.find((t=>t[0]===e));void 0===o?this.#h.delete(e):this.#h.set(e,o)}else n[1]=t}}const wu=["red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],vu=Symbol(),gu=(e,t,n)=>{const r=new Map;for(const o of e){r.has(o.table??vu)||r.set(o.table??vu,new Map),r.get(o.table??vu).has(o.column??vu)||r.get(o.table??vu).set(o.column??vu,{Yo:"",Jo:"",Xo:""});const e=r.get(o.table??vu).get(o.column??vu),i=n[void 0!==o.color&&wu.includes(o.color)?o.color:"orange"];{const n=JSON.stringify(i[t?900:200]+"ff");void 0!==o.equal&&(e.Yo+=`if (x === ${JSON.stringify(o.equal)}) { return ${n} }`),void 0!==o.contains&&(e.Yo+=`if (x.includes(${JSON.stringify(o.contains)})) { return ${n} }`),void 0!==o.startsWith&&(e.Yo+=`if (x.startsWith(${JSON.stringify(o.startsWith)})) { return ${n} }`),void 0!==o.endsWith&&(e.Yo+=`if (x.endsWith(${JSON.stringify(o.endsWith)})) { return ${n} }`)}void 0!==o.min&&void 0!==o.max&&o.min<o.max&&(e.Jo+=`if (${Z(BigInt(Math.ceil(o.min)))} <= x) { return ${JSON.stringify(i[t?600:400])} + Math.round(Math.min((Number(x) - ${JSON.stringify(o.min)}) / ${JSON.stringify(o.max-o.min)}, 1) * 255).toString(16).padStart(2, "0") }`,e.Xo+=`if (${JSON.stringify(o.min)} <= x) { return ${JSON.stringify(i[t?600:400])} + Math.round(Math.min((x - ${JSON.stringify(o.min)}) / ${JSON.stringify(o.max-o.min)}, 1) * 255).toString(16).padStart(2, "0") }`)}return new Map(Array.from(r.entries(),(([e,t])=>[e,new Map(Array.from(t.entries(),(([e,t])=>[e,new Function("x",`switch (typeof x) {\n    ${""===t.Yo?"":`    case "string":\n        ${t.Yo}\n        break`}\n    ${""===t.Jo?"":`    case "bigint":\n        ${t.Jo}\n        break`}\n    ${""===t.Xo?"":`    case "number":\n        ${t.Xo}\n        break`}\n}\nreturn null`)])))])))},yu=(e,t)=>{const n=new Map;for(const[r,{Zo:o}]of Object.entries(e))n.has(o)||n.set(o,[]),n.get(o).push(r);return[...n.entries()].sort(((e,n)=>{if(t){const r=t(e[0]),o=t(n[0]);if(r!==o)return r-o}return e[0].localeCompare(n[0])}))},xu=e=>{const t=Ai(null),n=Ai(null);return Oi((()=>{t.current&&n.current&&(t.current.style.width=n.current.offsetWidth+"px")})),void 0===e.Gt||Object.keys(e.ei).includes(e.Gt)?Tn(Zt,{children:[Tn("select",{id:e.$n,autocomplete:"off",value:e.Gt??"__novalue",style:e.bo,class:Dt("px-[15px] pointer-outline",e.Ee),ref:t,onMouseDown:e._o,onChange:t=>e.Ro(t.currentTarget.value),tabIndex:e.Io,onContextMenu:e.xo,onMouseEnter:e.ti,onMouseLeave:e.ni,"data-testid":void 0,children:Tn(Zt,{children:[void 0===e.Gt&&Tn("option",{value:"__novalue",class:"hidden",disabled:!0}),yu(e.ei,e.ri).map((([t,n])=>{const r=n.map((t=>{const n=!!e.ei[t].mo;return Tn("option",{value:t,disabled:n,children:(e.ei[t].Nt??t)+(n&&void 0!==e.ei[t].oi?` (${e.ei[t].oi})`:"")},"option:"+t)}));return void 0===t?r:Tn("optgroup",{label:t,children:r},"optgroup:"+t)}))]})}),Tn("span",{class:"select-none inline-block pointer-events-none w-0 h-0 overflow-hidden",children:Tn("select",{autocomplete:"off",tabIndex:-1,value:e.Gt,style:{...e.bo,visibility:"hidden"},class:Dt("px-[15px]",e.Ee),ref:n,onChange:t=>{e.Ro(t.currentTarget.value)},children:Tn("option",{value:e.Gt,tabIndex:-1,children:void 0===e.Gt?"":e.ei[e.Gt].Nt??e.Gt})})})]}):Tn("span",{class:"text-red-600",children:"error"})},Eu=(e,t)=>e.columns[t],Cu=(e,t)=>{if(null!==t)return t=t.toLowerCase(),e.columns.find((e=>e.name.toLowerCase()===t))},Tu=(e,t)=>e.columns[t]?.name??null,_u=(e,t)=>{t=t.toLowerCase();const n=e.columns.findIndex((e=>e.name.toLowerCase()===t));return-1===n?null:n};class ku{#m;static ii(){return new ku(null,[])}static li(e){return new ku(e,e.columns.keys())}constructor(e,t){if(null===e){if(0!==[...t].length)throw new Error;this.#m=[]}else{const n=new Set(t),r=_u(e,"__diff_type");null!==r&&n.delete(r);for(const t of[...n])(t<0||t>=e.columns.length)&&(console.warn("Invalid visibleColumn value: "+t),n.delete(t));this.#m=[...n].sort(((e,t)=>e-t))}}ai(e,t){const n=Su(e,t),r=Iu(e,t),o=[];for(let i=n;i<=r;i++)this.#m.includes(i)&&o.push(i);return o}si(e){const t=this.#m.indexOf(e);return-1===t?null:t}ci(e){return this.#m[e]??null}$i(e,t,n){const r=this.si(e);if(null===r)return null;const o=this.ci(r+t);if(null===o&&n){if(t>0)return this.ui();if(t<0)return this.di()}return o}fi(){return 0===this.#m.length?null:0}hi(){return 0===this.#m.length?null:this.#m.length-1}di(){return this.#m[0]??null}ui(){return this.#m.at(-1)??null}pi(e){return this.#m.includes(e)}Ye(e,t){return new ku(e,this.#m.filter(t))}C(e){return this.#m.map(e)}*[Symbol.iterator](){yield*this.#m}*mi(){yield*this.#m.entries()}*bi(){yield*this.#m.keys()}get wi(){return this.#m.length}}const Su=Math.min,Iu=Math.max,Mu=e=>"table"===e,Ru=Mu,Nu=e=>"table"===e||"virtual"===e,Lu=Mu,Ou=Mu,Au=Mu;class Du{#b=[];#w=[];gi(e,t,n={yi:!0}){this.#b.push({Nt:e,yi:n.yi});for(const r of t)this.#w.push(r)}get xi(){return((...e)=>{const t=e.map((e=>"string"==typeof e?{Nt:e,yi:!0}:e)).map((({Nt:e,yi:t})=>({Nt:e.replace(/^\s*WHERE\b\s*/i,""),yi:t}))).filter((({Nt:e})=>!/^\s*$/.test(e)));return 0===t.length?"":1===t.length?` WHERE ${t[0].Nt}`:` WHERE ${t.map((({Nt:e,yi:t})=>t?`(${e})`:e)).join(" AND ")}`})(...this.#b)}get Ei(){return this.#w}}const Fu='class="text-sky-800 hover:text-sky-900 underline"',Uu=e=>e.length>0,Bu=e=>Object.freeze(e),zu=(e,t)=>{const n={...e};for(const[r,o]of Object.entries(t))void 0!==o&&(n[r]=o);return n},Pu=(e,t)=>{window.addEventListener("mousemove",e),window.addEventListener("mouseup",(n=>{window.removeEventListener("mousemove",e),t?.(n)}),{once:!0})},Hu=Bu({}),Vu=Bu({Ci:!1,Gt:"",Ne:!1,Ti:!1,ut:!1,_i:"",ki:""}),ju=({Si:e,Ii:t,Mi:n})=>{const r=new Du;{const{Ci:t,Ne:o,ut:i,Gt:l,Ti:a,_i:s,ki:c}=e;if(t&&l){if(s){const e=new Set(s.split(","));n=n.filter((t=>e.has(t.name)))}if(c){const e=new Set(c.split(","));n=n.filter((t=>!e.has(t.name)))}r.gi(n.map((({name:e})=>`find_widget_compare${i?"_r":""}${a?"_w":""}${o?"_c":""}(${ye(e)}, ?)`)).join(" OR "),n.map((()=>l)))}}for(const{name:o}of n){const e=t[o];if(!e)continue;const{Ne:n,ut:i,Gt:l,Ti:a,Ri:s}=e;l&&(s?r.gi(l,[],{yi:!0}):r.gi(`find_widget_compare${i?"_r":""}${a?"_w":""}${n?"_c":""}(${ye(o)}, ?)`,[l],{yi:!1}))}return{xi:r.xi,Ei:r.Ei}},Gu=(e,t,n,r)=>{r=(e=>{const t=new Set(e),n=[...new Set(e.filter((e=>e instanceof Uint8Array)))];for(let r=0;r<n.length;r++){const e=n[r];if(t.has(e))for(let o=r+1;o<n.length;o++){const r=n[o];t.has(r)&&e.length===r.length&&e.every(((e,t)=>e===r[t]))&&t.delete(r)}}return[...t]})(r);const o="__subquery",i=[`SELECT NULL AS __groupby_value, NULL AS __groupby_count, * FROM ${o} WHERE FALSE`],l=null===n?"ORDER BY __groupby_value ASC":`ORDER BY __groupby_count ${n}, __groupby_value ASC`,a=`__groups AS (SELECT ${ye(t)} AS __groupby_value, COUNT(*) AS __groupby_count, ${qu(e)} FROM ${o} GROUP BY ${ye(t)} ${l})`,s=`__numbered_groups AS (SELECT ROW_NUMBER() OVER (${l}) - 1 AS i, __groupby_value FROM __groups)`,c=`__expanded_groups(__expanded_group_value) AS (${0===r.length?"SELECT 1 WHERE false":`VALUES ${Array(r.length).fill("(?)").join(", ")}`})`,$=[...r],u=`__sorted_expanded_groups AS (SELECT ROW_NUMBER() OVER (${l}) - 1 AS i, __groupby_value FROM __groups INNER JOIN __expanded_groups ON __groupby_value IS __expanded_group_value ${l})`;if(0===r.length)i.push(`SELECT NULL, NULL, * FROM ${o} WHERE FALSE`,"SELECT * FROM __groups");else{const e="(SELECT __groupby_value FROM __sorted_expanded_groups WHERE i IS ?)",n=`(SELECT i FROM __numbered_groups WHERE __groupby_value IS ${e})`;for(const l of r.keys())0===l?(i.push(`SELECT * FROM (SELECT * FROM __groups LIMIT coalesce(${n} + 1, 0))`),$.push(l)):(i.push(`SELECT * FROM (SELECT * FROM __groups LIMIT coalesce(${n} - ${n}, 0) OFFSET coalesce(${n} + 1, 0))`),$.push(l,l-1,l-1)),i.push(`SELECT NULL, NULL, * FROM ${o} WHERE ? < (SELECT num FROM __num_valid_expanded_groups) AND ${ye(t)} IS ${e}`),$.push(l,l);i.push(`SELECT * FROM (SELECT * FROM __groups LIMIT -1 OFFSET coalesce(${n.replace("?","(SELECT num FROM __num_valid_expanded_groups) - 1")}, -1) + 1)`)}return{xi:`WITH ${a}, ${s}, ${c}, ${u}, __num_valid_expanded_groups AS (SELECT COUNT(*) as num FROM __sorted_expanded_groups) ${i.join("\nUNION ALL\n")}`,Ei:$}},qu=e=>{let t=e.columns.filter((e=>1n!==e.hidden)).map((()=>"NULL")).join(", ");return e.hasRowIdColumn&&(""!==t&&(t+=", "),t+="NULL"),t},Wu=(e,t=" ",n=!0)=>{const r=[];if(e.Ni&&e.Li.columns.some((t=>t.name===e.Ni[0]))&&r.push(`${ye(e.Ni[0])} ${e.Ni[1]}`),n){const t=Hr(e.Li,"rowid");null!==t&&r.push(ye(t))}return 0===r.length?"":`${t}ORDER BY ${r.join(", ")}`};var Qu=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var l=i[o];if(!e(t[l],n[l]))return!1}return!0}return t!=t&&n!=n};const Ku=Fl(Qu),Yu=18,Ju=()=>BigInt(Math.ceil(window.innerHeight/Yu)),Xu=Bu({Oi:0n,Ai:{Di:!0,Fi:0n},Ui:Ju()}),Zu=(e,t)=>{const n=zu(e,t);return n.Ui=Me(n.Ui,1n,400n),n.Oi=Me(n.Oi,0n,n.Ai.Fi-1n),Ku(e,n)?e:n},ed=e=>"custom query"===e.type?`(${e.customQuery}\n)`:ye(e.name);var td={},nd={},rd={exports:{}},od=String,id=function(){return{isColorSupported:!1,reset:od,bold:od,dim:od,italic:od,underline:od,inverse:od,hidden:od,strikethrough:od,black:od,red:od,green:od,yellow:od,blue:od,magenta:od,cyan:od,white:od,gray:od,bgBlack:od,bgRed:od,bgGreen:od,bgYellow:od,bgBlue:od,bgMagenta:od,bgCyan:od,bgWhite:od}};rd.exports=id(),rd.exports.createColors=id;var ld=rd.exports;!function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(e,{dim:function(){return l},default:function(){return a}});const n=r(ld);function r(e){return e&&e.__esModule?e:{default:e}}let o=new Set;function i(e,n,r){"undefined"!=typeof process&&t.JEST_WORKER_ID||r&&o.has(r)||(r&&o.add(r),console.warn(""),n.forEach((t=>console.warn(e,"-",t))))}function l(e){return n.default.dim(e)}const a={info(e,t){i(n.default.bold(n.default.cyan("info")),...Array.isArray(e)?[e]:[t,e])},warn(e,t){i(n.default.bold(n.default.yellow("warn")),...Array.isArray(e)?[e]:[t,e])},risk(e,t){i(n.default.bold(n.default.magenta("risk")),...Array.isArray(e)?[e]:[t,e])}}}(nd),function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});const t=n(nd);function n(e){return e&&e.__esModule?e:{default:e}}function r({version:e,from:n,to:r}){t.default.warn(`${n}-color-renamed`,[`As of Tailwind CSS ${e}, \`${n}\` has been renamed to \`${r}\`.`,"Update your configuration file to silence this warning."])}const o={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return r({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return r({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return r({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return r({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return r({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}}(td);const ad=Fl((td.__esModule?td:{default:td}).default),sd=Bu({Bi:Fe.ee,zi:!1,Pi:"",Hi:"",Vi:!1,ji:[]}),cd=Bu({type:"no table selected",customQuery:null,name:null,columns:[],indexes:[],triggers:[],schema:null,strict:!1}),$d=()=>document.body.matches("body.dark, body.vscode-dark, body.vscode-high-contrast:not(.vscode-high-contrast-light)");var ud=(e=>(e[e.Gi=1],e[e.qi=2],e[e.Wi=3],e[e.Qi=4],e))(ud||{});const dd=await wa[16](),fd=Bu({Ki:Xu,Yi:!1,Ji:"SELECT 1",Xi:Vu,Zi:Hu,el:null,_orderBy:null,tl:!0,nl:{P:null,rl:null},ol:[]}),hd=e=>e.Yi?{type:"custom query",name:null,customQuery:e.Ji,Ni:e._orderBy,Si:e.Xi,Ii:e.Zi,il:e.tl,ll:e.nl}:null===e.el?{type:"no table selected",name:null,customQuery:null}:{type:"table-like",name:e.el,customQuery:null,Ni:e._orderBy,Si:e.Xi,Ii:e.Zi,il:e.tl,ll:e.nl},pd=e=>{const t=hd(e);switch(t.type){case"no table selected":return t;case"table-like":case"custom query":return{...t,al:e.Ki,sl:e.ol}}},md=Ol(0,{cl:1,$l:{Ci:!1},ul:[],dl:[],fl:new Map,hl:[],bl:new Set,wl:[],...fd,vl:{gl:null,Li:cd,yl:{},Ai:0,xl:null,al:Xu,Ni:null,Si:Vu,Ii:Hu,ll:{P:null,rl:null},sl:[]},El:new Map,autoReload:!0,Cl:ku.ii(),Tl:null,_l:null,kl:sd,Sl:{Il:()=>{throw new Error("uninitialized")},Ml:()=>{throw new Error("uninitialized")},Rl:()=>{throw new Error("uninitialized")}},Nl:[],Ll:"bottom",Ol:dd,Al:new Map([[!1,gu(dd.conditionalFormatting,!1,ad)],[!0,gu(dd.conditionalFormatting,!0,ad)]]),Dl:$d(),maxTextWrap:1,isSchemaPaneOpen:!1,isPreviewEnabled:{},columnWidths:{},Fl:null,Ul:window.editorVariables[12].ok?{Bl:!0,Gt:new bu(window.editorVariables[12].content),zl:window.editorVariables[12].resolvedUriText}:{Bl:!1,qe:window.editorVariables[12].error},Pl:!1,notes:[],isQueryPlanHelpClosed:!1,Hl:null},{zt:"w:mainStore",Ft:["autoReload","_orderBy","maxTextWrap","isSchemaPaneOpen","isPreviewEnabled","columnWidths","notes","isQueryPlanHelpClosed"],Bt:ka()}),bd=new ke,wd=md.Dt,vd=e=>{switch(e){case"table":return 0;case"view":return 1;case"virtual":return 2;case"local temporary":default:return 3;case"shadow":return 4}},gd=[],yd={ul:e=>{const t=new Map;for(const[o,i]of e.views)t.set(o.toLowerCase(),i);if(Ku(e.table_list,kd().ul)&&Ku(e.entity_relationships,kd().dl)&&Ku(t,kd().fl))return!1;const n=new Set,r=[];{const o=new Set,i=e=>{const t=JSON.stringify(e);o.has(t)||(o.add(t),r.push(e))},l=new Set(e.table_list.filter((e=>"main"===e.database.toLowerCase()&&"view"===e.type)).map((e=>e.name.toLowerCase())));for(const t of e.entity_relationships)l.has(t.source.toLowerCase())||(n.add(t.source),n.add(t.target),i({Vl:t.source,P:t.source_column,jl:t.target}));const a=new Map(e.table_list.filter((e=>"main"===e.database.toLowerCase())).map((e=>[e.name.toLowerCase(),e.name])));for(const r of e.table_list.filter((e=>"main"===e.database.toLowerCase()&&"view"===e.type))){const e=t.get(r.name.toLowerCase());if(void 0!==e)for(const t of he(e)){if("main"!==t.R)continue;const e=a.get(t.N.toLowerCase());void 0!==e&&(n.add(r.name),n.add(e),i({Vl:r.name,P:null,jl:e}))}}for(const[t,r]of e.virtual_tables){const e=fe("ExtractFTS5ContentOptionValue",r);if(null===e)continue;const o=a.get(e.toLowerCase());void 0!==o&&(n.add(t),n.add(o),i({Vl:t,P:null,jl:o}))}}return wd({ul:e.table_list,dl:e.entity_relationships,fl:t,hl:r,bl:n,wl:yu(Object.fromEntries(e.table_list.map((({name:e,type:t})=>[e,{Zo:t}])).sort(((e,t)=>e[0].localeCompare(t[0])))),vd)}),wa[14](e.table_list.map((e=>({label:e.name,description:e.type})))).catch($a),!0},kl:e=>{wd({kl:e})},Gl:(e,t)=>{const{kl:n}=_d();n.Bi!==e&&console.error(`unexpected state: expected ${e} but got ${n.Bi}`),wd({kl:{...n,...t}})},Cl:e=>{wd({Cl:e})},Sl:e=>{wd({Sl:zu(_d().Sl,e)})},vl:(e,t,n)=>{const{yl:r}=kd().vl;e<0||e>=Gr(r)||!Object.hasOwn(r,t)||wd({vl:H(_d().vl,(r=>{r.yl[t][e]=n}))})},ql:e=>{wd({vl:H(_d().vl,(t=>{t.Li.schema=e}))})},Ll:e=>{_d().Ll!==e&&wd({Ll:e})},Wl:{al:async e=>{const t=_d(),n=Zu(t.Ki,e);return Ku(t.Ki,n)?_e.Canceled:(wd({Ki:n}),await Cd(!1,!1))},xi:async e=>{const t={Yi:_d().Yi,Ji:_d().Ji,el:_d().el},n={...t};if(n.Yi="custom query"===e.type,void 0!==e.customQuery&&(n.Ji=e.customQuery),void 0!==e.name&&(n.el=e.name),null!==n.el){const e=n.el;_d().ul.every((t=>t.name!==e))&&(n.el=null,n.Ji=`SELECT * FROM ${ye(e)}`,n.Yi=!0)}if(Ku(t,n))return;const r=t.Yi!==n.Yi||(n.Yi?n.Ji!==t.Ji:null!==n.el&&n.el!==t.el);if(r&&null!==n.el){const e=await wa[40](n.Yi,n.Yi?n.Ji:n.el);if(null!==e){if(wd({Yi:"custom query"===e.type,..."custom query"===e.type?{Ji:e.customQuery}:{el:e.name},ol:e.sl,Xi:e.Si,Zi:e.Ii,nl:e.ll,tl:e.il,_orderBy:e.Ni,Ki:e.al}),await Ta("tableName",_d().el??"",!1),await Cd(!0,!0)===_e.Canceled)return;return void(await _d().Sl.Rl())}}wd({Yi:n.Yi,Ji:n.Ji,el:n.el,nl:{..._d().nl,P:null},ol:[]}),await Ta("tableName",_d().el??"",!1),await Cd(!0,!0)!==_e.Canceled&&r&&await _d().Sl.Rl()},Ql:async e=>{const t=_d().Nl[e];t&&("table-like"===t.Kl?await yd.Wl.xi({type:t.Kl,name:t.S}):await yd.Wl.xi({type:t.Kl,customQuery:t.Yl}))},Ni:async e=>{if((await _d().Sl.Il(!1)).Jl)return;await _d().Sl.Ml(!1);const{_orderBy:t}=_d();return Ku(t,e)?void 0:(wd({_orderBy:e}),await Cd(!1,!1))},Si:async e=>{const t=_d().Xi,n=zu(t,e);Ku(t,n)||(wd({Xi:n}),await Cd(!1,!0))},Xl:async(e,t,n=!1)=>{const r=_d().Zi;void 0===t?.Ri||r[e]?.Ri===t.Ri||n||(t=t.Ri?{...t,Gt:"",Zl:ye(e,!1)+" >= 0"}:{...t,Gt:"",Zl:""});const o=H(r,(n=>{null===t?delete n[e]:n[e]?(void 0!==t.Gt&&(n[e].Gt=t.Gt),void 0!==t.Ne&&(n[e].Ne=t.Ne),void 0!==t.ut&&(n[e].ut=t.ut),void 0!==t.Ti&&(n[e].Ti=t.Ti),void 0!==t.Ri&&(n[e].Ri=t.Ri),void 0!==t.Zl&&(n[e].Zl=t.Zl)):n[e]=zu({Gt:"",Zl:"",Ne:!1,ut:!1,Ti:!1,Ri:!1},t)}));Ku(r,o)||(wd({Zi:o}),Ku(Object.entries(r).map((([e,t])=>[e,{...t,Zl:""}])),Object.entries(o).map((([e,t])=>[e,{...t,Zl:""}])))||await Cd(!1,!0))},il:async e=>{_d().tl!==e&&(wd({tl:e}),await Cd(!1,!0))},ll:async(e,t=_d().nl.rl)=>{const n={P:e,rl:t};(await _d().Sl.Il(!1)).Jl||(await _d().Sl.Ml(!1),Ku(_d().nl,n)||(wd({nl:n,ol:[]}),await Cd(!1,!0)))},sl:async e=>{wd({ol:0===e.length?[]:Sa((await pa(`SELECT DISTINCT column1 FROM (VALUES ${e.map((()=>"(?)")).join(", ")})`,e,"read_only",Oe)).records.column1,[])}),await Cd(!1,!0)}},ea:()=>{const{Nl:e,vl:{Li:t}}=_d();let n;switch(t.type){case"no table selected":return;case"custom query":n={Kl:"custom query",Yl:t.customQuery};break;default:n={Kl:"table-like",S:t.name}}e.some((e=>"custom query"===n.Kl?"custom query"===e.Kl&&e.Yl===n.Yl:"table-like"===e.Kl&&e.S===n.S))||wd({Nl:[...e,n]})},ta:async e=>{wd({autoReload:e}),e&&await Td()},na:e=>{wd({Nl:_d().Nl.filter(((t,n)=>n!==e))})},cl:e=>{wd({cl:e})},$l:e=>{wd({$l:e})},_l:e=>{wd({_l:e})},ra:()=>{wd({Tl:null})},oa:e=>{wd({maxTextWrap:e})},ia:e=>{wd({isSchemaPaneOpen:e})},la:(e,t,n)=>{wd({isPreviewEnabled:H(_d().isPreviewEnabled,(r=>{r[xd(e,t)]=n}))})},aa:(e,t,n,r,o=kd().vl.Li.name??"")=>{if(wd({columnWidths:H(_d().columnWidths,(e=>{Array.isArray(e[o])||(e[o]=[]),e[o][t]=n}))}),r&&o===(kd().vl.Li.name??"")){const n=_d().columnWidths[o],i=r.querySelector(`[data-column='${e}']`);i&&(i.style.width=n[t]+"px");for(const o of r.querySelectorAll(`[data-td-in-column='${e}']`))o.style.maxWidth=n[t]+"px"}},Fl:e=>{wd({Fl:e})},El:e=>{wd({El:e})},sa:e=>{void 0!==e&&wd({Ul:e.ok?{Bl:!0,Gt:new bu(e.content),zl:e.resolvedUriText}:{Bl:!1,qe:e.error}}),ma("aea4603c-e9f7-42b4-8787-bdd8023eccb4",20,(e=>{if(e.ok){if(gd.includes(e.content))return;const t=_d().Ul;t.Bl&&t.Gt.Wo()===e.content||wd({Ul:{Bl:!0,Gt:new bu(e.content),zl:e.resolvedUriText}})}else wd({Ul:{Bl:!1,qe:e.error}})}))},ca:(e,t)=>{const{Ul:n}=_d();if(!n.Bl)return;const r=n.Gt.qo();r.Ko(e,t);const o=r.Wo();wa[35](o).catch($a),gd.push(o),setTimeout((()=>{const e=gd.indexOf(o);-1!==e&&gd.splice(e,1)}),2e3),wd({Ul:{Bl:!0,Gt:r,zl:n.zl}})},$a:(e=!0)=>{wd({Pl:e})},ua:(e,t)=>{const n=new Map(_d().notes);""===t?n.delete(e):n.set(e,t),wd({notes:[...n]})},da:e=>{wd({isQueryPlanHelpClosed:e})},fa:()=>{wd({Hl:null})},ha:e=>{wd({Hl:{Gt:e}})}},xd=(e,t)=>`${e??""}-${t}`;ma("a886d475-e52c-4ce0-a920-925cd1b4cf22",14,(async()=>{const e=await wa[16]();wd({Ol:e,Al:new Map([[!1,gu(e.conditionalFormatting,!1,ad)],[!0,gu(e.conditionalFormatting,!0,ad)]])})}));const Ed=async(e,t)=>{const n=kd().ul.find((t=>t.name===e));if(void 0===n)return null;if("custom query"===n.type)return null;const r=await pa("SELECT sql FROM sqlite_schema WHERE name = ? COLLATE NOCASE",[e],"read_only",Oe);return r.records.sql&&0!==r.records.sql.length&&"string"==typeof r.records.sql[0]?{type:"broken schema",realType:n.type,error:ee(t),name:e,customQuery:null,schema:r.records.sql[0],strict:!1,columns:[],indexes:[],triggers:[]}:null},Cd=async(e,t)=>await bd.j({G:()=>{},j:async()=>{try{const n={fetchedData:_d().vl},r=kd.Wl(),o={Ai:0,al:n.fetchedData.al,yl:{},xl:null,gl:null,Si:Vu,Ii:Hu,Ni:null,ll:{..._d().nl,P:null},sl:[]};if("no table selected"===r.type)return wd({vl:{...o,Li:cd}}),void _a({type:r.type}).catch($a);const i=ed(r);let l;if(e)if("table-like"===r.type){let e;try{e=await va("table_schema",["main",r.name],Oe,{rn:!1})}catch(HE){const t=await Ed(r.name,HE);if(null===t)throw ca.Pt().Te(HE),HE;return wd({vl:{...o,Li:t}}),void _a({type:t.type}).catch($a)}if(null===e)return console.error(`Table ${r.name} does not exist.`),wd({vl:{...o,Li:cd}}),void _a({type:cd.type}).catch($a);l=e}else l=await va("query_schema",[r.customQuery]);else l=_d().vl.Li;if("no table selected"===l.type||"broken schema"===l.type)return wd({vl:{...o,Li:l}}),void _a({type:l.type}).catch($a);const a=ju({Si:r.Si,Ii:r.Ii,Mi:l.columns});if(t){const e=r.il&&kd().Ol.recordCountingLimit>=0?BigInt(kd().Ol.recordCountingLimit):null;if(null===r.ll.P){const t=null===e?await pa(`SELECT COUNT(*) as count FROM ${i}${a.xi}`,a.Ei,"read_only",Oe,{rn:!1}):await pa(`SELECT COUNT(*) as count FROM (SELECT * FROM ${i}${a.xi} LIMIT ?)`,[...a.Ei,e],"read_only",Oe,{rn:!1});console.log(`SELECT COUNT: ${1e3*t.time} ms`);const n=t.records.count[0];if("bigint"!=typeof n)throw new Error(n+"");r.al=Zu(r.al,{Ai:{Di:null===e||n!==e,Fi:n}}),wd({Ki:r.al})}else{const t=Gu(l,r.ll.P,r.ll.rl,r.sl),n=(null===e?await pa(`WITH __subquery AS (SELECT ${Vr(l,"rowid as rowid, ")}* FROM ${i}${a.xi}) SELECT COUNT(*) as count FROM (${t.xi})`,[...a.Ei,...t.Ei],"read_only",Oe):await pa(`WITH __subquery AS (SELECT ${Vr(l,"rowid as rowid, ")}* FROM ${i}${a.xi}) SELECT COUNT(*) as count FROM (${t.xi}) LIMIT ?`,[...a.Ei,...t.Ei,e],"read_only",Oe)).records.count[0];if("bigint"!=typeof n)throw new Error(n+"");r.al=Zu(r.al,{Ai:{Di:null===e||n!==e,Fi:n}}),wd({Ki:r.al})}}const s=Wu({Ni:r.Ni,Li:l});let c,$;if(null===r.ll.P)({records:c,time:$}=await pa(`SELECT ${Vr(l,"rowid as rowid, ")}* FROM ${i}${a.xi}${s} LIMIT ? OFFSET ?`,[...a.Ei,Ie([r.al.Ui,r.al.Ai.Fi-r.al.Oi]),r.al.Oi],"read_only",Oe,{rn:!1}));else{const e=Gu(l,r.ll.P,r.ll.rl,r.sl);({records:c,time:$}=await pa(`WITH __subquery AS (SELECT ${Vr(l,"rowid as rowid, ")}* FROM ${i}${a.xi}${s})\nSELECT * FROM (${e.xi}) LIMIT ? OFFSET ?`,[...a.Ei,...e.Ei,r.al.Ui,r.al.Oi],"read_only",Oe,{rn:!1}))}console.log(`SELECT LIMIT: ${1e3*$} ms`);let u=null;{const e=Hr(l,"rowid");if(e){const{records:t,time:n}=await pa(`SELECT * FROM ${i} ORDER BY ${e} DESC LIMIT ? OFFSET ?`,[10,0],"read_only",Oe);for(const e of Object.keys(t))t[e].reverse();u=t,console.log(`SELECT tail: ${n} ms`)}}let d=null;if($>.5&&Ru(l.type)&&""===a.xi&&null!==r.Ni){const e=r.Ni[0];l.columns.some((t=>t.name===e))&&!l.indexes.some((t=>t.columns.some((t=>t.name===e))))&&(d=`orderBy:${je('Slow ORDER BY clause ({{time}} ms): Consider creating an index on column {{column}} by right-clicking on the column header then "Create Index…".',{time:Math.floor(1e3*$),orderByClause:s,column:e})}`)}wd({Tl:d}),_a(null===l.name?{type:"query",rows:Number(r.al.Ai.Fi),cols:l.columns.length}:{type:"table",name:l.name,rows:Number(r.al.Ai.Fi),cols:l.columns.length}).catch($a),wa[39]("custom query"===r.type,"custom query"===r.type?r.customQuery:r.name,r).catch($a),wd(e?{vl:{gl:null,Li:l,al:r.al,yl:c,Ai:Gr(c),xl:u,Si:r.Si,Ii:r.Ii,Ni:r.Ni,ll:r.ll,sl:r.sl},Cl:ku.li(l)}:{vl:{gl:null,Li:n.fetchedData.Li,al:r.al,yl:c,Ai:Gr(c),xl:u,Si:r.Si,Ii:r.Ii,Ni:r.Ni,ll:r.ll,sl:r.sl}})}catch(HE){throw wd({vl:{gl:"object"==typeof HE&&null!==HE&&"message"in HE&&"string"==typeof HE.message?HE.message:ee(HE),Ai:0,Ni:null,al:Xu,yl:{},xl:null,Li:cd,Si:Vu,Ii:Hu,ll:{..._d().nl,P:null},sl:[]}}),_a({type:cd.type}).catch($a),HE}}}),Td=async e=>{const t=_d();if(yd.ul(await va("list_tables",[]))){let n=e??t.el;const{ul:r}=kd();r.some((e=>e.name===n))||(n=0===r.length?null:r[0].name),wd({El:new Map}),n!==t.el?await yd.Wl.xi({name:n}):await Cd(!0,!0)}else wd({El:H(_d().El,(e=>{const{name:t}=_d().vl.Li;null!==t&&e.delete(t);const n=kd.Wl();"table-like"===n.type&&e.delete(n.name)}))}),await Cd(!0,!0)},_d=md.Pt,kd=Object.assign(_d,{Wl:(e=_d())=>pd(e),pa:(e=_d())=>e.Yi?e.Xi:null===e.el?null:e.Xi}),Sd=Object.assign(md,{ma:()=>md((e=>hd(e)),Ml),ba:()=>md((e=>pd(e)),Ml),wa:()=>md((e=>{const t=e.vl.Li.name;if(null===t)return null;const{zl:n}=e.Ul;if(!e.Ul.Bl)return{Bl:!1,qe:e.Ul.qe};const r=e.Ul.Gt.Qo(t)??"";return""!==r||e.Pl?{Bl:!0,va:r,ga:t,zl:n}:null}),Ml)}),Id=md.Ht,Md=()=>{const e=Sd((e=>e.Ol.spacing));return{paddingTop:.15*(e-1)+"rem",paddingBottom:.15*(e-1)+"rem"}},Rd=()=>{const e=Sd((e=>e.Ol.spacing));return{paddingTop:.1*(e-1)+"rem",paddingBottom:.1*(e-1)+"rem"}};let Nd=null;const Ld=()=>{const e=es.Pt();if(null===e)return 0n;const t=e.offsetHeight-e.clientHeight-e.clientTop,n=e.getBoundingClientRect().bottom-t,r=document.querySelectorAll(`#${es.$n} > table > tbody > tr`);if(null!==Nd&&Nd.containerBottom===n&&r[Nd.i]&&r[Nd.i].getBoundingClientRect().top===Nd.borderTrTop)return BigInt(Nd.i);for(const[o,i]of r.entries()){const{bottom:e,top:t}=i.getBoundingClientRect();if(n<e)return Nd={i:o,borderTrTop:t,containerBottom:n},BigInt(o)}return Nd=null,0n},Od=new Map;Id(((e,t)=>{e.vl!==t.vl&&Od.clear()}));const Ad=async(e,t,n,r,o={rn:!0})=>{const i=JSON.stringify(e)+JSON.stringify(r)+t.map((e=>ge(e))).join(" "),l=Od.get(i);if(void 0!==l)return console.log(`cache hit: ${i}`),l;const a=await pa(e,t,n,r,o);{const e={...a};e.time=0,Od.set(i,e)}return a},Dd=e=>Tn(q$,{yo:!0,po:je("Cancel")+Ds.fo(Os.Cn),Ee:Dt("mb-2 ml-2",e.Ee),Ce:()=>{Ud().catch($a)},xo:e=>{iu(e,Tn(Fd,{}))},"data-testid":void 0,children:Tn(Br,{St:Ur.Ve})}),Fd=()=>Tn(Zt,{children:Tn(cu,{St:Ur.Ve,Nt:je("Cancel"),Vo:Ds.do(Os.Cn),Ce:()=>{Ud().catch($a)}})}),Ud=async(e=kd().Ol.minimizePanel)=>{"no table selected"===kd().vl.Li.type?pg[Fe.ee].ya():e?pg[Fe.de].ya():await pg[Fe.le].ya()},Bd=e=>{const t=e.xa??!1,n=e.Ea??!1,[r,o]=Ri(!1),[i,l]=Ri(!1),[a,s]=Ri(!1),c={mo:!0,oi:je("AUTOINCREMENT requires INTEGER.")};return Tn("code",{children:[Tn("input",{id:e.Ca,placeholder:"column-name",class:"mr-[8px] column-def-input",value:e.Gt.S,onInput:t=>{e.Ro({...e.Gt,S:t.currentTarget.value})},"data-testid":void 0,autocomplete:"off"}),!t&&Tn(Zt,{children:[Tn(xu,{Ee:"mr-[8px]",Gt:e.Gt.L,Ro:t=>{e.Ro({...e.Gt,L:t})},ei:{TEXT:e.Gt.A?c:{},INTEGER:{},REAL:e.Gt.A?c:{},BLOB:e.Gt.A?c:{},ANY:e.Gt.A?c:{mo:!e.zi,oi:je("STRICT tables only.")},NUMERIC:e.Gt.A?c:{mo:e.zi,oi:je("non-STRICT tables only.")}},"data-testid":void 0}),Tn(Y$,{Co:e.Gt.D,Ro:t=>{e.Ro({...e.Gt,D:t})},Nt:"UNIQUE"}),Tn(Y$,{Co:e.Gt.F,Ro:t=>{e.Ro({...e.Gt,F:t})},Nt:"NOT NULL"}),!r&&Tn(q$,{yo:!0,Ce:()=>{o(!0)},children:"PRIMARY KEY…"}),r&&Tn("span",{class:"border rounded-sm py-1 px-1 ml-1",children:[Tn(Y$,{Co:e.Gt.O,Ro:t=>{e.Ro({...e.Gt,O:t,A:!1})},Nt:"PRIMARY KEY"}),Tn(Y$,{Co:e.Gt.A,Ro:t=>{t?e.Ro({...e.Gt,O:!0,A:t,L:"INTEGER"}):e.Ro({...e.Gt,A:t})},Nt:"AUTOINCREMENT"})]}),!i&&Tn(q$,{Ee:"ml-1",yo:!0,Ce:()=>{l(!0)},children:"DEFAULT…"}),i&&Tn("span",{class:"border rounded-sm py-1 px-1 ml-1 whitespace-nowrap",children:[Tn("label",{class:Dt("mr-[8px]",!e.Gt.U&&"opacity-40"),children:"DEFAULT"}),Tn("input",{id:Va.$n,placeholder:n?"'no data'":"CURRENT_TIMESTAMP",value:e.Gt.U,onChange:t=>{e.Ro({...e.Gt,U:t.currentTarget.value})}})]}),!a&&Tn(q$,{yo:!0,Ee:"ml-1",Ce:()=>{s(!0)},children:"REFERENCES…"}),a&&Tn("span",{class:"border rounded-sm py-1 px-1 ml-1",children:[Tn("label",{class:Dt("mr-[8px]",(""===e.Gt.B.N||""===e.Gt.B.P)&&"opacity-40"),children:"REFERENCES"}),Tn(Pd,{Gt:e.Gt.B,Ro:t=>{e.Ro({...e.Gt,B:t})}}),Tn("div",{class:"inline-block hover:bg-slate-400 hover:bg-opacity-30 rounded-sm px-1 cursor-pointer ml-1",onClick:()=>{e.Ro({...e.Gt,B:{N:"",P:""}}),s(!1)},children:Tn(Br,{St:Ur.De})})]})]})]})},zd=e=>{const t=[...e.Gt];for(;""===t.at(-1)?.S;)t.pop();return 0!==t.length&&""===t.at(-1).S||t.push({S:"",L:"TEXT",A:!1,F:!1,O:!1,D:!1,U:"",B:{N:"",P:""}}),Tn("ul",{class:"list-none",children:t.map(((n,r)=>{const o=0!==r&&t.length>=3,i=r!==t.length-2&&t.length>=3;return Tn("li",{class:"column-list-item",onKeyDownCapture:e=>{if(!e.isComposing&&!(e.ctrlKey||e.metaKey||e.altKey)){if("ArrowDown"===e.code||"Enter"===e.code&&!e.shiftKey){if(e.stopPropagation(),e.preventDefault(),!(e.currentTarget.nextSibling instanceof HTMLElement))return;e.currentTarget.nextSibling.querySelector("input.column-def-input")?.focus()}if("ArrowUp"===e.code||"Enter"===e.code&&e.shiftKey){if(e.stopPropagation(),e.preventDefault(),!(e.currentTarget.previousSibling instanceof HTMLElement))return;e.currentTarget.previousSibling.querySelector("input.column-def-input")?.focus()}}},"data-testid":void 0,children:[void 0!==e.Ta&&Tn("div",{class:"inline-block w-4 relative",children:[Tn(Br,{St:Ur.Tt,Ee:Dt("column-list-item-triangle absolute left-[-2px] top-[-14px] [font-size:90%]",o?"cursor-pointer opacity-40 hover:opacity-100":"opacity-10"),Ce:o?()=>{e.Ro(H(t,(e=>{for([e[r-1],e[r]]=[e[r],e[r-1]];""===e.at(-1)?.S;)e.pop()})))}:void 0}),Tn(Br,{St:Ur.Ct,Ee:Dt("column-list-item-triangle absolute left-[-2px] top-[-4px] [font-size:90%]",i?"cursor-pointer opacity-40 hover:opacity-100":"opacity-10"),Ce:i?()=>{e.Ro(H(t,(e=>{for([e[r],e[r+1]]=[e[r+1],e[r]];""===e.at(-1)?.S;)e.pop()})))}:void 0})]}),Tn(Bd,{xa:r===t.length-1&&""===n.S,Gt:n,Ro:n=>{e.Ro(H(t,(e=>{for(e[r]=n;""===e.at(-1)?.S;)e.pop()})))},zi:e.zi})]},r)}))})},Pd=e=>{const t=Sd((e=>e.ul)),[n,r]=Ri({N:"",_a:[]});let o;return Li((()=>{""!==e.Gt.N&&t.some((t=>"main"===t.database&&"table"===t.type&&t.name===e.Gt.N))&&va("table_schema",["main",e.Gt.N]).then((t=>{if(null===t)throw new Error(`Table ${e.Gt.N} does not exist.`);const{columns:n,indexes:o}=t,i=new Set;for(const e of o)if(0n!==e.unique&&1===e.columns.length){const t=e.columns[0]?.name??null;if(null===t)continue;i.add(t)}r({N:e.Gt.N,_a:n.filter((e=>e.pk||i.has(e.name))).map((e=>e.name))})})).catch($a)}),[e.Gt.N,t]),o=""===n.N||n.N!==e.Gt.N?"...":n._a.length>0?Tn("select",{value:e.Gt.P,onChange:t=>{e.Ro({N:e.Gt.N,P:t.currentTarget.value})},children:[Tn("option",{value:"",disabled:!0,selected:!0,class:"hidden",children:"column name"}),n._a.map((e=>Tn("option",{children:e})))]}):Tn("span",{class:"text-red-700",children:je("Table {{ table }} does not have any columns defined with a PRIMARY or UNIQUE constraint.",{table:e.Gt.N})}),Tn(Zt,{children:[Tn("select",{value:e.Gt.N,onChange:t=>{t.currentTarget.value!==e.Gt.N&&e.Ro({N:t.currentTarget.value,P:""})},children:[Tn("option",{value:"",disabled:!0,selected:!0,class:"hidden",children:"table name"}),t.filter((e=>"main"===e.database&&"table"===e.type)).map((e=>Tn("option",{children:e.name})))]}),"(",o,")"]})},Hd=e=>{const t=Vd(e.ka,void 0),n=e.ka.map((e=>e.q[0])).join("; ");return Tn(Zt,{children:[Tn(cu,{Ce:()=>ga(t),St:Ur.Be,Nt:je("Copy Query and Parameters"),"data-testid":void 0}),Tn(cu,{Ce:()=>ga(n),St:Ur.Be,Nt:je("Copy Query"),"data-testid":void 0}),Tn(cu,{Ce:()=>pg[Fe.ie].ya(ie(n)),St:Ur.Ue,Nt:je("Open in Query Editor"),"data-testid":void 0})]})},Vd=(e,t)=>e.map((e=>e.q[0]+", ("+e.q[1].map((e=>ge(e,t))).join(", ")+")")).join("; "),jd=(e,...t)=>`command:${encodeURIComponent(e)}?${encodeURIComponent(JSON.stringify(t))}`;class Gd extends Error{}class qd extends Gd{constructor(){super("unexpected end of buffer")}}const Wd=e=>{try{return new TextDecoder(void 0,{fatal:!0}).decode(e)}catch(HE){if(HE instanceof TypeError)throw new Gd(`Invalid UTF-8 string: ${new TextDecoder(void 0,{fatal:!1}).decode(e)}`);throw HE}},Qd=(e,t)=>{const[n,r]=(e=>{if(e.length<=0)throw new qd;const t=e[0]>>4;switch(t){case 12:if(e.length<=2)throw new qd;return[2,new DataView(e.buffer,e.byteOffset+1).getUint8(0)];case 13:if(e.length<=3)throw new qd;return[3,new DataView(e.buffer,e.byteOffset+1).getUint16(0)];case 14:if(e.length<=5)throw new qd;return[5,new DataView(e.buffer,e.byteOffset+1).getUint32(0)];case 15:{if(e.length<=9)throw new qd;const t=new DataView(e.buffer,e.byteOffset+1).getBigUint64(0);if(t>Number.MAX_SAFE_INTEGER)throw new Gd(`too large payload size: ${t} bytes`);return[9,Number(t)]}default:return[1,t]}})(e);if(t){if(e.length!==n+r)throw new Gd("buffer size mismatch")}else if(e.length<n+r)throw new qd;let o=new Uint8Array(e.buffer,e.byteOffset+n,r);const i=new Uint8Array(e.buffer,e.byteOffset+(n+r),e.length-(n+r));switch(15&e[0]){case 0:return["null",i];case 1:return["true",i];case 2:return["false",i];case 3:case 4:case 5:case 6:return[Wd(o),i];case 7:case 8:case 9:return[`"${Wd(o)}"`,i];case 10:return[JSON.stringify(Wd(o)),i];case 11:{if(0===o.length)return["[]",i];let e="[";const[t,n]=Qd(o,!1);for(e+=t,o=n;o.length>0;){const[t,n]=Qd(o,!1);e+=", "+t,o=n}return[e+"]",i]}case 12:if(0===o.length)return["{}",i];let e="{";{const[t,n]=Qd(o,!1);e+=t,o=n}{const[t,n]=Qd(o,!1);e+=": "+t,o=n}for(;o.length>0;){{const[t,n]=Qd(o,!1);e+=", "+t,o=n}{const[t,n]=Qd(o,!1);e+=": "+t,o=n}}return[e+"}",i];case 13:throw new Gd("Unimplemented element type: reserved-13");case 14:throw new Gd("Unimplemented element type: reserved-14");default:throw new Gd("Unimplemented element type: reserved-15")}},Kd=new WeakMap,Yd=e=>{const t=Kd.get(e);if("string"==typeof t)return t;if(t instanceof Gd)throw t;try{const t=Qd(e,!0)[0];return Kd.set(e,t),t}catch(HE){let n;throw n=HE instanceof Gd?HE:new Gd(void 0,{cause:HE}),Kd.set(e,n),n}},Jd=Symbol("Canceled");function Xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zd(Object(n),!0).forEach((function(t){Xd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(n),!0).forEach((function(t){nf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lf(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}function af(e){return{}.toString.call(e).includes("Object")}function sf(e){return"function"==typeof e}var cf=lf((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),$f=function(e,t){return af(t)||cf("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&cf("changeField"),t};function uf(e,t){return sf(t)?t(e.current):t}function df(e,t){return e.current=of(of({},e.current),t),t}function ff(e,t,n){return sf(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var hf,pf={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},mf=(hf=function(e,t){throw new Error(e[t]||e.default)},function e(){for(var t=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.length>=hf.length?hf.apply(this,r):function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e.apply(t,[].concat(r,o))}})(pf);function bf(e,t){return Object.keys(t).forEach((function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],bf(e[n],t[n]))})),ef(ef({},e),t)}var wf={type:"cancelation",msg:"operation is manually canceled"};function vf(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(wf):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n}var gf,yf=function(e){if(Array.isArray(e))return e}(gf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e){var t;e||cf("initialIsRequired"),af(e)||cf("initialType"),t=e,Object.keys(t).length||cf("initialContent")})(e),function(e){sf(e)||af(e)||cf("handlerType"),af(e)&&Object.values(e).some((function(e){return!sf(e)}))&&cf("handlersType")}(t);var n={current:e},r=lf(ff)(n,t),o=lf(df)(n),i=lf($f)(e),l=lf(uf)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(e){sf(e)||cf("selectorType")}(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(r,o,i,l)(e)}]}({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),2!==n.length);r=!0);}catch(HE){o=!0,i=HE}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(gf)||function(e,t){if(e){if("string"==typeof e)return tf(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tf(e,2):void 0}}(gf)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),xf=yf[0],Ef=yf[1];function Cf(e){return document.body.appendChild(e)}function Tf(e){var t=xf((function(e){return{config:e.config,reject:e.reject}})),n=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function _f(){var e=xf((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){kf(t),e.resolve(t)}),(function(t){e.reject(t)}))}function kf(e){xf().monaco||Ef({monaco:e})}var Sf=new Promise((function(e,t){return Ef({resolve:e,reject:t})})),If=function(){var e=xf((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(Ef({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),vf(Sf);if(window.monaco&&window.monaco.editor)return kf(window.monaco),e.resolve(window.monaco),vf(Sf);!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(Cf,Tf)(_f)}return vf(Sf)},Mf={display:"flex",position:"relative",textAlign:"initial"},Rf={width:"100%"},Nf={display:"none"},Lf={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Of=function({children:e}){return Il.createElement("div",{style:Lf.container},e)},Af=Ki((function({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:l}){return Il.createElement("section",{style:{...Mf,width:e,height:t},...l},!n&&Il.createElement(Of,null,r),Il.createElement("div",{ref:o,style:{...Rf,...!n&&Nf},className:i}))})),Df=function(e){Li(e,[])},Ff=function(e,t,n=!0){let r=Ai(!0);Li(r.current||!n?()=>{r.current=!1}:e,t)};function Uf(){}function Bf(e,t,n,r){return function(e,t){return e.editor.getModel(zf(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?zf(e,r):void 0)}(e,t,n,r)}function zf(e,t){return e.Uri.parse(t)}Ki((function({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:l,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:s=!1,theme:c="light",loading:$="Loading...",options:u={},height:d="100%",width:f="100%",className:h,wrapperProps:p={},beforeMount:m=Uf,onMount:b=Uf}){let[w,v]=Ri(!1),[g,y]=Ri(!0),x=Ai(null),E=Ai(null),C=Ai(null),T=Ai(b),_=Ai(m),k=Ai(!1);Df((()=>{let e=If();return e.then((e=>(E.current=e)&&y(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>x.current?function(){let e=x.current?.getModel();a||e?.original?.dispose(),s||e?.modified?.dispose(),x.current?.dispose()}():e.cancel()})),Ff((()=>{if(x.current&&E.current){let t=x.current.getOriginalEditor(),o=Bf(E.current,e||"",r||n||"text",i||"");o!==t.getModel()&&t.setModel(o)}}),[i],w),Ff((()=>{if(x.current&&E.current){let e=x.current.getModifiedEditor(),r=Bf(E.current,t||"",o||n||"text",l||"");r!==e.getModel()&&e.setModel(r)}}),[l],w),Ff((()=>{let e=x.current.getModifiedEditor();e.getOption(E.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],w),Ff((()=>{x.current?.getModel()?.original.setValue(e||"")}),[e],w),Ff((()=>{let{original:e,modified:t}=x.current.getModel();E.current.editor.setModelLanguage(e,r||n||"text"),E.current.editor.setModelLanguage(t,o||n||"text")}),[n,r,o],w),Ff((()=>{E.current?.editor.setTheme(c)}),[c],w),Ff((()=>{x.current?.updateOptions(u)}),[u],w);let S=Fi((()=>{if(!E.current)return;_.current(E.current);let a=Bf(E.current,e||"",r||n||"text",i||""),s=Bf(E.current,t||"",o||n||"text",l||"");x.current?.setModel({original:a,modified:s})}),[n,t,o,e,r,i,l]),I=Fi((()=>{!k.current&&C.current&&(x.current=E.current.editor.createDiffEditor(C.current,{automaticLayout:!0,...u}),S(),E.current?.editor.setTheme(c),v(!0),k.current=!0)}),[u,c,S]);return Li((()=>{w&&T.current(x.current,E.current)}),[w]),Li((()=>{!g&&!w&&I()}),[g,w,I]),Il.createElement(Af,{width:f,height:d,isEditorReady:w,loading:$,_ref:C,className:h,wrapperProps:p})}));var Pf=new Map,Hf=Ki((function({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:l="light",line:a,loading:s="Loading...",options:c={},overrideServices:$={},saveViewState:u=!0,keepCurrentModel:d=!1,width:f="100%",height:h="100%",className:p,wrapperProps:m={},beforeMount:b=Uf,onMount:w=Uf,onChange:v,onValidate:g=Uf}){let[y,x]=Ri(!1),[E,C]=Ri(!0),T=Ai(null),_=Ai(null),k=Ai(null),S=Ai(w),I=Ai(b),M=Ai(),R=Ai(r),N=function(e){let t=Ai();return Li((()=>{t.current=e}),[e]),t.current}(i),L=Ai(!1),O=Ai(!1);Df((()=>{let e=If();return e.then((e=>(T.current=e)&&C(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>_.current?(M.current?.dispose(),d?u&&Pf.set(i,_.current.saveViewState()):_.current.getModel()?.dispose(),void _.current.dispose()):e.cancel()})),Ff((()=>{let l=Bf(T.current,e||r||"",t||o||"",i||n||"");l!==_.current?.getModel()&&(u&&Pf.set(N,_.current?.saveViewState()),_.current?.setModel(l),u&&_.current?.restoreViewState(Pf.get(i)))}),[i],y),Ff((()=>{_.current?.updateOptions(c)}),[c],y),Ff((()=>{!_.current||void 0===r||(_.current.getOption(T.current.editor.EditorOption.readOnly)?_.current.setValue(r):r!==_.current.getValue()&&(O.current=!0,_.current.executeEdits("",[{range:_.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),_.current.pushUndoStop(),O.current=!1))}),[r],y),Ff((()=>{let e=_.current?.getModel();e&&o&&T.current?.editor.setModelLanguage(e,o)}),[o],y),Ff((()=>{void 0!==a&&_.current?.revealLine(a)}),[a],y),Ff((()=>{T.current?.editor.setTheme(l)}),[l],y);let A=Fi((()=>{if(k.current&&T.current&&!L.current){I.current(T.current);let s=i||n,d=Bf(T.current,r||e||"",t||o||"",s||"");_.current=T.current?.editor.create(k.current,{model:d,automaticLayout:!0,...c},$),u&&_.current.restoreViewState(Pf.get(s)),T.current.editor.setTheme(l),void 0!==a&&_.current.revealLine(a),x(!0),L.current=!0}}),[e,t,n,r,o,i,c,$,u,l,a]);return Li((()=>{y&&S.current(_.current,T.current)}),[y]),Li((()=>{!E&&!y&&A()}),[E,y,A]),R.current=r,Li((()=>{y&&v&&(M.current?.dispose(),M.current=_.current?.onDidChangeModelContent((e=>{O.current||v(_.current.getValue(),e)})))}),[y,v]),Li((()=>{if(y){let e=T.current.editor.onDidChangeMarkers((e=>{let t=_.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=T.current.editor.getModelMarkers({resource:t});g?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[y,g]),Il.createElement(Af,{width:f,height:h,isEditorReady:y,loading:s,_ref:k,className:p,wrapperProps:m})}));const Vf=e=>{switch(kd().Ol["textarea.newLineCharacter"]){case"crlf":e.setEOL(1);break;case"lf":e.setEOL(0)}},jf=new Map,Gf=[",","\t",";","|"," "],qf=Nl(0,{Sa:0});window.initializingMonacoEditor||(window.initializingMonacoEditor=!0,window.diagnosedModels=new WeakSet,window.commentCompletionModels=new WeakSet,(async()=>{var e,t,n;e=function(e){var t;return e||mf("configIsRequired"),t=e,{}.toString.call(t).includes("Object")||mf("configType"),e.urls?(console.warn(pf.deprecation),{paths:{vs:e.urls.monacoBase}}):e}({paths:{vs:window.monacoPathSrc}}),t=e.monaco,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["monaco"]),Ef((function(e){return{config:bf(e.config,n),monaco:t}}));try{return await If()}catch(HE){throw new Error(`Failed to load the Monaco editor from ${window.monacoPathSrc}: ${ee(HE)}.\nUsing basic text areas instead.`)}})().then((e=>{const t={"completion.functionCase":"lower","diagnostics.disableSyntaxCheck":!1,...window.editorVariables[6]};e.editor.onDidCreateModel((e=>{Vf(e)})),t["diagnostics.disableSyntaxCheck"]||e.editor.onDidCreateModel((t=>{if("sql"!==t.getLanguageId())return;const n=function(e,t){let n=!1;const r=[];return(...t)=>new Promise((async(o,i)=>{if(n)r.push({Ia:o,Ma:i,args:t});else{n=!0;try{try{o(await e(...t))}catch(HE){i(HE)}for(await new Promise((e=>setTimeout(e,200)));r.length>0;){r.slice(0,-1).forEach((e=>e.Ia(Jd)));const t=r.at(-1);r.length=0;try{t.Ia(await e(...t.args))}catch(HE){t.Ma(HE)}await new Promise((e=>setTimeout(e,200)))}}finally{n=!1}}}))}((async()=>{if(!window.diagnosedModels.has(t))return;if("sql"!==t.getLanguageId())return;const n=[];for(const r of await wa[31](t.getValue())){const o=e.MarkerSeverity.Error;if(r.severity,r.possible_causes.length>0)for(const e of r.possible_causes){const i=t.getPositionAt(Number(e.offset)),l=t.getWordAtPosition(i)??{startColumn:i.column,endColumn:i.column+1};n.push({message:r.message,severity:o,startColumn:l.startColumn,endColumn:l.endColumn,startLineNumber:i.lineNumber,endLineNumber:i.lineNumber})}else n.push({message:r.message,severity:o,startColumn:0,endColumn:1,startLineNumber:0,endLineNumber:0})}e.editor.setModelMarkers(t,"sql",n)}));t.onDidChangeContent((()=>{n().catch($a)})),n().catch($a)})),e.languages.registerCompletionItemProvider({language:"sql"},{triggerCharacters:["."," "],async provideCompletionItems(n,r,o){if(" "===o.triggerCharacter)return;const i=n.getWordAtPosition(r),l={startLineNumber:r.lineNumber,endLineNumber:r.lineNumber,startColumn:i?.startColumn??r.column,endColumn:i?.endColumn??r.column},{offlineCompletions:a}=await ze((()=>import("./completion-BsmOkiXP.js")),__vite__mapDeps([0,1,2]),import.meta.url);return{suggestions:Object.values(a("upper"===t["completion.functionCase"],!1,e.languages.CompletionItemKind,(e=>({value:e,isTrusted:!0,supportHtml:!0,supportThemeIcons:!0})))).flat().map((e=>({label:e.label,kind:e.kind,insertText:e.label,range:l,detail:e.detail,documentation:e.documentation})))}}}),e.languages.registerHoverProvider({language:"sql"},{async provideHover(e,t,n){const{offlineHover:r}=await ze((()=>import("./hover-DgkuMdKq.js")),__vite__mapDeps([3,1,2]),import.meta.url),o=e.getWordAtPosition(t);let i=!1;if(null!==o)try{i="("===e.getValueInRange({startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:o.endColumn,endColumn:o.endColumn+1})}catch{}const l=await r(e.getValue(),e.getOffsetAt(t),o?.word,i);if(void 0!==l)return{contents:[{value:l}]}}}),e.languages.registerCompletionItemProvider({language:"markdown"},{triggerCharacters:["#"],provideCompletionItems(t,n){if(!window.commentCompletionModels.has(t))return;const r=mu(t.getLinesContent().join("\n")),o=new Set(r.sections.map((e=>e[0]))),i=[];for(const{name:e}of kd().vl.Li.columns)o.has(e)||i.push(`# ${pu(e)}`);return{suggestions:i.map((r=>({kind:e.languages.CompletionItemKind.Field,label:r,insertText:r,range:{startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,startColumn:0,endColumn:t.getLineLength(n.lineNumber)+1}})))}}});const n=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");for(const r of Gf){const t=[[new RegExp(String.raw`[^${n(r)}\n]+`),"variable"],[new RegExp(n(r)),"operator"],[/\n/,"","@rest"]],o=[[new RegExp(String.raw`[^${n(r)}]+`),"string"],[new RegExp(n(r)),"operator"]];e.languages.register({id:`csv-${r}-with-header`}),e.languages.register({id:`csv-${r}-without-header`}),e.languages.setMonarchTokensProvider(`csv-${r}-with-header`,{tokenizer:{root:t,rest:o},includeLF:!0}),e.languages.setMonarchTokensProvider(`csv-${r}-without-header`,{tokenizer:{root:o},includeLF:!0})}})).then((()=>{0===qf.Pt().Sa&&qf.Dt({Sa:1})}),(e=>{$a(e),qf.Dt({Sa:2})})));const Wf=e=>{const t=qf((e=>e.Sa));return 0===t?Tn("div",{class:Dt("relative w-full bg-[--monaco-editor-loading-background] pt-[1.5px]",e.Ra&&"flex-1"),style:{height:16*e.Na+3+"px"}}):2===t?Tn("textarea",{class:Dt("relative w-full bg-[--monaco-editor-loading-background] pt-[1.5px] open-in-new-editor-tab-button-parent",e.Ra&&"flex-1"),rows:e.Na,value:e.Gt,disabled:e.mo,tabIndex:e.Io,placeholder:e.La,onChange:t=>{e.Ro(t.currentTarget.value)},onBlur:()=>{e.Oa?.()},autoComplete:"off",spellcheck:!1}):Tn(Jf,{Ee:Dt("relative w-full bg-[--monaco-editor-loading-background] pt-[1.5px] open-in-new-editor-tab-button-parent",e.Ra&&"flex-1"),Na:e.Na,Aa:e.Aa,Da:e.Da,Gt:e.Gt,mo:e.mo,Io:e.Io,La:e.La,Fa:e.Fa,Ua:e.Ua,Kl:e.Kl,Ro:e.Ro,Oa:e.Oa,Ba:e.Ba,za:e.za,Pa:e.Pa,Ha:e.Ha,Va:e.Va,ja:e.ja,"data-value-editor":e["data-value-editor"]})};class Qf{#v=[];#g=new Map;#y;constructor(e){this.#y=e}add(e){this.#v.push({Ga:Date.now(),Gt:e}),this.#g.set(e,(this.#g.get(e)??0)+1)}has(e){const t=Date.now();for(;this.#v.length>0&&t-this.#v[0].Ga>this.#y;){const{Gt:e}=this.#v.shift(),t=this.#g.get(e)-1;t<=0?this.#g.delete(e):this.#g.set(e,t)}return this.#g.has(e)}}const Kf=Nl(0,{qa:new Set}),Yf=new ys("config.popOutEditor",(()=>kd().Ol["experimental.popOutEditor.enabled"]),Id);Ds.Te(Os.Br,"Alt + KeyP",(()=>{const e=[...Kf.Pt().qa],t=document.activeElement;var n,r;(n=e,r=(e,n)=>{if(e.Qa===n.Qa)return 0;const r=(e.Qa.contains(t)?0:1)-(n.Qa.contains(t)?0:1);if(0!==r)return r;const o=(e.Qa.matches(`#${Ga.$n} *`)?0:1)-(n.Qa.matches(`#${Ga.$n} *`)?0:1);return 0!==o?o:e.Qa.compareDocumentPosition(n.Qa)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1},0===n.length?null:n.reduce(((e,t)=>r(e,t)<0?e:t)))?.Wa()}),[Yf]);const Jf=e=>{const t=!!e.Ba,n=!!e.za,r=Sd((e=>e.Dl)),o=Sd((e=>e.Ol["experimental.popOutEditor.enabled"])),i=(e,t,n)=>{f.current=!n;try{e.setValue(t);const n=e.getModel();if(!n)return;Vf(n)}finally{f.current=!1}},l=Ai([]),a=Ai(new Qf(1e3)),s=Ai(new Qf(1e3)),c=Di((()=>`SQLite3 Editor (popped out) ${crypto.randomUUID()}`),[]),$=Ai(!1),u=Ai({initialValue:e.Gt}),d=Ai(null),f=Ai(!1);Li((()=>()=>{$.current&&wa[43](c).catch($a)}),[c]);const h=()=>{"initialValue"in u.current||(wa[41](c,u.current.getValue()).catch($a),$.current=!0)};Li((()=>{if(null===d.current)return;const e=new Set(Kf.Pt().qa),t={Qa:d.current,Wa:h};return e.add(t),Kf.Dt({qa:e}),()=>{const e=new Set(Kf.Pt().qa);e.delete(t),Kf.Dt({qa:e})}}),[c]),Oi((()=>{if("initialValue"in u.current)return void(u.current.initialValue=e.Gt);$.current&&!a.current.has(e.Gt)&&(wa[42](c,e.Gt).catch($a),s.current.add(e.Gt));const t=l.current.filter((e=>Date.now()-e.Ga<100));l.current=t,e.Gt!==l.current[0]?.Gt?i(u.current,e.Gt,!1):l.current.shift()}),[e.Gt,!1,c]),ba(21,((e,t)=>{"initialValue"in u.current||e===c&&(s.current.has(t)||(a.current.add(t),i(u.current,t,!0)))}));const p=16*e.Na+3+"px",m=e.Va?{lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:6,renderLineHighlight:"none"}:{};return Tn("div",{class:e.Ee,style:{height:jf.get(e.Aa)??p},ref:d,"data-value-editor":e["data-value-editor"],children:[Tn(Hf,{loading:"",onMount:(r,o)=>{const l=r.getModel();null!==l&&(t&&window.diagnosedModels.add(l),n&&window.commentCompletionModels.add(l)),i(r,"initialValue"in u.current?u.current.initialValue:e.Gt,!0);const a=ms?{metaKey:!0}:{ctrlKey:!0};r.addAction({id:"sqlite3-editor.webview.commit",label:"Commit",keybindings:[o.KeyMod.CtrlCmd|o.KeyCode.Enter],run:()=>{window.dispatchEvent(new KeyboardEvent("keydown",{...a,code:"Enter"}))}}),r.addAction({id:"sqlite3-editor.webview.comment",label:"Focus Comment Input",keybindings:[o.KeyMod.CtrlCmd|o.KeyCode.Slash],run:()=>{window.dispatchEvent(new KeyboardEvent("keydown",{...a,code:"Slash"}))}}),r.addAction({id:"sqlite3-editor.webview.tableSelector",label:"Focus Table Selector",keybindings:[o.KeyMod.CtrlCmd|o.KeyCode.KeyL],run:()=>{window.dispatchEvent(new KeyboardEvent("keydown",{...a,code:"KeyL"}))}}),r.addAction({id:"sqlite3-editor.webview.popOut",label:"Pop-Out Editor",keybindings:[o.KeyMod.Alt|o.KeyCode.KeyP],run:()=>{window.dispatchEvent(new KeyboardEvent("keydown",{altKey:!0,code:"KeyP"}))}});const s=e=>`\n[data-tmp-focus='${e}'],\n[tabindex]:not([tabindex='-1']):not([role='tooltip']):not([data-tmp-focus='${e}'] *),\ninput:not([tabindex='-1']):not([data-tmp-focus='${e}'] *),\nbutton:not([tabindex='-1']):not([data-tmp-focus='${e}'] *)`;"sql"!==e.Da&&"markdown"!==e.Da&&(r.addAction({id:"sqlite3-editor.webview.focus-next",label:"FocusNext",keybindings:[o.KeyCode.Tab],run:()=>{if(!d.current)return;const e=Math.random()+"";d.current.dataset.tmpFocus=e;const t=[...document.querySelectorAll(s(e))];d.current.dataset.tmpFocus=void 0,t[t.indexOf(d.current)+1]?.focus()}}),r.addAction({id:"sqlite3-editor.webview.focus-prev",label:"FocusPrevious",keybindings:[o.KeyMod.Shift|o.KeyCode.Tab],run:()=>{if(!d.current)return;const e=Math.random()+"";d.current.dataset.tmpFocus=e;const t=[...document.querySelectorAll(s(e))];d.current.dataset.tmpFocus=void 0,t[t.indexOf(d.current)-1]?.focus()}})),e.ja&&r.focus(),u.current=r},height:"100%",language:e.Da,onChange:t=>{f.current||void 0!==t&&(l.current.push({Ga:Date.now(),Gt:t}),e.Ro(t))},theme:"vs"+(r?"-dark":""),className:`vs${r?"-dark":""}${"plaintext"===e.Da?e.Kl:""}`,options:{fixedOverflowWidgets:!0,minimap:{enabled:!1},readOnly:e.mo,fontSize:12,fontFamily:"var(--vscode-editor-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace)",wordWrap:e.Ha?"off":"on",unicodeHighlight:{ambiguousCharacters:!1},scrollBeyondLastLine:e.Pa??!0,...window.editorVariables[14],...m},wrapperProps:{onBlur(){e.Oa?.()}}}),void 0!==e.La&&Tn("div",{class:Dt("select-none pointer-events-none top-0 max-h-full absolute whitespace-pre overflow-hidden overflow-ellipsis",e.Va?"left-[8px]":"left-[63px]",e.Fa?"opacity-60":"italic text-[--data-null-placeholder]"),style:{width:`calc(100% - ${e.Va?"8px":"63px"} - 20px)`},children:e.La.replace(/[\n\r]/g," ")}),void 0!==e.Ua&&Tn("div",{class:"select-none pointer-events-none right-4 top-0 absolute text-red-700",children:e.Ua}),!e.Va&&o&&Tn("div",{class:"left-0 top-0 absolute z-50 open-in-new-editor-tab-button",children:Tn(W$,{St:Ur.lt,Ee:"pt-[2px] opacity-70",To:!0,_o:h,Eo:je("Open in New Editor Tab")+Ds.fo(Os.Br)})}),Tn(Xf,{Ka:d,Aa:e.Aa,Ya:p})]})},Xf=e=>{const[,t]=Ri({}),n=n=>{if(!e.Ka.current)return;const r=n.clientY,o=e.Ka.current.getBoundingClientRect().height;Pu((t=>{if(!e.Ka.current)return;const n=Math.max(13,o+t.clientY-r);e.Ka.current.style.height=n+"px",jf.set(e.Aa,n)}),(()=>{t({})}))},r=()=>{jf.delete(e.Aa),t({}),e.Ka.current&&(e.Ka.current.style.height=e.Ya)};return Tn(Zt,{children:[Tn(G$,{baseClass:"div",content:jf.has(e.Aa)?je("Double-click to reset height"):void 0,class:"absolute right-0 bottom-0 z-[--z-textarea-resizer-triangle] w-fit h-fit cursor-ns-resize",onMouseDown:n,onDblClick:r,children:Tn("svg",{height:"10",width:"10",xmlns:"http://www.w3.org/2000/svg",children:Tn("g",{fill:"none",children:[Tn("path",{"stroke-width":"0.5",stroke:"black",d:"M0 10 l10 -10"}),Tn("path",{"stroke-width":"0.5",stroke:"black",d:"M5 10 l10 -10"})]})})}),Tn("div",{class:"div cursor-ns-resize h-1 w-full absolute top-full",onMouseDown:n,onDblClick:r})]})},Zf=e=>[...e.columns].sort(((e,t)=>Number(e.seqno-t.seqno))).map((e=>-2n===e.cid?"<expression>":-1n===e.cid?"rowid":e.name)).join(", "),eh=(e,t)=>`${0n!==e.unique?"UNIQUE ":""}INDEX ${ye(e.name)} ON ${ye(t)} (${Zf(e)})`,th=e=>e.autoIncrement||e.pk&&"INTEGER"===e.type&&0===e.foreignKeys.length,nh=e=>{if("no table selected"===e.type||"broken schema"===e.type)return[];const t=new Set;if(null!==e.name)switch(e.type){case"table":case"virtual":case"shadow":case"other":t.add(e.name);break;case"view":e.triggers.some((e=>/\bINSTEAD\s+OF\s+INSERT\b/.test(e.sql)))&&t.add(e.name)}for(const n of Object.values(e.columnOrigins??{}))"main"!==n.database.toLowerCase()||n.table.toLowerCase().startsWith("pragma_")||n.table.toLowerCase().startsWith("sqlite_")||t.add(n.table);return Array.from(t)},rh=e=>nh(e).length>0,oh=(e,t)=>{const n=Eu(e,t);if(void 0===n)return null;const{name:r,notnull:o,pk:i,type:l,dflt_value:a,foreignKeys:s,hidden:c,autoIncrement:$}=n,u=[],d=[],f=[],h=[];l&&u.push(l),o&&u.push("NOT NULL");for(const p of e.indexes)1===p.columns.length&&p.columns[0].name===r&&"u"===p.origin&&0n===p.partial&&1n===p.unique?u.push("UNIQUE"):"pk"===p.origin&&0n===p.partial&&1n===p.unique?f.push({Ja:p.columns.some((e=>e.name===r)),Xa:p}):"u"===p.origin&&0n===p.partial&&1n===p.unique?d.push({Ja:p.columns.some((e=>e.name===r)),Xa:p}):h.push({Ja:p.columns.some((e=>e.name===r)),Xa:p});i&&1===e.columns.filter((e=>e.pk)).length&&($?u.push("PRIMARY KEY AUTOINCREMENT"):u.push("PRIMARY KEY"),1===f.length&&f[0].Ja&&u.pop());for(const p of s)u.push(`REFERENCES ${ye(p.table,!1)}(${ye(p.to,!1)})`);return 1n===c&&u.push("HIDDEN"),2n===c&&u.push("VIRTUAL"),3n===c&&u.push("STORED"),{S:r,Kl:l,Za:u,es:d,ts:f,ns:h,U:a}},ih=Symbol.for("NaN"),lh=e=>Tn("span",{class:"text-[--data-string] text-sky-800 underline hover:text-sky-900 whitespace-pre",title:"Ctrl+Click",onMouseDown:t=>{(t.ctrlKey||t.metaKey)&&(t.preventDefault(),t.stopImmediatePropagation(),open(e.Gt))},children:sh.rs(e.Gt)}),ah=(()=>{const e=new WeakMap;return t=>{const n=e.get(t);if(void 0!==n)return n;try{const n=new TextDecoder(void 0,{fatal:!0}).decode(t);return e.set(t,n),n}catch{return e.set(t,null),null}}})(),sh={os:e=>"string"==typeof e&&(e.startsWith("http://")||e.startsWith("https://")),ls:e=>{if(sh.os(e))return()=>({component:Tn(lh,{Gt:e}),render:t=>{t.className="text-[--data-string] text-sky-800 underline hover:text-sky-900 whitespace-pre",t.innerText=sh.rs(e),t.insertAdjacentHTML("afterbegin",'<div class="link-button absolute inline-block px-1 -ml-1 py-[3px] h-[18px] hover:bg-neutral-200 rounded-sm align-middle"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><g fill="currentColor"><path d="M1.5 1H6v1H2v12h12v-4h1v4.5l-.5.5h-13l-.5-.5v-13z" /><path d="M15 1.5V8h-1V2.707L7.243 9.465l-.707-.708L13.293 2H8V1h6.5z" /></g></svg></div><div class="w-5 inline-block"></div>');const n=t.querySelector(".link-button");n.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopImmediatePropagation(),open(e)}));const r=z$(n,{content:je("Open Link in Browser")}),o=Id((()=>{let e=n.parentElement;for(;null!==e;){if(e===document.body)return;e=e.parentElement}r.destroy(),o()}))}})},ss:({Gt:e,cs:t,$s:n=!1,us:r})=>{const o=Sd((e=>e.maxTextWrap)),i=Sd((e=>e.Ol.alignNumberRight)),l=Ai(null),a=Number.isNaN(e)?ih:e;return Oi((()=>{l.current&&(sh.ds({Qa:l.current,$s:n,Gt:a===ih?NaN:a,fs:null,hs:!1,bs:o,us:r,ws:i}),l.current.style.display=t)}),[a,n,o,t,r,i]),Tn("div",{ref:l})},gs:(e,t)=>{e.title="",e.onclick=()=>{},e.className="text-[--data-null] whitespace-pre";try{e.innerText=`[JSONB] ${Yd(t)}`}catch{const n=ah(t);e.innerText=null!==n?`[BLOB] ${n}`:ge(t,64)}},ds({Gt:e,$s:t,fs:n,Qa:r,hs:o,bs:i,us:l,ws:a}){if(o||n)return;const s=sh.ls(e);if(r.removeAttribute("style"),s)r.innerHTML="",s().render(r);else if(e instanceof Uint8Array&&t){if((e=>{try{return Yd(e),!0}catch{return!1}})(e))return void sh.gs(r,e);const{width:t,height:n}=r.getBoundingClientRect();r.style.width=t+"px",r.style.height=n+"px",r.style.display="block",r.style.overflow="hidden";const o=()=>{r.loadingTagId===i&&(r.style.overflow="",r.style.display="inline")},i=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)+"";r.loadingTagId=i,r.title="",r.onclick=()=>{},r.className="",r.innerHTML="",ze((()=>import("./core-Ru_UVvaa.js")),__vite__mapDeps([4,2]),import.meta.url).then((t=>t.fileTypeFromBuffer(e))).then((t=>{if(r.loadingTagId!==i)return;if(!t)return o(),void sh.gs(r,e);const n=t.mime;if(n.startsWith("image/")){const t=document.createElement("img");t.style.maxHeight="200px",t.addEventListener("load",(()=>{o()})),t.addEventListener("error",(()=>{o()})),t.src=URL.createObjectURL(new Blob([e],{type:n})),r.append(t)}else if(n.startsWith("audio/")){const t=document.createElement("audio");t.style.height="19px",t.style.width="80%",t.controls=!0,t.addEventListener("canplaythrough",(()=>{o()})),t.addEventListener("error",(()=>{o()})),t.src=URL.createObjectURL(new Blob([e],{type:n})),r.append(t)}else if(n.startsWith("video/")){const t=document.createElement("video");t.style.maxHeight="200px",t.controls=!0,t.addEventListener("loadeddata",(()=>{o()})),t.addEventListener("error",(()=>{o()})),t.src=URL.createObjectURL(new Blob([e],{type:n})),r.append(t)}else{if(null!==ah(e))return o(),void sh.gs(r,e);const t=document.createElement("span");t.style.color="var(--data-null)",o(),t.innerText=`${n}: ${ge(e,8)}`,r.append(t)}})).catch((e=>{r.innerHTML=`<i>error: ${ne(ee(e))}</i>`,o()}))}else{i>1&&(r.style.height=i*Yu+"px");let t=!1;if(e instanceof Uint8Array)sh.gs(r,e);else if(null===e)r.title="",r.onclick=()=>{},r.className="text-[--data-null] whitespace-pre",r.innerText="NULL";else if("string"==typeof e){r.title="",r.onclick=()=>{};const t=sh.rs(e);if(e.includes("�")){r.innerHTML="";const e=document.createElement("span");e.className="bg-red-500 bg-opacity-80 [box-shadow:-0px_-0px_0_0.5px_#66000047_inset] [font-size:80%] align-text-bottom px-[0.4em] py-[1px] text-always-white",e.innerText=je("Invalid UTF-8: "),e.title=je("The data could not be decoded as a UTF-8 string.");const n=document.createElement("span");n.className="text-[--data-string]",n.innerText=t,r.append(e," ",n)}else r.innerHTML="",r.innerText=t;i>1?(r.className="text-[--data-string] whitespace-pre-wrap overflow-hidden break-all",r.style.display="-webkit-box",r.style.webkitLineClamp=i+"",r.style.lineClamp=i+"",r.style.webkitBoxOrient="vertical"):r.className="text-[--data-string] whitespace-pre"}else"number"==typeof e?(t=a,r.title="",r.onclick=()=>{},r.className="text-[--data-number] whitespace-pre"+(t?" [direction:rtl] right-align":""),r.innerText=sh.rs(e)):"bigint"==typeof e?(t=a,r.title="",r.onclick=()=>{},r.className="text-[--data-number] whitespace-pre"+(t?" [direction:rtl] right-align":""),r.innerText=""+e):(r.title="",r.onclick=()=>{},r.className="text-[--data-null] whitespace-pre",r.innerText=""+e);if(l){const e=l.Pt();e.ys?null!==e.Gt&&(r.insertAdjacentHTML(t?"afterbegin":"beforeend",e.Gt),(t?r.firstElementChild:r.lastElementChild)?.classList.add(t?"mr-4":"ml-4")):e.Gt.then((e=>{null!==e&&""!==e&&(r.insertAdjacentHTML(t?"afterbegin":"beforeend",e),(t?r.firstElementChild:r.lastElementChild)?.classList.add(t?"mr-4":"ml-4"))})).catch($a)}}},xs:e=>e instanceof Uint8Array||null===e?"":(e=>(e=e.replaceAll('"','""'),/[,\n]/.test(e)?`"${e}"`:e))(""+e),rs:(e,t)=>{switch(typeof e){case"number":return/^[+\-]?\d+$/.test(""+e)?`${e}.0`:`${e}`;case"string":return e.replaceAll("\\","\\\\").replaceAll("\t","\\t").replaceAll("\r","\\r").replaceAll("\n","\\n")||" ";default:return ge(e,t)}},Es:async e=>{e instanceof Uint8Array?await ga(ve(e)):null===e?await ga("NULL"):await ga(""+e)},Cs:e=>{if(null===e)return{Kl:vh.Ts,_s:{ks:"",Ss:new Uint8Array}};if(e instanceof Uint8Array)return{Kl:vh.Is,_s:{Ss:e,ks:ah(e)??""}};if("number"==typeof e)return{Kl:vh.Ms,_s:{Ss:new Uint8Array,ks:sh.rs(e)}};if("bigint"==typeof e)return{Kl:vh.Ms,_s:{Ss:new Uint8Array,ks:e+""}};if("string"==typeof e)return{Kl:vh.Rs,_s:{Ss:new Uint8Array,ks:e}};throw new Error},Ns:e=>e instanceof Uint8Array||"bigint"==typeof e?ge(e):JSON.stringify(e)};var ch,$h={exports:{}};ch=$h,function(){function e(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){i(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function t(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Dl&&Dl.global===Dl?Dl:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(o,i,l){var a=r.URL||r.webkitURL,s=document.createElement("a");i=i||o.name||"download",s.download=i,s.rel="noopener","string"==typeof o?(s.href=o,s.origin===location.origin?n(s):t(s.href)?e(o,i,l):n(s,s.target="_blank")):(s.href=a.createObjectURL(o),setTimeout((function(){a.revokeObjectURL(s.href)}),4e4),setTimeout((function(){n(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(r,o,i){if(o=o||r.name||"download","string"!=typeof r)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(r,i),o);else if(t(r))e(r,o,i);else{var l=document.createElement("a");l.href=r,l.target="_blank",setTimeout((function(){n(l)}))}}:function(t,n,i,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var a="application/octet-stream"===t.type,s=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&s||o)&&"undefined"!=typeof FileReader){var $=new FileReader;$.onloadend=function(){var e=$.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=e:location=e,l=null},$.readAsDataURL(t)}else{var u=r.URL||r.webkitURL,d=u.createObjectURL(t);l?l.location=d:location.href=d,l=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});r.saveAs=i.saveAs=i,ch.exports=i}();const uh=Fl($h.exports),dh=/\s?<!doctype html>|(<html\b[^>]*>|<body\b[^>]*>|<x-[^>]+>)+/i,fh=new RegExp(Fl(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","search","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"]).map((e=>`<${e}\\b[^>]*>`)).join("|"),"i"),hh={Ls:({ks:e,Ss:t},n)=>{switch(n){case 2:case 4:return null;case 1:return hh.Os({ks:e});case 3:return t;case 0:return e}},Os:({ks:e})=>""===e.trim()?0n:/^[+\-]?\d+$/.test(e.trim())&&-(2n**64n)/2n<=BigInt(e)&&BigInt(e)<=2n**64n/2n-1n?BigInt(e):+e},ph=async e=>{const{records:t}=await pa("SELECT jsonb(?) as jsonb",[e],"read_only",Oe,{rn:!1}),n=t.jsonb?.[0];return n instanceof Uint8Array?n:null},mh=e=>{const t=!!e.disabled,[n,r]=Ri(2);if(!e.noForeignKeyInput&&null!==e.column&&5!==e.type){const t=e.Li.columns.find((t=>t.name===e.column))?.foreignKeys;if(void 0!==t&&t.length>0)return Tn(_h,{...e})}if(3===e.type){let o=null;try{o=Yd(e.state.Ss)}catch{}return Tn("div",{class:e.class,children:Tn("div",{children:[Tn("div",{class:"flex",children:[Tn("input",{value:ge(e.state.Ss,8),disabled:!0,class:"flex-1 min-w-0 inline mr-1"}),null===o&&Tn(q$,{Ee:"whitespace-nowrap fix-pointer-outline-z-ordering",yo:!0,po:je("Input a JSONB value"),Ce:async()=>{const t=await ph("{}");null!==t&&e.onChange({...e.state,Ss:t})},children:[Tn(Br,{St:Ur.nt,Ee:"translate-y-[-1px] mr-1"}),"JSONB"]}),Tn("label",{class:Dt("inline-block px-2 cursor-pointer [font-family:inherit] focus:outline focus:[outline-width:var(--focus-outline-width)] focus:outline-outline-color focus:outline-offset-0 rounded-sm shadow whitespace-nowrap fix-pointer-outline-z-ordering",t?"cursor-not-allowed text-neutral-500 bg-neutral-300":"text-fg-button-secondary bg-button-secondary pointer-outline"),children:[Tn("input",{disabled:t,type:"file",class:"hidden",onChange:async t=>{const n=t.currentTarget.files?.[0];n&&e.onChange({...e.state,Ss:new Uint8Array(await n.arrayBuffer())})}}),Tn(mr,{}),je("Import")]}),Tn(q$,{Ee:"whitespace-nowrap fix-pointer-outline-z-ordering",yo:!0,Ce:async()=>{const t=await(await ze((()=>import("./core-Ru_UVvaa.js")),__vite__mapDeps([4,2]),import.meta.url)).fileTypeFromBuffer(e.state.Ss);uh.saveAs(new Blob([e.state.Ss]),`data.${t?.ext??"bin"}`)},children:[Tn(jn,{}),je("Export")]})]}),null!==o&&Tn("div",{class:"my-1",children:[je("This BLOB data is parsable as JSONB."),Tn(Wf,{Da:"json",Kl:"--string",Ro:async t=>{r(0);try{const n=await ph(t);if(null===n)return;e.onChange({...e.state,Ss:n}),r(2)}catch(HE){console.log(HE),r(1)}},Na:3,Gt:o,Io:e.tabIndex,Ra:e.flex1,Aa:e.Aa+";jsonb","data-value-editor":!0}),Tn("div",{children:[0===n&&Tn("span",{class:"mr-1 text-neutral-600",children:"Serializing..."}),1===n&&Tn("span",{class:"mr-1 text-red-600",children:"Invalid JSON"}),"  "]})]})]})})}if(5===e.type)return Tn("div",{class:e.class,children:"Unsupported type"});switch(e.type){case 4:{let n="NULL";const r=e.Li.columns.find((t=>t.name===e.column));let o;r&&(th(r)?n="(next integer)":null!==r.dflt_value&&""!==r.dflt_value&&(n=r.dflt_value));const i=Cu(e.Li,e.column);return void 0===i||!i.notnull||th(i)||null!==i.dflt_value&&"NULL"!==i.dflt_value.trim()||(o=je("NOT NULL constraint will fail.")),Tn("div",{class:e.class,children:Tn(Wf,{Da:"plaintext",Kl:"--string",Ro:t=>{e.onTypeChange(yh(t,null===e.column?"ANY":Cu(e.Li,e.column).type)),e.onChange({...e.state,ks:t})},Na:1,mo:t,Gt:"",Io:e.tabIndex,Ra:e.flex1,La:n,Ua:o,Aa:e.Aa+";"+e.type,"data-value-editor":!0})})}case 2:{let n;const r=Cu(e.Li,e.column);return void 0!==r&&r.notnull&&!th(r)&&(n=je("NOT NULL constraint will fail.")),Tn("div",{class:e.class,children:Tn(Wf,{Da:"plaintext",Kl:"--string",Ro:t=>{e.onTypeChange(yh(t,null===e.column?"ANY":Cu(e.Li,e.column).type)),e.onChange({...e.state,ks:t})},Na:1,mo:t,Gt:"",Io:e.tabIndex,Ra:e.flex1,La:"NULL",Ua:n,Aa:e.Aa+";"+e.type,"data-value-editor":!0})})}case 0:return Tn("div",{class:e.class,children:Tn(Wf,{Da:(o=e.state.ks,/^\s*<\?xml\b/.test(o)?"xml":function(e){return e=e.trim().slice(0,1e3),dh.test(e)||fh.test(e)}(o)&&!o.startsWith("%PDF")?"html":/^\s*(?:\{\s*".*\}|\[.*\])\s*$/s.test(o)?"json":"plaintext"),Kl:"--string",Ro:t=>{e.onChange({...e.state,ks:t})},Na:e.rows??8,mo:t,Gt:e.state.ks,Io:e.tabIndex,Ra:e.flex1,Aa:e.Aa+";"+e.type,"data-value-editor":!0})});case 1:{const n=Number.isNaN(hh.Os(e.state))?"Invalid number.":null,r=e.state.ks.includes("\n")?2:1;return Tn("div",{class:Dt("relative",e.class),children:[Tn(Wf,{Da:"plaintext",Kl:"--number",Ro:t=>{e.onChange({...e.state,ks:t})},Na:r,mo:t,Gt:e.state.ks,Io:e.tabIndex,Ra:e.flex1,La:e.state.ks?"":"0",Aa:e.Aa+";"+e.type,"data-value-editor":!0}),e.copyButton&&Tn(bh,{Ce:async()=>{await ga(e.state.ks)}}),t&&Tn("div",{class:"select-none pointer-events-none text-neutral-700 right-0 top-full absolute",children:"read-only"}),null!==n&&Tn("div",{class:"select-none pointer-events-none text-red-700 right-4 top-0 absolute",children:n})]})}}var o},bh=e=>{const[t,n]=Ri(!1);return Tn("div",t?{class:"select-none right-4 [font-size:0.7rem] top-0 absolute bg-white text-zinc-800 bg-opacity-80 pl-2 rounded cursor-pointer",children:"Copied!"}:{class:"select-none right-4 [font-size:0.8rem] top-0 absolute hover:bg-zinc-100 cursor-pointer",onClick:async()=>{await e.Ce(),n(!0),setTimeout((()=>{n(!1)}),500)},children:Tn(Br,{St:Ur.Be})})},wh=e=>{switch(e){case"string":case 0:return"var(--data-string)";case"number":case"bigint":case 1:return"var(--data-number)";case"boolean":case"symbol":case"undefined":case"object":case"function":case 2:case 3:case 4:case 5:return"var(--data-null)"}};var vh=(e=>(e[e.Rs=0],e[e.Ms=1],e[e.Ts=2],e[e.Is=3],e[e.oo=4],e[e.As=5],e))(vh||{});const gh=e=>{if(e.Ds||e.Fs||e.A)return 4;switch(xh(e.Kl)){case"INTEGER":case"REAL":return 1;case"TEXT":case"ANY":return 0;case"BLOB":return 3}},yh=(e,t)=>{switch(xh(t)){case"INTEGER":case"REAL":return 1;case"TEXT":return 0;case"BLOB":case"ANY":return/^[+\-\d\.]/.test(e)?1:0}},xh=e=>(e=e.toUpperCase()).includes("INT")?"INTEGER":e.includes("REAL")||e.includes("FLOA")||e.includes("DOUB")?"REAL":e.includes("CHAR")||e.includes("CLOB")||e.includes("TEXT")?"TEXT":e.includes("BLOB")?"BLOB":"ANY",Eh=e=>{const t=!!e.Us;return Tn("span",{class:"whitespace-nowrap !min-w-fit [&>*:nth-child(2)]:rounded-l [&>*:last-child]:rounded-r",children:[Tn("span",{class:"mr-3 italic opacity-70",children:"AS"}),Tn(K$,{Ee:"fix-pointer-outline-z-ordering",Mo:e.mo,Io:-1,po:je("TEXT{{- key }}",{key:e.Bs?Ds.fo(Os.Cr):""}),Nt:"TEXT",Co:0===e.Gt,Ro:t=>t?e.Ro(0):e.Ro(4),"data-testid":void 0}),Tn(K$,{Ee:"fix-pointer-outline-z-ordering",Mo:e.mo,Io:-1,po:je("INTEGER or REAL{{- key }}",{key:e.Bs?Ds.fo(Os.Tr):""}),Nt:"NUMERIC",Co:1===e.Gt,Ro:t=>t?e.Ro(1):e.Ro(4),"data-testid":void 0}),Tn(K$,{Ee:"fix-pointer-outline-z-ordering",Mo:e.mo,Io:-1,po:je("BLOB{{- key }}",{key:e.Bs?Ds.fo(Os.kr):""}),Nt:"BLOB",Co:3===e.Gt,Ro:t=>t?e.Ro(3):e.Ro(4),"data-testid":void 0}),Tn(K$,{Ee:"fix-pointer-outline-z-ordering",Mo:e.mo,Io:-1,po:je("NULL{{- key }}",{key:e.Bs?Ds.fo(Os._r):""}),Nt:"NULL",Co:2===e.Gt,Ro:t=>t?e.Ro(2):e.Ro(4),"data-testid":void 0}),!t&&Tn(K$,{Ee:"fix-pointer-outline-z-ordering",Mo:e.mo,Io:-1,po:je("The default value set by the DEFAULT keyword, a unique integer for either an INTEGER PRIMARY KEY or an AUTOINCREMENT column, or NULL."),Nt:"DEFAULT",Co:4===e.Gt,Ro:()=>e.Ro(4),"data-testid":void 0})]})},Ch=e=>{const t=!!e.Ra,n=Sd((e=>e.Ll));return Tn("div",{class:Dt("code-font","bottom"===n?"flex flex-col-no-overflow sm-flex-row-no-overflow gap-1 sm:gap-2":"flex flex-col-no-overflow gap-1",t&&"flex-1"),children:[Tn(mh,{disabled:void 0!==e.mo&&e.mo.length>0,column:e.P,type:e.Kl,rows:e.Na,Li:e.Li,class:"mr-[0.35rem] w-full flex-1",style:{color:wh(e.Kl)},state:e._s,onChange:e.zs,onTypeChange:e.Ps,copyButton:e.Hs??!1,flex1:e.Ra,Aa:e.Aa,tabIndex:0}),Tn(Eh,{Us:e.Us,mo:e.mo,Gt:e.Kl,Ro:e.Ps,Bs:e.Bs})]})},Th=()=>[{Gt:null,N:null,P:null}],_h=e=>{const t=Cu(e.Li,e.column),n=Sd((e=>e.Ol.foreignKeyDropdownLimit)),[r,o]=Ri(Th);if(Li((()=>{let e=!1;return(async()=>{const r=[{Gt:null,N:null,P:null}];for(const i of t?.foreignKeys??[]){if(e)return;const t=n+1;let l;try{({records:l}=await pa(`SELECT ${ye(i.to)} as value FROM ${ye(i.table)} LIMIT ${t}`,[],"read_only",Oe,{rn:!1}))}catch(HE){return void o({error:2,message:ee(HE)})}if(l.value.length===t)return void o({error:1});if(e)return;for(const e of l.value.map((e=>({Gt:e,N:i.table,P:i.to}))))r.push(e)}o(r)})().catch($a),()=>{e=!0}}),[e.column,e.Li,n,t?.foreignKeys]),5===e.type)return Tn("div",{class:e.class,children:"Unsupported type"});if(!Array.isArray(r))switch(r.error){case 1:return Tn("div",{class:"w-full",children:[Tn(mh,{...e,noForeignKeyInput:!0}),Tn("i",{class:"opacity-75",dangerouslySetInnerHTML:{__html:je("The dropdown cannot be displayed because the table that the foreign key references has too many records. To increase this limit, adjust the {{- link}} value in VSCode's settings.",{link:`<a ${Fu} href="${ne(jd("workbench.action.openSettings","sqlite3-editor.ui.foreignKeyDropdownLimit"))}">sqlite3-editor.ui.foreignKeyDropdownLimit</a>`})}})]});case 2:return Tn("div",{class:"w-full",children:[Tn(mh,{...e,noForeignKeyInput:!0}),Tn("i",{class:"opacity-75",children:je("Failed to select the values from the table that the foreign key references.")}),Tn("pre",{class:"text-red-700 overflow-x-auto whitespace-nowrap",children:r.message.replace(/\r\n/g," ")})]})}const i=hh.Ls(e.state,e.type),l=t?.foreignKeys[0];return Tn("div",{class:"w-full flex",children:[Tn(Fh,{Ee:"flex-1",Gt:{Gt:i,N:void 0!==l?l.table:null,P:void 0!==l?l.to:null},ei:r,Ro:t=>{const{_s:n,Kl:r}=sh.Cs(t);e.onTypeChange(r),e.onChange(n)}}),void 0!==l&&Tn(G$,{baseClass:"div",class:"mr-[0.4rem] ml-1 bg-white hover:bg-neutral-100 active:bg-neutral-200 cursor-pointer rounded-sm shadow-sm px-1",content:je("Open Source Table"),onClick:async()=>{yd.ea(),await yd.Wl.xi({type:"table-like",name:l.table})},children:Tn(Br,{St:Ur.B})})]})};class kh{#x;#E;constructor(e){this.#x=e,"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then?(this.#E=!1,e.then((e=>{this.#x=e,this.#E=!0}),(()=>{}))):this.#E=!0}C(e){return this.#E?new kh(e(this.#x)):new kh(this.#x.then(e))}then(e,t){return this.#E?e?Promise.resolve(e(this.#x)):Promise.resolve(this.#x):Promise.resolve(this.#x.then(e,t))}catch(e){return this.then(null,e)}Pt(){return this.#E?{ys:!0,Gt:this.#x}:{ys:!1,Gt:this.#x}}Vs(e){return this.#E?this.#x:e}}const Sh=e=>{e.classList.remove("flash"),setTimeout((()=>{e.classList.add("flash")}),50)},Ih=()=>{const e=Ga.Pt();e?Sh(e):console.warn(`#${Ga.$n} was not found.`)},Mh=async e=>{const t=await Ra(`#insert-column${e+1} .monaco-editor`);if(t){t.querySelector("textarea")?.focus(),t.querySelector("textarea")?.select();const e=t.querySelector(".view-lines");if(!e)return void console.warn(".view-lines was not found.");Sh(e)}else{const t=await Ra(`#insert-column${e+1} textarea`);if(!t)return;t.focus(),t.select(),Sh(t)}},Rh=()=>{const[e,t]=Ri(null),[n,r]=Ri(!1);return Oi((()=>{if(!e)return;const t=new IntersectionObserver((([e])=>{r(!!e?.isIntersecting)}),{threshold:0,root:null,rootMargin:"0%"});return t.observe(e),()=>t.disconnect()}),[e]),[t,n]},Nh=()=>{let e=[];return window.addEventListener("mouseup",(()=>{if(Array.isArray(e))for(const t of e)t();e=null}),{once:!0}),t=>{null===e?t():e.push(t)}},Lh=new class{#C=[];#T;#_;constructor(e){this.#T=e.Gs,this.#_=e.qs}j(e){const t=new kh(new Promise((t=>{const n=this.#C.find((([[t]])=>this.#T(t,e)));n?n.push([e,t]):this.#C.push([[e,t]])}))),n=globalThis.requestAnimationFrame??(e=>setTimeout(e,1));return n((()=>{const e=this.#C.sort(((e,t)=>e.length-t.length)).pop();if(!e)return;const t=e.map((([e])=>e)),n=(r=this.#_(t),o=t.length,Array(o).fill(null).map(((e,t)=>r.then((e=>e[t])))));var r,o;for(const[i,[l,a]]of e.entries())a(n[i])})),t}}({Gs:(e,t)=>e.N===t.N&&e.P===t.P,qs:e=>(async(e,t,n)=>{let r;const o=n.filter((e=>null!==e)),i=n.some((e=>null===e));try{({records:r}=await pa(`SELECT ${ye(t)} as __value, * FROM ${ye(e)} WHERE ${ye(t)} IN (${Array(o.length).fill("?").join(", ")})`+(i?` OR ${ye(t)} IS NULL`:""),o,"read_only",Oe,{rn:!1}))}catch{return n.map((()=>null))}t in r&&delete r[t];const l=n.map((()=>null));for(const a of jr(r)){if(void 0===a.__value)continue;const e=[];for(const[l,s]of n.entries())Ne(s,a.__value)&&e.push(l);"__value"in a&&delete a.__value;const t=8,r=Object.values(a).reduce(((e,n)=>e+("string"==typeof n?Math.max(0,n.length-t):0)),0),o=50,i=Object.entries(a).map((([e,n])=>{let i=t;return"string"==typeof n&&n.length>t&&(i+=Math.floor(o/r*(n.length-t))),`${ne(e)}:<span style="color: ${wh(typeof n)}">${ne(ge(n,i))}</span>`})).join(" ");for(const n of e)l[n]=i}return l})(e[0].N,e[0].P,e.map((e=>e.Gt)))}),Oh=(e,t,n)=>{const{El:r}=kd(),o=r.get(e)?.get(t)?.get(n);if(void 0!==o)return o;const i=Lh.j({N:e,P:t,Gt:n});return yd.El(H(r,(r=>{r.has(e)||r.set(e,new Map);const o=r.get(e);o.has(t)||o.set(t,new Map),o.get(t).set(n,i)}))),i},Ah=Symbol.for("NaN"),Dh=Nl(0,{Sa:null,Ws:0,Qs:""}),Fh=e=>{const t=Dh((e=>null!==e.Sa)),n=Dh((e=>null!==e.Sa?e.Qs:null)),[r,o]=Ri(null);return Li((()=>{r&&(r.focus(),r.select())}),[r]),Tn("div",{class:Dt("value-dropdown relative bg-[--vscode-input-background] px-2 pointer-outline code-font",e.Ee),onMouseDown:t=>{t.preventDefault(),t.stopImmediatePropagation(),((e,t,n,r)=>{if(null!==Dh.Pt().Sa)Dh.Dt({Sa:null});else{const o=t.findIndex((t=>Ne(e.Gt,t.Gt)));Z$({Do:n.left,Fo:n.bottom,Uo:n.top},(()=>ds.Pt()),((e,i)=>{Dh.Dt({Sa:{ei:t,Do:e,Uo:i,Ks:n.width,Ys:o,Ro:r},Ws:o,Qs:""})}),((e,t)=>{const n=ds.Pt();n&&(n.style.left=e+"px",n.style.top=t+"px")}))}})(e.Gt,e.ei,t.currentTarget.getBoundingClientRect(),e.Ro)},children:[(null===n||""===n)&&Tn(Uh,{Gt:e.Gt}),null!==n&&Tn("input",{ref:o,class:Dt("!bg-transparent absolute left-0 top-0 w-full h-full pr-6 !outline-none",""===n&&"caret-transparent"),value:n,onChange:e=>{Dh.Dt({Qs:e.currentTarget.value,Ws:0}),jh(0,!0)}}),Tn(Br,{St:t?Ur.Tt:Ur.Ct,Ee:"absolute right-2 top-[4px] select-none pointer-events-none"})]})},Uh=e=>{const[t,n]=((e,t,n)=>{const[r,o]=Ri((()=>null===e||null==t?"":Oh(e,t,n).Vs(null)??"")),[i,l]=Rh(),a=Number.isNaN(n)?Ah:n;return Oi((()=>{if(l)if(null===e||null===t)o("");else{const n=Oh(e,t,a===Ah?NaN:a).Pt();if(!n.ys){o("");let e=!1;return n.Gt.then((t=>{e||null!==t&&o(t)})).catch($a),()=>{e=!0}}null!==n.Gt?o(n.Gt):o("")}}),[e,t,a,l]),[i,r]})(e.Gt.N,e.Gt.P,e.Gt.Gt);return Tn(Zt,{children:[Tn("span",{style:{color:wh(typeof e.Gt.Gt)},children:sh.rs(e.Gt.Gt)}),Tn("span",{ref:t,class:"text-black opacity-60 italic ml-4",dangerouslySetInnerHTML:{__html:n}})]})},Bh=e=>{const t=Dh((t=>t.Sa?.Ys===e.Xa)),n=Dh((t=>t.Ws===e.Xa));return Tn("div",{class:Dt("px-2 overflow-hidden overflow-ellipsis",n&&"bg-[rgba(128,128,128,0.3)]",t&&"bg-[rgba(0,132,255,0.377)]"),style:{height:20},onMouseEnter:()=>{Dh.Dt({Ws:e.Xa})},onMouseDown:()=>{Dh.Dt({Ws:e.Xa}),Gh()},children:Tn(Uh,{Gt:e.Gt})})},zh=e=>{const[t,n]=Rh();return Tn("div",{ref:t,style:{height:20*e.ei.length},children:n&&e.ei.map(((t,n)=>Tn(Bh,{Gt:t,Xa:e.Xa+n})))})},Ph=e=>t=>sh.rs(t.Gt).startsWith(e),Hh=()=>{const e=Dh((e=>e.Sa)),t=Dh((e=>e.Qs));ea("mousedown",(e=>{ru()||e.target instanceof Element&&e.target.matches(".value-dropdown, .value-dropdown *")||Dh.Dt({Sa:null})}),void 0,{capture:!0}),ea("blur",(()=>{ru()||Dh.Dt({Sa:null})}));const n=null!==e;if(Oi((()=>{n&&jh(Dh.Pt().Ws,!0)}),[n]),null===e)return Tn(Zt,{});const r=[];let o=0;const i=e.ei.filter(Ph(t));for(;o<i.length;)r.push(i.slice(o,o+100)),o+=100;return Tn("div",{id:ds.$n,class:"value-dropdown absolute bg-[--vscode-input-background] border border-neutral-300 overflow-x-hidden overflow-y-auto thin-scrollbar shadow code-font z-[--z-value-dropdown]",style:{left:e.Do,top:e.Uo,width:e.Ks,height:150},children:r.map(((e,t)=>Tn(zh,{ei:e,Xa:100*t})))})},Vh=new ys("dom.value-dropdown",(()=>null!==Dh.Pt().Sa),Dh.Ht),jh=(e,t=!1)=>{Dh.Dt({Ws:e});const n=ds.Pt();if(!n)return;const r=Math.max(20*e,0),o=r+20;r<n.scrollTop||t?n.scrollTop=r:o>=n.scrollTop+150&&(n.scrollTop=o-150)},Gh=()=>{const e=Dh.Pt();if(!e.Sa)return;const t=e.Sa.ei.filter(Ph(e.Qs))[e.Ws];t&&(e.Sa.Ro(t.Gt),Dh.Dt({Sa:null}))};Ds.Te(Os.Pr,"ArrowUp",(()=>{jh(Math.max(Dh.Pt().Ws-1,0))}),[Vh]),Ds.Te(Os.Hr,"ArrowDown",(()=>{const e=Dh.Pt();e.Sa&&jh(Math.min(e.Ws+1,e.Sa.ei.filter(Ph(e.Qs)).length-1))}),[Vh]),Ds.Te(Os.Vr,"PageUp",(()=>{jh(Math.max(Dh.Pt().Ws-6,0))}),[Vh]),Ds.Te(Os.jr,"PageDown",(()=>{const e=Dh.Pt();e.Sa&&jh(Math.min(e.Ws+6,e.Sa.ei.filter(Ph(e.Qs)).length-1))}),[Vh]),Ds.Te(Os.Gr,["Enter","CtrlCmd + Enter"],(()=>{Gh()}),[Vh]),Ds.Te(Os.qr,"Escape",(()=>{Dh.Dt({Sa:null})}),[Vh]),Ds.Te(Os.Wr,["Alt + ArrowUp","Alt + ArrowDown"],(()=>{Dh.Dt({Sa:null})}),[Vh]);const qh=Nl(0,{Js:new Set}),Wh=({Ce:e,xi:t,Ee:n,mo:r=!1,Xs:o=!1,bo:i})=>{t.Zs&&(r=!0);const[l,a]=Ri(!1),s=Fi((t=>{a(!0),setTimeout((()=>{a(!1)}),200),e(t)}),[e]);return Li((()=>{if(!o&&!r)return qh.Dt((e=>H(e,(e=>{e.Js.add(s)})))),qh.Pt().Js.size>=2&&console.warn("The Ctrl+Enter shortcut is disabled because multiple commit buttons are displayed"),()=>{qh.Dt((e=>H(e,(e=>{e.Js.delete(s)}))))}}),[s,o,r]),Tn(q$,{mo:r,bo:i,Ee:Dt("mb-2 px-6 whitespace-nowrap relative [transition:50ms_linear_background-color]",l&&"bg-primary-active outline outline-2 outline-sky-200",n),Ce:()=>{s(!1)},xo:e=>iu(e,Tn(Hd,{ka:t.ka})),Eo:`${Vd(t.ka,8)}  (right click to copy)`,"data-testid":void 0,children:[Tn(Br,{St:Ur.Le,Ee:"mr-1"}),je("Commit"),!o&&Tn("span",{class:Dt("font-normal opacity-60 ml-2",ms?"[font-size:90%]":"[font-size:70%]"),children:Ds.do(Os.Mn)})]})},Qh=new ys("dom.commitButton",(()=>1===qh.Pt().Js.size),qh.Ht);Ds.Te(Os.Mn,"CtrlCmd + Enter",(()=>{[...qh.Pt().Js].at(-1)?.(!1)}),[Qh,Ts(Ls),Ts(Vh)]),ma("d2f135d7-b58e-43e5-96fb-58d937400d6b",22,(()=>{[...qh.Pt().Js].at(-1)?.(!0)})),la?ma("0fc667d8-9e65-40b2-927a-7c6fd8a55fdd",23,(()=>{Ig().catch($a)})):Ds.Te(Os.zr,"CtrlCmd + KeyS",(async()=>{await Ig()}),[Qh,Ts(Ls)]);const Kh=e=>Tn("code",{class:Dt("text-primary-highlight",e.Ee),onMouseDown:e._o,onContextMenu:e.xo,"data-testid":void 0,children:e.children}),Yh=()=>Tn(Zt,{children:Object.entries(pg).map((([e,t])=>Tn(t.ec,{},e)))}),Jh=e=>Tn(G$,{baseClass:"span",content:"Click for other statements",children:Tn(Kh,{Ee:"pointer-outline border-b border-b-primary-highlight mr-1",_o:e=>iu(e,Tn(Yh,{}),!0),xo:e=>iu(e,Tn(Yh,{}),!0),"data-testid":e.Nt,children:e.Nt})}),Xh=e=>Tn("span",{class:"formula",children:["= ",Tn("span",{class:"expr",children:e.tc})]});let Zh=null;const ep=()=>{const e=document.createElement("textarea");return e.dataset.testid="inplaceInput",e.spellcheck=!1,e.style.resize="none",e.tabIndex=-1,e.classList.add("not-editing"),e.addEventListener("mousedown",(e=>{if(2===e.button)return;const{_l:t}=kd();null!==t&&yd._l({...t,nc:!0})})),e},tp=(e=!1)=>{Zh?.();const{kl:t,Ol:n}=kd();if(t.Bi===Fe.fe)if(t.rc){const n=ep();e&&(n.dataset.needFocus="2");const r=Id((e=>{e._l&&(e._l.nc?n.classList.remove("not-editing"):n.classList.add("not-editing"))}));Zh=()=>{Zh=null,r(),yd._l(null)},n.value="= "+t.oc,n.addEventListener("input",(()=>{const{kl:e,_l:t}=kd();e.Bi===Fe.fe&&e.rc&&null!==t&&(yd._l({...t,nc:!0}),yd.Gl(Fe.fe,{oc:n.value.startsWith("= ")?n.value.slice(2):n.value,lc:!0}))})),yd._l({fs:Tn(Xh,{tc:t.oc}),ac:n,nc:!1})}else switch(t.Kl){case vh.Ms:case vh.Rs:case vh.Ts:{const r=ep();e&&(r.dataset.needFocus="1"),r.style.textAlign=t.Kl===vh.Ms&&n.alignNumberRight?"right":"left",r.style.color=wh(t.Kl);const o=Id((e=>{e._l&&(e._l.nc?r.classList.remove("not-editing"):r.classList.add("not-editing")),e.kl.Bi!==Fe.fe||e.kl.rc||(r.style.color=wh(e.kl.Kl),r.style.textAlign=e.kl.Kl===vh.Ms&&e.Ol.alignNumberRight?"right":"left")}));Zh=()=>{Zh=null,o(),yd._l(null)},r.value=t._s.ks,r.addEventListener("input",(()=>{const{kl:e,_l:t}=kd();if(e.Bi===Fe.fe&&!e.rc&&null!==t)if(yd._l({...t,nc:!0}),e.Kl===vh.Ts){const{Li:t}=kd().vl;yd.Gl(Fe.fe,{_s:{...e._s,ks:r.value},lc:!0,Kl:yh(r.value,Cu(t,e.P).type)})}else yd.Gl(Fe.fe,{_s:{...e._s,ks:r.value},lc:!0})})),yd._l({fs:Tn(sh.ss,{cs:"block",Gt:hh.Ls(t._s,t.Kl)}),ac:r,nc:!1});break}case vh.Is:case vh.oo:case vh.As:Zh=()=>{Zh=null,yd._l(null)},yd._l({fs:null,ac:null,nc:!1})}},np=Fe.K;var rp=(e=>(e[e.sc=1],e[e.cc=2],e[e.$c=3],e[e.uc=4],e))(rp||{});const op=(e,t)=>{Zh?.();const{Li:n}=kd().vl;switch(t??="virtual"===n.type?1:void 0!==e?2:1,t){case 1:if(!Nu(n.type))return;break;case 2:if(!Ou(n.type))return;break;case 3:if(!Au(n.type))return;break;case 4:if(!Lu(n.type))return}n.type,"table"!==n.type&&"virtual"!==n.type||yd.kl({Bi:np,dc:t,fc:e??"",hc:{S:"name",L:"TEXT",A:!1,F:!1,O:!1,D:!1,U:"",B:{N:"",P:""}},mc:e??"",Hi:n.name,bc:null})},ip=(...e)=>{switch(He){case"ja":case"ko":case"zh-CN":case"zh-TW":return e.filter((e=>""!==e)).join("");default:return e.filter((e=>""!==e)).join(" ")}},lp=new Map([[1,[Nu,"RENAME TO"]],[2,[Ou,"RENAME COLUMN"]],[3,[Au,"ADD COLUMN"]],[4,[Lu,"DROP COLUMN"]]]),ap=e=>[...lp.entries()].find((([,[,t]])=>t===e))[0],sp=e=>Tn("div",{class:"flex mb-1 [font-size:90%]",children:[Tn("div",{class:Dt("px-2 border-b-[2.5px] border-solid",e.wc?"font-bold border-b-neutral-500":"cursor-pointer hover:border-b-neutral-300 text-neutral-700 hover:text-neutral-900"),onClick:()=>{e.wc||e.Ro(!0)},"data-testid":void 0,children:[Tn(qn,{Ee:"mr-2"}),"Form"]}),Tn("div",{class:Dt("px-2 border-b-[2.5px] border-solid",e.wc?"cursor-pointer hover:border-b-neutral-300 text-neutral-700 hover:text-neutral-900":"font-bold border-b-neutral-500"),onClick:()=>{e.wc&&e.Ro(!1)},"data-testid":void 0,children:[Tn(Bn,{Ee:"mr-2"}),"Code"]}),Tn("div",{class:"flex-1"})]});ma("bfc3b384-fcaf-4c16-858c-d5d1a3f93291",12,(async e=>{null!==e&&await yd.Wl.xi({name:e}),op(void 0,1),Ih(),(await Aa.un())?.focus()}));const cp=new ys("stmt.alterTableRenameColumn",(()=>{const e=kd().kl;return e.Bi===Fe.K&&2===e.dc}),Id),$p=new ys("stmt.alterTableAddColumn",(()=>{const e=kd().kl;return e.Bi===Fe.K&&3===e.dc}),Id),up=new ys("stmt.alterTableRenameTo",(()=>{const e=kd().kl;return e.Bi===Fe.K&&1===e.dc}),Id),dp=Ss("focus.input.tableName",(e=>e.id===cs.$n)),fp=Ss("focus.input.addColumn",(e=>e.id===Oa.$n)),hp=Ss("focus.input.columnName",(e=>e.id===Ua.$n));Ds.Te(Os.vn,"Enter",(async()=>{await Ig()}),[cp,hp],!0),Ds.Te(Os.gn,"Enter",(async()=>{await Ig()}),[$p,fp],!0),Ds.Te(Os.yn,"Enter",(async()=>{await Ig()}),[up,dp],!0);const pp=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>{const e=Sd((e=>e.vl.Li)),t=Sd((e=>e.kl.Bi===np));return Nu(e.type)||Ou(e.type)||Lu(e.type)||Au(e.type)?Tn(cu,{jo:t,Ce:()=>{op(void 0)},St:Ur.je,Nt:"ALTER TABLE"}):Tn(Zt,{})},vc:(e,t,n)=>{const{Li:r}=kd().vl;var o,i;if("no table selected"!==r.type&&"custom query"!==r.type)switch(t.dc){case 1:{if(!Nu(r.type))return;if(""===t.Hi)return;if(t.Hi===r.name)return;const n=((e,t)=>{const n=ye(e),r=ye(t);return{q:`ALTER TABLE ${n} RENAME TO ${r}`,W:`ALTER TABLE ${r} RENAME TO ${n}`}})(r.name,t.Hi);e.Te([n.q,[],"read_write",Oe],null,null,[n.W,[],"read_write",Oe],{gc:kg.yc,xc:t.Hi});break}case 2:{if(!Ou(r.type))return;if(""===t.fc||""===t.mc)return;if(t.fc===t.mc)return;if(!r.columns.some((e=>e.name===t.fc)))return{Ec:je("The column {{- name}} does not exist.",{name:ye(t.fc)})};if(r.columns.some((e=>e.name.toLowerCase()===t.mc.toLowerCase())))return{Ec:ip(je("The column {{- name}} already exists.",{name:ye(t.mc)}),r.columns.some((e=>e.name===t.mc))?"":je("Identifiers in SQL are case insensitive."))};const n=((e,t,n)=>{const r=ye(e),o=ye(t),i=ye(n);return{q:`ALTER TABLE ${r} RENAME COLUMN ${o} TO ${i}`,W:`ALTER TABLE ${r} RENAME COLUMN ${i} TO ${o}`}})(r.name,t.fc,t.mc);e.Te([n.q,[],"read_write",Oe],null,null,[n.W,[],"read_write",Oe],{gc:kg.yc});break}case 4:{if(!Lu(r.type))return;if(""===t.fc)return;if(!r.columns.some((e=>e.name===t.fc)))return{Ec:je("The column {{- name}} does not exist.",{name:ye(t.fc)})};if(1===r.columns.length)return{Ec:je("No other columns exist.")};const n=(o=r.name,i=t.fc,{q:`ALTER TABLE ${ye(o)} DROP COLUMN ${ye(i)}`});e.Cc([n.q,[],"read_write",Oe],{gc:kg.yc});break}case 3:if(!Au(r.type))return;if(null!==t.bc){if(""===t.bc.trim())return;const e=fe("ColumnDefinition",t.bc.trim());if(null===e)return{Ec:je("Invalid column definition.")};const n=e.columnName.name;if(r.columns.some((e=>e.name.toLowerCase()===n.toLowerCase())))return{Ec:je("The column {{- name}} already exists.",{name:n})}}else{if(""===t.hc.S)return;if(r.columns.some((e=>e.name.toLowerCase()===t.hc.S.toLowerCase())))return{Ec:ip(je("The column {{- name}} already exists.",{name:ye(t.hc.S)}),r.columns.some((e=>e.name===t.hc.S))?"":je("Identifiers in SQL are case insensitive."))}}try{const n=null!==t.bc?De(r.name,t.bc):De(r.name,Ce(t.hc),t.hc.S);e.Te([n.q,[],"read_write",Oe],null,null,[n.W,[],"read_write",Oe],{gc:kg.yc})}catch(HE){if(HE instanceof Ae)return{Ec:je("Invalid column definition.")};throw HE}}},Ml:()=>op(void 0),Tc:e=>!1,ya:op,Bi:np,_c:(e,t,n)=>{const r=Sd((e=>e.vl.Li.type));return{kc:Tn(Zt,{children:[Tn(Jh,{Nt:"ALTER TABLE"}),null!==t.name&&Tn(Zt,{children:[ye(t.name)," ",Tn(xu,{Gt:(o=e.dc,lp.get(o)[1]),Ro:e=>{yd.Gl(Fe.K,{dc:ap(e)})},ei:Object.fromEntries([...lp.values()].filter((([e])=>e(r))).map((([,e])=>[e,{}])))})," ",1===e.dc&&Tn("input",{id:Aa.$n,placeholder:"table-name",value:e.Hi,onInput:e=>{yd.Gl(Fe.K,{Hi:e.currentTarget.value})},"data-testid":void 0}),(2===e.dc||4===e.dc)&&Tn("input",{placeholder:"column-name",value:e.fc,onInput:e=>{yd.Gl(Fe.K,{fc:e.currentTarget.value})}}),2===e.dc&&Tn(Zt,{children:[" TO ",Tn("input",{placeholder:"column-name",value:e.mc,onInput:e=>{yd.Gl(Fe.K,{mc:e.currentTarget.value})}})]})]})]}),Sc:Tn(Zt,{children:[3===e.dc&&Tn("div",{class:"bg-group-on-card-bg px-4 pt-1 pb-2 rounded",children:[Tn(sp,{wc:null===e.bc,Ro:t=>{if(t){if(null===e.bc)return;const t=(e=>{const t=fe("ColumnDefinition",e.trim());if(null===t)return null;let n;n=/\s\bTEXT\b/i.test(t.typeNameAndColumnConstraints)?"TEXT":/\s\b(INT|INTEGER)\b/i.test(t.typeNameAndColumnConstraints)?"INTEGER":/\s\bREAL\b/i.test(t.typeNameAndColumnConstraints)?"REAL":/\s\bBLOB\b/i.test(t.typeNameAndColumnConstraints)?"BLOB":"TEXT";const r=/\bPRIMARY\s+KEY\b/i.test(t.typeNameAndColumnConstraints);return{O:r,A:"INTEGER"===n&&r&&/\bAUTOINCREMENT\b/i.test(t.typeNameAndColumnConstraints),L:n,U:"",B:{N:"",P:""},S:t.columnName.name,F:/\bNOT\s+NULL\b/i.test(t.typeNameAndColumnConstraints),D:/\bUNIQUE\b/i.test(t.typeNameAndColumnConstraints)}})(e.bc);t?yd.Gl(Fe.K,{bc:null,hc:t}):yd.Gl(Fe.K,{bc:null})}else yd.Gl(Fe.K,{bc:Ce(e.hc,!1)})}}),null!==e.bc&&Tn(Wf,{Da:"sql",Kl:"--string",Gt:e.bc,Na:2,Ro:e=>{yd.Gl(Fe.K,{bc:e})},Aa:"alterTableAddColumn"}),null===e.bc&&Tn(Bd,{Gt:e.hc,Ro:e=>{yd.Gl(Fe.K,{hc:e})},zi:t.strict,Ea:!0})]}),void 0!==n.Ic&&Tn("span",{class:"text-red-700",children:n.Ic.Ec}),Tn("div",{class:"mt-2",children:[Tn(Wh,{xi:n,Ce:e=>{n.Mc(e).catch($a)}}),Tn(Dd,{})]})]})};var o},AlterTableKeyword:rp,ctxFocusInputTableName:dp},Symbol.toStringTag,{value:"Module"})),mp=Fe.Y,bp=(e,t)=>{const n=vp(e,t),r=n.next();if(!r.value)return!0;const o=r.value.Rc.length;if(o<=1)return!1;for(const i of n)if(i.Rc.length!==o)return!1;return!0},wp=(e="")=>{if(Zh?.(),e){let t=",";for(const o of Gf)if(bp(e,o)){t=o;break}let n=!1;const r=vp(e,t).next().value;if(r){const o=kd().vl.Li.columns.filter((e=>0n===e.hidden)).map((e=>e.name));r.Rc.length!==o.length&&(e=o.slice(0,r.Rc.length).join(t)+"\n"+e,n=!0)}yd.kl({Bi:mp,ac:e,Nc:"ABORT",Lc:t,Oc:n})}else yd.kl({Bi:mp,ac:"",Nc:"ABORT",Lc:",",Oc:!1})};function*vp(e,t){if(1!==t.length)throw new Error;e=e.replaceAll("\r\n","\n");let n=!1;const r=[];let o=0,i=1;for(let l=0;l<e.length;l++){r[o]??="";const a=e[l];if(n)'"'===a?'"'===e[l+1]?r[o]+='"':n=!1:r[o]+=a;else switch(a){case'"':n=!0;break;case t:o++;break;case"\n":r.length>0&&(yield{Rc:[...r],Ac:i}),r.length=0,o=0;break;default:r[o]+=a}"\n"===a&&i++}r.length>0&&(yield{Rc:[...r],Ac:i})}Ds.Te(Os.Rn,"CtrlCmd + KeyV",(async()=>{const e=await ya();(await kd().Sl.Il(!0)).Jl||wp(e)}),[Is]);const gp=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>{const e=Sd((e=>e.kl.Bi===mp));return Tn(cu,{jo:e,Ce:()=>wp(),St:Tn(pr,{}),Nt:"Bulk Insert"})},vc:(e,t)=>{const{Li:n}=kd().vl;if(null===n.name)return{Ec:null};let r;switch(t.Nc){case"ABORT":r="";break;case"IGNORE":r=" OR IGNORE";break;case"REPLACE":r=" OR REPLACE"}const o=vp(t.ac,t.Lc);let i;if(t.Oc){const e=o.next();if(!e.value)return{Ec:null};i=e.value.Rc;const t=new Set(n.columns.filter((e=>0n===e.hidden)).map((e=>e.name))),r=e.value.Rc.filter((e=>!t.has(e)));if(r.length>0)return{Ec:je("Invalid column names in the header: {{- names }}",{names:r.join(", ")})}}else i=n.columns.filter((e=>0n===e.hidden)).map((e=>e.name));for(const l of function*(e,t,n,r){for(const{Rc:o,Ac:i}of r)o.length!==n.length&&(yield{qe:!0,Ac:i,nt:X(o)}),yield{qe:!1,Dc:`INSERT${t} INTO ${ye(e)} (${n.map((e=>ye(e))).join(", ")}) VALUES (${o.map((()=>"?")).join(", ")})`,Fc:o}}(n.name,r,i,o)){if(l.qe)return e.Xt(),{Ec:je("Incorrect number of columns in line {{- line }}: {{- json }}",{line:l.Ac,json:l.nt})};e.Cc([l.Dc,l.Fc,"read_write",Oe],{gc:kg.Uc,Bc:!0})}return{Ec:null}},Ml:()=>yd.Gl(Fe.Y,{ac:"",Nc:"ABORT"}),Tc:e=>e.ac.trim().length>0,ya:wp,Bi:mp,_c:(e,t,n)=>{const r=t.columns.filter((e=>0n===e.hidden));return{kc:Tn(Zt,{children:Tn(Jh,{Nt:"Bulk Insert"})}),Sc:Tn(Zt,{children:[Tn(au,{Nt:je("Input CSV data to insert:")}),Tn(Wf,{Da:`csv-${e.Lc}-${e.Oc?"with":"without"}-header`,Kl:"--string",La:e.ac?void 0:(e.Oc?r.map((e=>e.name)).join(e.Lc)+"\n":"")+r.map((e=>e.name+"1")).join(e.Lc)+"\n"+r.map((e=>e.name+"2")).join(e.Lc),Fa:!0,Gt:e.ac,Na:8,Ro:e=>{yd.Gl(Fe.Y,{ac:e})},Aa:"bulkInsert"}),Tn("div",{class:"mt-3",children:Tn(X$,{Co:e.Oc,Ro:()=>{yd.Gl(Fe.Y,{Oc:!e.Oc})},children:je("Use the first row as a header (missing columns will be filled with NULL)")})}),Tn("div",{class:"mt-3",children:Tn("label",{children:[je("Delimiter: "),Tn(xu,{Gt:e.Lc,ei:{",":{Nt:", (CSV)"},"\t":{Nt:"\\t (TSV)"},";":{},"|":{}," ":{Nt:"' ' (space)"}},Ro:e=>{yd.Gl(Fe.Y,{Lc:e})}})]})}),Tn("div",{class:"mt-2",children:[je("Conflict resolution: "),Tn(xu,{Ee:"inline-block ml-1 code-font",ei:{ABORT:{Nt:"ABORT (default)"},IGNORE:{Nt:"IGNORE"},REPLACE:{Nt:"REPLACE"}},Gt:e.Nc,Ro:e=>{yd.Gl(Fe.Y,{Nc:e})}})]}),Tn("p",{class:"italic mt-2",dangerouslySetInnerHTML:{__html:je("Each row is inserted in a separate transaction. If a column lacks a declared type ({{- columnAffinityLink }}), values are encoded as TEXT.",{columnAffinityLink:'<a class="text-sky-800 hover:text-sky-900 underline" target="_blank" rel="noopener noreferrer" href="https://www.sqlite.org/datatype3.html#type_affinity">column affinity</a>'})}}),null!==n.Ic.Ec&&Tn("pre",{class:"text-red-800",children:n.Ic.Ec}),Tn("div",{children:[Tn(Wh,{Ee:"mt-2",xi:n,Ce:e=>{n.Mc(e).catch($a)},mo:null!==n.Ic.Ec}),Tn(Dd,{})]})]})}}},Symbol.toStringTag,{value:"Module"})),yp=e=>{const t=Array.from(new Set(e));t.sort(((e,t)=>e>t?-1:e<t?1:0));const n=[],r=[];for(;t.length>=2;){const e=t.pop();if(e+1n===t.at(-1)){let r=t.pop();for(;t.length>0&&r+1n===t.at(-1);)r=t.pop();n.push([e,r])}else r.push(e)}return r.push(...t),{zc:n,Pc:r}};class xp{#k=[];#S=new Map;#h=new Map;#I=0;#M(){const e=new xp;var t;return e.#k=(t=this.#k,Array.from(t)),e.#S=new Map(this.#S),e.#h=new Map(this.#h),e.#I=this.#I,e}static build(){const e=new xp;return[e,e.Dt.bind(e)]}constructor(){}Dt(e){const t=e.size,n=this.#R(e),r=new Map;return o=>{const i=this.#h.get(o);if(void 0===i)return this.#h.set(o,n),void(this.#I+=t);const l=r.get(i);if(void 0!==l)return this.#h.set(o,l),void(this.#I+=this.#k[l].size-this.#k[i].size);const a=this.#R(new Set([...this.#k[i],...e]));r.set(i,a),this.#h.set(o,a),this.#I+=this.#k[a].size-this.#k[i].size}}#R(e){const t=JSON.stringify([...e]);let n=this.#S.get(t);return void 0===n&&(n=this.#k.length,this.#k.push(new Set(e)),this.#S.set(t,n)),n}Hc(e){const t=this.#h.get(e);return void 0===t?null:this.#k[t]}Vc(){return this.#h.keys()}*jc(){const e=this.#k.map((()=>new Array));for(const[t,n]of this.#h)e[n].push(t);for(const[t,n]of e.entries())0!==n.length&&(yield{Mi:this.#k[t],Gc:yp(n)})}get ge(){return this.#I}static qc(e){const t=e.filter((e=>null!==e));if(0===t.length)return new xp;if(1===t.length)return t[0];const n=t[0].#M();for(const r of t.slice(1)){const e=r.#k.map((e=>n.Dt(e)));for(const[t,n]of r.#h.entries())e[n](t)}return n}}const Ep=xp.qc.bind(xp),Cp=new WeakMap,Tp=()=>Tn("div",{class:"copyingIndicator fixed w-1/2 text-center left-[25%] bottom-4 py-1 text-fg-primary bg-primary bg-opacity-75 opacity-0 rounded backdrop-blur z-[--z-copying-indicator] select-none pointer-events-none",children:je("Copying...")});class _p{static async Wc(){return document.body.classList.add("copying"),await new Promise((e=>requestAnimationFrame(e))),await new Promise((e=>requestAnimationFrame(e))),new _p}constructor(){}dispose(){document.body.classList.remove("copying")}}const kp=e=>e?250:150,Sp=(e,t,n,r)=>e[t??""]?.[r]??kp(n),Ip=Ll(0,{Qc:[],Kc:JSON.stringify([])},((e,t)=>{const n=n=>{const{Cl:r,vl:{Li:o},columnWidths:i}=kd(),l=window.innerWidth;let a=0,s=0;const c=[];let $=-(n?.scrollLeft??0);for(const[e,t]of r.mi()){const n=$,r=Sp(i,o.name,1===o.columns.length,e);$+=r,n>l||$<0?(a++,s+=r,a>=1e3&&(c.push({Ci:!1,Yc:a,Ks:s}),a=0,s=0)):(a>0&&(c.push({Ci:!1,Yc:a,Ks:s}),a=0,s=0),c.push({Ci:!0,Jc:e,Xc:t}))}a>0&&c.push({Ci:!1,Yc:a,Ks:s});const u=JSON.stringify(c);t().Kc!==u&&e({Qc:c,Kc:u})};return{Zc:n,e$:e=>{const t=()=>n(e),r=Id(((e,n)=>{e.Cl===n.Cl&&e.vl===n.vl&&e.columnWidths===n.columnWidths&&e.Cl.wi===n.Cl.wi||t()}));window.addEventListener("resize",t),e?.addEventListener("scroll",t);let o=()=>{};if(null!==e){const n=new ResizeObserver(t);for(const t of e.children)n.observe(t,{box:"border-box"});o=()=>n.disconnect()}return()=>{r(),window.removeEventListener("resize",t),e?.removeEventListener("scroll",t),o()}}}})),Mp=async e=>{const t=kd.Wl();if("no table selected"===t.type)return 0;const{Oi:n}=t.al,r=Ld();if(e>=r+n){const t=e-n-r+1n;await yd.Wl.al({Oi:n+t})}else if(e<n){const t=-(e-n);await yd.Wl.al({Oi:n-t})}const o=kd().vl.al;return e=Me(e,0n,o.Ai.Fi-1n),Number(e-o.Oi)},Rp=e=>{const{Cl:t,vl:{Li:n},columnWidths:r}=kd();let o=0,i=0;for(const[c,$]of t.mi())if($<e)o+=Sp(r,n.name,1===n.columns.length,c);else{if($!==e)break;i+=Sp(r,n.name,1===n.columns.length,c)}const l=es.Pt();if(!l)return;const a=l.querySelector("th")?.getBoundingClientRect().width;if(void 0===a)return;const s=o+i-(l.clientWidth-a);l.scrollLeft<s&&(l.scrollLeft=s),o<l.scrollLeft&&(l.scrollLeft=o)},Np=()=>{const e=Sd.ma();return"no table selected"===e.type?Tn(Zt,{}):Tn(Zt,{children:Tn(cu,{Ce:()=>yd.Wl.Si({Ci:!e.Si.Ci}),St:Ur.ft,Nt:e.Si.Ci?je("Hide Find Widget"):je("Show Find Widget")})})},Lp=e=>{const t=Sd.ma();return"no table selected"===t.type?Tn(Zt,{}):Tn(Q$,{$n:e.$n,St:Ur.ft,Eo:je("Open Find Widget{{- key}}",{key:Ds.fo(Os.Nn)}),Co:t.Si.Ci,Ce:e=>yd.Wl.Si({Ci:e}),xo:e=>iu(e,Tn(Np,{})),"data-testid":void 0,children:je("Find")})},Op=(Up={previousValueForColumnsToInclude:"",previousValueForColumnsToExclude:"",visible:!1},Bp={zt:"g:searchDetailsVisibility",Bt:ka(),Ft:["previousValueForColumnsToInclude","previousValueForColumnsToExclude","visible"]},zp=(e,t)=>({toggle:async()=>{const n=!t().visible;if(n)await yd.Wl.Si({_i:t().previousValueForColumnsToInclude,ki:t().previousValueForColumnsToExclude}),e({visible:n});else{const t=kd.Wl();"no table selected"===t.type?e({visible:n}):e({visible:n,previousValueForColumnsToInclude:t.Si._i,previousValueForColumnsToExclude:t.Si.ki}),await yd.Wl.Si({_i:"",ki:""})}}}),Rl(0,((e,t)=>({...Up,...zp(e,t)})),Bp)),Ap=()=>{const e=Sd.ma(),t=Ai(null),n=Ai(null),r=Op((e=>e.visible));Li((()=>{t.current.focus(),t.current.select()}),[]);const o=Ai(!0);Li((()=>{o.current?o.current=!1:r?(n.current?.focus(),n.current?.select()):(t.current?.focus(),t.current?.select())}),[r]);const i=Sd((e=>{const t=kd.Wl(e);if("no table selected"===t.type)return null;let n="",r="";const o=new Set(e.vl.Li.columns.map((e=>e.name)));for(const i of t.Si._i.split(","))""!==i&&(o.has(i)||(n+=je("Column {{- name }} does not exist.",{name:ye(i)})));for(const i of t.Si.ki.split(","))""!==i&&(o.has(i)||(r+=je("Column {{- name }} does not exist.",{name:ye(i)})));return{t$:n,n$:r}}),Ml);if("no table selected"===e.type)return Tn(Zt,{});const{Gt:l,Ne:a,Ti:s,ut:c,_i:$,ki:u}=e.Si;return Tn("div",{class:"inline-block pl-2 pr-1 py-1 bg-neutral-200 shadow-md whitespace-nowrap sticky right-3",children:[Tn("div",{class:"flex",children:[Tn("input",{id:qa.$n,ref:t,class:"mr-1 flex-1 min-w-[200px]",placeholder:je("Find"),value:l,onChange:e=>{yd.Wl.Si({Gt:e.currentTarget.value}).catch($a)}}),Tn(Dp,{r$:je("Match Case{{- key}}",{key:Ds.fo(Os.Ln)}),Co:a,Ce:()=>yd.Wl.Si({Ne:!a}),St:Ur.Ne}),Tn(Dp,{r$:je(c?"Match Whole Word{{- key}}":"Match Whole Value{{- key}}",{key:Ds.fo(Os.On)}),Co:s,Ce:()=>yd.Wl.Si({Ti:!s}),St:Ur.kt}),Tn(Dp,{r$:je("Use Regular Expression{{- key}}",{key:Ds.fo(Os.An)}),Co:c,Ce:()=>yd.Wl.Si({ut:!c}),St:Ur.ut}),Tn(Dp,{r$:je("Show/Hide Search Details{{- key}}",{key:Ds.fo(Os.Dn)}),Co:r,Ce:()=>{Op.Pt().toggle().catch($a)},St:Ur.Ge}),Tn(Dp,{r$:je("Close (Escape)"),Co:!1,Ce:()=>yd.Wl.Si({Ci:!1}),St:Ur.Fe})]}),r&&Tn("div",{class:"text-left pt-1",children:[Tn("div",{class:"flex",children:[Tn(Zn,{ge:"1.25em"}),Tn("span",{class:"opacity-80 mr-2 [letter-spacing:-0.1px]",children:je("columns to include")}),Tn(Fp,{Ca:Wa.$n,qe:void 0!==i?.t$,o$:n,Gt:$,Ro:e=>{yd.Wl.Si({_i:e}).catch($a)},i$:Qa.$n})]}),void 0!==i?.t$&&Tn("div",{class:"w-full o  verflow-auto text-red-700",children:i.t$})]}),r&&Tn("div",{class:"text-left pt-1",children:[Tn("div",{class:"flex",children:[Tn(er,{ge:"1.25em"}),Tn("span",{class:"opacity-80 mr-2 [letter-spacing:-0.1px]",children:je("columns to exclude")}),Tn(Fp,{Ca:Ka.$n,qe:void 0!==i?.n$,Gt:u,Ro:e=>{yd.Wl.Si({ki:e}).catch($a)},i$:Ya.$n})]}),void 0!==i?.n$&&Tn("div",{class:"w-full overflow-auto text-red-700",children:i.n$})]})]})},Dp=e=>Tn(G$,{baseClass:"span",content:e.r$,class:Dt("[font-size:120%] align-middle select-none px-[3px] [border-radius:1px] inline-block cursor-pointer",e.Co?"bg-blue-400 bg-opacity-40 text-neutral-800":"text-neutral-600 hover:bg-neutral-300"),onClick:e.Ce,children:["number"==typeof e.St&&Tn(Br,{St:e.St}),"number"!=typeof e.St&&e.St]}),Fp=e=>{const t=Sd((e=>e.vl.Li.columns)),n=e.Gt.includes(",")?e.Gt.slice(0,e.Gt.lastIndexOf(",")+1):"",r=!!e.qe;return Tn(Zt,{children:[Tn("input",{id:e.Ca,class:Dt("flex-1 min-w-[250px]",r&&" !outline !outline-2 !outline-red-300 !outline-offset-0"),ref:e.o$,placeholder:"column1,column2,...",value:e.Gt,onChange:t=>{e.Ro(t.currentTarget.value)},list:e.i$}),Tn("datalist",{id:e.i$,children:t.map((e=>Tn("option",{value:n+e.name},e.name)))})]})};var Up,Bp,zp;Ds.Te(Os.Nn,"CtrlCmd + KeyF",(async()=>{const e=kd.Wl();if("no table selected"!==e.type)if(e.Si.Ci){const e=qa.Pt();e&&(e.focus(),e.select())}else await yd.Wl.Si({Ci:!0})}),[]);const Pp=Ss("focus.input.findWidget",(e=>e instanceof HTMLInputElement&&(e.id===qa.$n||e.id===Wa.$n||e.id===Ka.$n)));Ds.Te(Os.mn,"Escape",(async e=>{e.jl.blur(),await yd.Wl.Si({Ci:!1})}),[Pp],!0),Ds.Te(Os.Ln,"Alt + KeyC",(async()=>{const e=kd.Wl();"no table selected"!==e.type&&await yd.Wl.Si({Ne:!e.Si.Ne})}),[Pp]),Ds.Te(Os.On,"Alt + KeyW",(async()=>{const e=kd.Wl();"no table selected"!==e.type&&await yd.Wl.Si({Ti:!e.Si.Ti})}),[Pp]),Ds.Te(Os.An,"Alt + KeyR",(async()=>{const e=kd.Wl();"no table selected"!==e.type&&await yd.Wl.Si({ut:!e.Si.ut})}),[Pp]),Ds.Te(Os.Dn,"Alt + KeyD",(async()=>{await Op.Pt().toggle()}),[Pp]),ma("b89bbcec-490e-44fa-8921-8ecd1fea27a0",8,(async()=>{const e=kd.Wl();"no table selected"!==e.type&&await yd.Wl.Si({Ci:!e.Si.Ci})}));const Hp=(e,t,n)=>e<=t?t:null!==n&&e>=n?n:e;class Vp extends Event{constructor(e,t){super(e),this.delta=t}}const jp="13px";let Gp=class extends HTMLElement{#N;#L;#O;#A=0;#D=100;#I=30;#x=0;static get observedAttributes(){return["min","max","size","value"]}#F;#U(){return this.#F?"height":"width"}#B(){return this.#F?"width":"height"}#z(){return this.#F?"vw":"vh"}#P(){return this.#F?"left":"top"}#H(){return this.#F?"X":"Y"}constructor(e){super(),this.#F=e,this.#N=this.attachShadow({mode:"open"}),this.#N.innerHTML=`<style>\n:host {\n    display: block;\n    ${this.#B()}: 20${this.#z()};\n    line-height: 0;\n}\n.handle {\n    position: relative;\n    background: var(--scrollbar-handle);\n    ${this.#U()}: ${jp};\n    top: 0;\n    z-index: 1;\n    border-radius: 1px;\n}\n.background:hover > .handle {\n    background: var(--scrollbar-handle-hover-weak);\n}\n.background > .handle:hover {\n    background: var(--scrollbar-handle-hover);\n}\n.background > .handle:active {\n    background: var(--scrollbar-handle-active);\n}\n.background {\n    ${this.#B()}: 100%;\n    display: inline-block;\n    background: var(--scrollbar-bg);\n}\n</style>\n<div class="background" id="${Da.$n}"><div class="handle" id="${Ja.$n}"></div></div>\n`,this.#L=Ja.Pt(this.#N),this.#O=Da.Pt(this.#N);const t=e=>{const t=e[`page${this.#H()}`],n=this.#x;Pu((e=>{if("inf"===this.#D)return;e.stopImmediatePropagation();const r=this.#x,o=e[`page${this.#H()}`],i=this.#O.getBoundingClientRect()[this.#B()]-this.#L.getBoundingClientRect()[this.#B()];this.value=n+(o-t)/i*(this.#D-this.#A-this.#I),Math.round(this.#x)!==Math.round(r)&&this.dispatchEvent(new Vp("change",this.#x-r))}))};this.#L.addEventListener("mousedown",(e=>{"inf"!==this.#D&&(this.dispatchEvent(new Event("handleMousedown")),e.stopImmediatePropagation(),t(e))})),this.#O.addEventListener("mousedown",(e=>{if("inf"===this.#D)return;this.dispatchEvent(new Event("backgroundMousedown")),e.preventDefault();const n=this.#O.getBoundingClientRect(),r=this.#L.getBoundingClientRect(),o=this.#x;this.value=(e[`client${this.#H()}`]-n[this.#P()]-r[this.#B()]/2)/(n[this.#B()]-r[this.#B()])*(this.#D-this.#A-this.#I)+this.#A,Math.round(this.#x)!==Math.round(o)&&this.dispatchEvent(new Vp("change",this.#x-o)),t(e)})),this.#V()}attributeChangedCallback(e,t,n){switch(e){case"min":return void(this.min=+(n??0));case"max":return void(this.max=+(n??100));case"size":return void(this.size=+(n??30));case"value":return void(this.value=+(n??0))}}get min(){return this.#A}get max(){return this.#D}get size(){return this.#I}get value(){return this.#x}wheel(e){const t=this.#x;this.value+=e,this.dispatchEvent(new Vp("change",this.#x-t))}#j(){this.#x=Hp(this.#x,this.#A,"inf"===this.#D?null:this.#D-this.#I),this.#V()}set min(e){e=+e,Number.isFinite(e)&&(this.#A=e,this.#j())}set max(e){("inf"===e||(e=+e,Number.isFinite(e)))&&(this.#D=e,this.#j())}set size(e){e=+e,Number.isFinite(e)&&(this.#I=e,this.#j())}set value(e){e=+e,Number.isFinite(e)&&(this.#x=Hp(e,this.#A,"inf"===this.#D?null:this.#D-this.#I),this.#V())}#V(){if("inf"===this.#D)return this.#L.style[this.#B()]="0%",void(this.#L.style[this.#P()]="0%");if(this.#D<=this.#A||this.#D-this.#A<=this.#I)this.#L.style[this.#B()]="100%",this.#L.style[this.#P()]="0%";else{const e=Hp(this.#I/(this.#D-this.#A)*100,10,100),t=(this.#x-this.#A)/(this.#D-this.#A-this.#I)*100*(1-e/100);this.#L.style[this.#B()]=e+"%",this.#L.style[this.#P()]=Number.isFinite(t)?Hp(t,0,100)+"%":"0%"}}};customElements.define("scrollbar-x-v1",class extends Gp{constructor(){super(!0)}}),customElements.define("scrollbar-y-v1",class extends Gp{constructor(){super(!1)}});const qp="13px";let Wp=class extends HTMLElement{#N;#L;#O;#G;#q;#W=null;#Q=null;#A=0;#D=100;#I=30;#K=30;#x=0;static get observedAttributes(){return["min","max","size","pageSize","value"]}#F;#U(){return this.#F?"height":"width"}#B(){return this.#F?"width":"height"}#Y(){return this.#F?"row":"column"}#z(){return this.#F?"vw":"vh"}#P(){return this.#F?"left":"top"}#H(){return this.#F?"X":"Y"}constructor(e){super(),this.#F=e,this.#N=this.attachShadow({mode:"open"});const t=this.#F?`<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevrons-left" width="${qp}" height="${qp}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n   <path d="M11 7l-5 5l5 5"></path>\n   <path d="M17 7l-5 5l5 5"></path>\n</svg>`:`<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevrons-up" width="${qp}" height="${qp}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n   <path d="M7 11l5 -5l5 5"></path>\n   <path d="M7 17l5 -5l5 5"></path>\n</svg>`,n=this.#F?`<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevrons-right" width="${qp}" height="${qp}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n   <path d="M7 7l5 5l-5 5"></path>\n   <path d="M13 7l5 5l-5 5"></path>\n</svg>`:`<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevrons-down" width="${qp}" height="${qp}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n   <path d="M7 7l5 5l5 -5"></path>\n   <path d="M7 13l5 5l5 -5"></path>\n</svg>`;this.#N.innerHTML=`<style>\n:host {\n    display: block;\n    ${this.#B()}: 20${this.#z()};\n    line-height: 0;\n}\n.handle {\n    position: relative;\n    background: var(--scrollbar-handle);\n    ${this.#U()}: ${qp};\n    top: 0;\n    z-index: 1;\n    border-radius: 1px;\n}\n.background:hover > .handle {\n    background: var(--scrollbar-handle-hover-weak);\n}\n.background > .handle:hover {\n    background: var(--scrollbar-handle-hover);\n}\n.background > .handle:active {\n    background: var(--scrollbar-handle-active);\n}\n.container {\n    position: relative;\n    ${this.#B()}: 100%;\n    display: inline-flex;\n    flex-direction: ${this.#Y()};\n    background: var(--scrollbar-bg);\n}\n.scroll-up,\n.scroll-down {\n    ${this.#B()}: ${qp};\n    background: var(--scrollbar-arrow);\n    opacity: 70%;\n    cursor: pointer;\n}\n.scroll-up:hover:not(:active),\n.scroll-down:hover:not(:active) {\n    background: var(--scrollbar-arrow);\n    opacity: 90%;\n}\n.background {\n    flex: 1;\n}\n</style>\n<div class="container"><div class="scroll-up" id="${as.$n}">${t}</div><div class="background" id="${Da.$n}"><div class="handle" id="${Ja.$n}"></div></div><div class="scroll-down" id="${ls.$n}">${n}</div></div>\n`,this.#L=Ja.Pt(this.#N),this.#O=Da.Pt(this.#N),this.#G=as.Pt(this.#N),this.#q=ls.Pt(this.#N);const r=e=>{const t=e[`page${this.#H()}`],n=this.#x;Pu((e=>{if("inf"===this.#D)return;e.stopImmediatePropagation();const r=this.#x,o=e[`page${this.#H()}`],i=this.#O.getBoundingClientRect()[this.#B()]-this.#L.getBoundingClientRect()[this.#B()];this.value=n+(o-t)/i*(this.#D-this.#A-this.#I),Math.round(this.#x)!==Math.round(r)&&this.dispatchEvent(new Vp("change",this.#x-r))}))};this.#L.addEventListener("mousedown",(e=>{"inf"!==this.#D&&(this.dispatchEvent(new Event("handleMousedown")),e.stopImmediatePropagation(),r(e))})),this.#O.addEventListener("mousedown",(e=>{if("inf"===this.#D)return;this.dispatchEvent(new Event("backgroundMousedown")),e.preventDefault();const t=this.#O.getBoundingClientRect(),n=this.#L.getBoundingClientRect(),o=this.#x;this.value=(e[`client${this.#H()}`]-t[this.#P()]-n[this.#B()]/2)/(t[this.#B()]-n[this.#B()])*(this.#D-this.#A-this.#I)+this.#A,Math.round(this.#x)!==Math.round(o)&&this.dispatchEvent(new Vp("change",this.#x-o)),r(e)})),this.#G.addEventListener("click",(()=>{const e=this.#x;this.value-=this.#K,this.dispatchEvent(new Vp("change",this.#x-e)),this.dispatchEvent(new Event("scrollUpClick"))})),this.#q.addEventListener("click",(()=>{const e=this.#x;this.value+=this.#K,this.dispatchEvent(new Vp("change",this.#x-e)),this.dispatchEvent(new Event("scrollDownClick"))})),this.#V()}attributeChangedCallback(e,t,n){switch(e){case"min":return void(this.min=+(n??0));case"max":return void(this.max=+(n??100));case"size":return void(this.size=+(n??30));case"pageSize":return void(this.pageSize=+(n??30));case"value":return void(this.value=+(n??0))}}get min(){return this.#A}get max(){return this.#D}get size(){return this.#I}get pageSize(){return this.#K}get value(){return this.#x}wheel(e){const t=this.#x;this.value+=e,this.dispatchEvent(new Vp("change",this.#x-t))}#j(){this.#x=Hp(this.#x,this.#A,"inf"===this.#D?null:this.#D-this.#I),this.#V()}set min(e){e=+e,Number.isFinite(e)&&(this.#A=e,this.#j())}set max(e){("inf"===e||(e=+e,Number.isFinite(e)))&&(this.#D=e,this.#j())}set size(e){e=+e,Number.isFinite(e)&&(this.#I=e,this.#j())}set pageSize(e){e=+e,Number.isFinite(e)&&(this.#K=e,this.#j())}set value(e){e=+e,Number.isFinite(e)&&(this.#x=Hp(e,this.#A,"inf"===this.#D?null:this.#D-this.#I),this.#V())}#J(){return this.#F?`Previous Page (${this.#K} columns)`:`Page Up (${this.#K} rows)`}#X(){return this.#F?`Next Page (${this.#K} columns)`:`Page Down (${this.#K} rows)`}#V(){if("inf"===this.#D)return this.#L.style[this.#B()]="0%",void(this.#L.style[this.#P()]="0%");if(this.#D<=this.#A||this.#D-this.#A<=this.#I)this.#L.style[this.#B()]="100%",this.#L.style[this.#P()]="0%";else{const e=Hp(this.#I/(this.#D-this.#A)*100,10,100),t=(this.#x-this.#A)/(this.#D-this.#A-this.#I)*100*(1-e/100);this.#L.style[this.#B()]=e+"%",this.#L.style[this.#P()]=Number.isFinite(t)?Hp(t,0,100)+"%":"0%"}this.#W?.setContent(this.#J()),this.#Q?.setContent(this.#X())}connectedCallback(){this.#W??=z$(this.#G,{content:this.#J()}),this.#Q??=z$(this.#q,{content:this.#X()})}disconnectedCallback(){this.#W?.destroy(),this.#Q?.destroy()}};customElements.define("scrollbar-x-v2",class extends Wp{constructor(){super(!0)}}),customElements.define("scrollbar-y-v2",class extends Wp{constructor(){super(!1)}});const Qp=Nl(0,{l$:window.editorVariables[7]}),Kp=e=>t=>{const[n,r]=Ri(null),o=Sd.ba();Li((()=>{if(!t.a$)return;const e=t.a$,r=e=>{e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||0!==e.deltaY&&(e.preventDefault(),n?.wheel(e.deltaY/30))},o={passive:!1};return e.addEventListener("wheel",r,o),()=>{e.removeEventListener("wheel",r,o)}}),[n,t.a$]);const[i,l]=Ri((()=>Number(Ld())));ta((()=>{l(Number(Ld()))}),200);const a={ref:r,min:0,max:"no table selected"===o.type?1:Number(o.al.Ai.Fi+o.al.Ui-1n),size:"no table selected"===o.type?1:o.al.Ui,pageSize:i,value:"no table selected"===o.type?1:Number(o.al.Oi),class:"h-full right-0 top-0 absolute",style:{width:1===e?jp:qp},onChange:()=>{n&&yd.Wl.al({Oi:BigInt(Math.round(n.value))}).catch($a)}};return Tn(1===e?"scrollbar-y-v1":"scrollbar-y-v2",{...a})},Yp=Kp(1),Jp=Kp(2),Xp=e=>{const t=Qp((e=>e.l$));return Tn(1===t?Yp:Jp,{a$:e.a$})},Zp=()=>{const e=Qp((e=>e.l$));return 1===e?jp:qp},em=e=>Array.from(e.entries()).sort(((e,t)=>e[1]!==t[1]?t[1]-e[1]:t[0].length-e[0].length)),tm=e=>{const t=JSON.parse(e);return"[[integer ticks]]"===t.options?.scales?.x?.ticks?.callback&&(t.options.scales.x.ticks.callback=e=>{if("number"==typeof e&&Number.isInteger(e))return e}),"[[integer ticks]]"===t.options?.scales?.y?.ticks?.callback&&(t.options.scales.y.ticks.callback=e=>{if("number"==typeof e&&Number.isInteger(e))return e}),t.plugins||(t.plugins=[]),t.options||(t.options={}),t.options.plugins||(t.options.plugins={}),t.options.plugins.customCanvasBackgroundColor={color:"white"},t.plugins.push({id:"customCanvasBackgroundColor",beforeDraw:(e,t,n)=>{const{ctx:r}=e;r.save(),r.globalCompositeOperation="destination-over",r.fillStyle=n.color,r.fillRect(0,0,e.width,e.height),r.restore()}}),t},nm=Nl(0,{s$:[]}),rm=Nl(0,{loading:!1,Chart:null}),om=e=>{const t=Ai(null),n=Ai(null),[r,o]=Ri({}),i=rm((e=>e.Chart));Li((()=>{if(!t.current)return;if(!i)return void(async()=>{if(rm.Pt().loading)return;rm.Dt({loading:!0});const{Chart:e,registerables:t}=await ze((()=>import("./chart-Bdu3F9s7.js")),[],import.meta.url);e.register(...t),rm.Dt({Chart:e})})().catch($a);let r=null;const o={current:!1};return null!==e.c$.config?r=new i(t.current,tm(e.c$.config)):(async()=>{try{let l;switch(e.c$.type){case"line plot":l=await(async(e,t)=>{t.innerText=je("Counting records...");const n=Number(Ia((await pa(`SELECT COUNT(*) as count FROM ${e.subquery}`,[],"read_only",Oe)).records.count[0])),r=Math.max(1,Math.floor(n/50));t.innerText=je("Accumulating records...");const o=`WITH rowNumbered AS (\n    SELECT\n        ${e.columns.map((e=>ye(e))).join(", ")},\n        (ROW_NUMBER() OVER (${e.orderByClause})) / ${r} AS __row_number\n    FROM ${e.subquery})\nSELECT\n    ${e.columns.map((e=>`avg(${ye(e)}) AS ${ye(1===r?e:`avg(${e}) grouped by every ${r} rows`)}`)).join(", ")},\n    __row_number * ${r} as __row_number\nFROM rowNumbered\nGROUP BY __row_number\nORDER BY __row_number ASC`,{records:i}=await pa(o,[],"read_only",Oe);return{matplotlib:`import contextlib\nimport sqlite3\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import MaxNLocator\n\nsns.set_style("darkgrid")\nwith contextlib.closing(sqlite3.connect(${JSON.stringify(await wa[30]())})) as con:\n    ax = pd.read_sql_query("""\n${o.replaceAll('"""','\\"\\"\\"')}\n""", con, index_col="__row_number").plot.line(xlabel="Row Number")\nax.xaxis.set_major_locator(MaxNLocator(integer=True))\nplt.tight_layout()\nplt.show()`,config:JSON.stringify({type:"line",data:{labels:i.__row_number.map((e=>Number(e))),datasets:Object.entries(i).filter((([e])=>"__row_number"!==e)).map((([e,t])=>({label:e,data:t.map((e=>Number(e)))})))},options:{animation:{duration:0},scales:{x:{title:{display:!0,text:"Row Number"}}}}})}})(e.c$,n.current);break;case"bar plot":l=await(async(e,t)=>{t.innerText=je("Querying...");const n=`SELECT\n    ${ye(e.columns[0])} AS __value,\n    COUNT(*) AS __count\nFROM ${e.subquery}\nGROUP BY __value\nORDER BY __count DESC\nLIMIT 8`,{records:r}=await pa(n,[],"read_only",Oe);return{matplotlib:`import contextlib\nimport sqlite3\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import MaxNLocator\n\nsns.set_style("darkgrid")\nwith contextlib.closing(sqlite3.connect(${JSON.stringify(await wa[30]())})) as con:\n    ax = pd.read_sql_query("""\n${n.replaceAll('"""','\\"\\"\\"')}\n""", con, index_col="__value").plot.barh(xlabel="Count", ylabel=${JSON.stringify(e.columns[0])})\nax.invert_yaxis()\nax.xaxis.set_major_locator(MaxNLocator(integer=True))\nax.set_xlim(0)\nplt.tight_layout()\nplt.show()`,config:JSON.stringify({type:"bar",data:{labels:r.__value.map((e=>String(e))),datasets:[{label:e.columns[0]+(r.__value.length===Number(8n)?" (top 8 values)":""),data:r.__count.map((e=>Number(e)))}]},options:{animation:{duration:0},indexAxis:"y",scales:{y:{ticks:{autoSkip:!1}},x:{title:{display:!0,text:"Count"},beginAtZero:!0,ticks:{callback:"[[integer ticks]]"}}}}})}})(e.c$,n.current)}if(!t.current)return null;if(o.current)return;n.current.innerText="Plotting...",nm.Dt({s$:H(nm.Pt().s$,(t=>{const n=t.find((t=>t.createdAt===e.c$.createdAt));n&&(n.config=l.config,n.matplotlib=l.matplotlib)}))}),r=new i(t.current,tm(l.config))}finally{n.current.innerText=""}})().catch($a),()=>{o.current=!0,r?.destroy()}}),[e.c$,r,i]);const[l,a]=Ri([0,0]),s=ra();return Tn("div",{class:"absolute w-96 z-[--z-chart] chart-js cursor-move text-always-black",style:{left:Math.min(l[0],s.width-50),top:Math.min(l[1],s.height-50)},onMouseDown:e=>{let t=e.pageX,n=e.pageY;const r=e.currentTarget;r.style.boxShadow="0 0 3px rgb(0, 0, 0, 0.5)",Pu((e=>{a((r=>[Math.min(Math.max(0,r[0]+e.pageX-t),s.width-382),Math.min(Math.max(0,r[1]+e.pageY-n),s.height-191)])),t=e.pageX,n=e.pageY}),(()=>{r.style.boxShadow=""}))},children:[Tn("canvas",{ref:t,onClick:e=>{e.stopImmediatePropagation()}}),Tn("div",{class:"absolute top-3 left-3 select-none pointer-events-none",ref:n}),Tn("div",{class:"absolute right-12 hover:bg-slate-400 hover:bg-opacity-30 rounded-sm px-1 cursor-pointer top-1 py-[0.15rem]",onClick:n=>{iu(n,Tn(lm,{c$:e.c$,$$:t.current}))},children:Tn(Br,{St:Ur.Ge})}),Tn("div",{title:je("Reload"),class:"absolute right-6 hover:bg-slate-400 hover:bg-opacity-30 rounded-sm px-1 cursor-pointer top-1 py-[0.15rem]",onClick:()=>{nm.Dt({s$:H(nm.Pt().s$,(t=>{const n=t.find((t=>t.createdAt===e.c$.createdAt));n&&(n.config=null)}))}),o({})},children:Tn(Br,{St:Ur.$t})}),Tn(J$,{Ce:()=>{nm.Dt({s$:nm.Pt().s$.filter((t=>t.createdAt!==e.c$.createdAt))})}})]})},im=()=>{const e=nm((e=>e.s$));return Tn(Zt,{children:e.map((e=>Tn(om,{c$:e},e.createdAt)))})},lm=e=>Tn(Zt,{children:[Tn(cu,{St:Ur.Be,Nt:je("Copy Image"),Ce:()=>{e.$$.toBlob((e=>{if(!e)return;const t=new ClipboardItem({"image/png":e});navigator.clipboard.write([t]).catch($a)}))}}),Tn(cu,{St:Ur.Be,Nt:je("Copy Matplotlib Code"),Ce:()=>{null!==e.c$.matplotlib&&ga(e.c$.matplotlib).catch($a)}}),Tn(cu,{St:Ur.Re,Nt:je("The plotting feature is experimental. It is not customizable yet and any added figures won't persist."),Ee:"w-[30rem] break-all whitespace-normal",mo:!0,Ce:()=>{}})]}),am=({Gt:e,Mi:t,Ce:n,Ee:r})=>{const o=Sd((e=>e.Ol["indexVisualization.maxColumns"])),i=new Map(e.map(((e,t)=>[e,t])));return t.length>=o?Tn(Zt,{}):Tn("span",{class:Dt("whitespace-nowrap",r),children:t.map(((t,r)=>{const o=i.get(t);return Tn(G$,{baseClass:"span",content:t,class:Dt("inline-block w-[10px] text-center select-none",!!n&&"hover:[box-shadow:#22d3ee_0_0_1px_1px_inset] cursor-pointer",void 0===o&&"bg-neutral-300 text-neutral-600",void 0!==o&&"bg-primary bg-opacity-80",void 0!==o&&1===e.length&&"text-transparent",void 0!==o&&e.length>1&&"text-fg-primary"),onClick:e=>{n?.(t,r,e)},children:void 0===o?"·":o+1})}))})},sm=e=>Tn("div",{class:Dt("bg-neutral-200 border border-neutral-300",e.Ee),children:e.children}),cm=e=>Tn("h3",{class:Dt("mb-2",e.Ee),children:[e.St,Tn("span",{class:"font-bold [font-size:100%] text-primary",children:e.Nt}),e.children]}),$m=e=>Tn(Q$,{$n:e.$n,Ee:"ml-2 [font-size:75%] align-text-bottom text-black bg-button-secondary rounded-sm font-normal whitespace-nowrap",Eo:e.Eo,Ce:e.Ce,St:e.St,"data-testid":e["data-testid"],children:e.children}),um=e=>{const t=!!(e={...e}).u$,n=!!e.ja,[r,o]=Ri(e.d$),i=Ai(null),l=Ai(null),a=Ai(null),s=Fi((()=>{if(!i.current||void 0===l.current?.scrollWidth)return;let n;l.current.innerText=i.current.value,n=void 0===e.La||""!==e.Gt&&!t?l.current.scrollWidth+2:Math.max(l.current.scrollWidth,a.current?.scrollWidth??0)+2,n+=e.f$??0,n=Math.max(n,e.d$??1),n!==r&&o(n)}),[r,e.f$,e.d$,e.La,t,e.Gt]);return Oi((()=>{if(i.current&&l.current){{const e=(e,t)=>({fontSize:t.fontSize,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontStyle:t.fontStyle,letterSpacing:t.letterSpacing,textTransform:t.textTransform}=e);e(window.getComputedStyle(i.current),l.current.style),a.current&&e(window.getComputedStyle(i.current),a.current.style)}s()}}),[s]),Li((()=>{n&&(i.current?.focus(),i.current?.select())}),[]),Li((()=>{s()})),Tn("div",{class:Dt("inline-block",e.Ee),style:e.bo,children:[Tn("input",{class:Dt("box-content",e.h$),id:e.$n,style:{width:r,...e.p$},ref:i,value:e.Gt,placeholder:e.La,onMouseDown:e._o,onMouseUp:e.m$,onChange:e.Ro,onKeyDown:e.b$,spellcheck:!1,autocomplete:"off","data-testid":e["data-testid"]}),Tn("div",{ref:l,class:"absolute top-0 left-0 invisible h-0 overflow-scroll whitespace-pre"}),void 0!==e.La&&Tn("div",{ref:a,class:"absolute top-0 left-0 invisible h-0 overflow-scroll whitespace-pre",children:e.La})]})};var dm={exports:{}};!function(e){var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},o.util.type(t)){case"Object":if(i=o.util.objId(t),n[i])return n[i];for(var l in r={},n[i]=r,t)t.hasOwnProperty(l)&&(r[l]=e(t[l],n));return r;case"Array":return i=o.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(HE){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(HE.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||o.languages)[e],l={};for(var a in i)if(i.hasOwnProperty(a)){if(a==t)for(var s in n)n.hasOwnProperty(s)&&(l[s]=n[s]);n.hasOwnProperty(a)||(l[a]=i[a])}var c=r[e];return r[e]=l,o.languages.DFS(o.languages,(function(t,n){n===c&&t!=e&&(this[t]=l)})),l},DFS:function e(t,n,r,i){i=i||{};var l=o.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],r||a);var s=t[a],c=o.util.type(s);"Object"!==c||i[l(s)]?"Array"!==c||i[l(s)]||(i[l(s)]=!0,e(s,n,a,i)):(i[l(s)]=!0,e(s,n,null,i))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var i,l=0;i=r.elements[l++];)o.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){var i=o.util.getLanguage(t),l=o.languages[i];o.util.setLanguage(t,i);var a=t.parentElement;a&&"pre"===a.nodeName.toLowerCase()&&o.util.setLanguage(a,i);var s={element:t,language:i,grammar:l,code:t.textContent};function c(e){s.highlightedCode=e,o.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,o.hooks.run("after-highlight",s),o.hooks.run("complete",s),r&&r.call(s.element)}if(o.hooks.run("before-sanity-check",s),(a=s.element.parentElement)&&"pre"===a.nodeName.toLowerCase()&&!a.hasAttribute("tabindex")&&a.setAttribute("tabindex","0"),!s.code)return o.hooks.run("complete",s),void(r&&r.call(s.element));if(o.hooks.run("before-highlight",s),s.grammar)if(n&&e.Worker){var $=new Worker(o.filename);$.onmessage=function(e){c(e.data)},$.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else c(o.highlight(s.code,s.grammar,s.language));else c(o.util.encode(s.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),i.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new s;return c(o,o.head,e),a(e,o,t,o.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function l(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function a(e,t,n,r,s,u){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var f=n[d];f=Array.isArray(f)?f:[f];for(var h=0;h<f.length;++h){if(u&&u.cause==d+","+h)return;var p=f[h],m=p.inside,b=!!p.lookbehind,w=!!p.greedy,v=p.alias;if(w&&!p.pattern.global){var g=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,g+"g")}for(var y=p.pattern||p,x=r.next,E=s;x!==t.tail&&!(u&&E>=u.reach);E+=x.value.length,x=x.next){var C=x.value;if(t.length>e.length)return;if(!(C instanceof i)){var T,_=1;if(w){if(!(T=l(y,E,e,b))||T.index>=e.length)break;var k=T.index,S=T.index+T[0].length,I=E;for(I+=x.value.length;k>=I;)I+=(x=x.next).value.length;if(E=I-=x.value.length,x.value instanceof i)continue;for(var M=x;M!==t.tail&&(I<S||"string"==typeof M.value);M=M.next)_++,I+=M.value.length;_--,C=e.slice(E,I),T.index-=E}else if(!(T=l(y,0,C,b)))continue;k=T.index;var R=T[0],N=C.slice(0,k),L=C.slice(k+R.length),O=E+C.length;u&&O>u.reach&&(u.reach=O);var A=x.prev;if(N&&(A=c(t,A,N),E+=N.length),$(t,A,_),x=c(t,A,new i(d,m?o.tokenize(R,m):R,v,R)),L&&c(t,x,L),_>1){var D={cause:d+","+h,reach:O};a(e,t,n,x.prev,E,D),u&&D.reach>u.reach&&(u.reach=D.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function $(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},l=t.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(i.classes,l):i.classes.push(l)),o.hooks.run("wrap",i);var a="";for(var s in i.attributes)a+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+a+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,l=n.immediateClose;e.postMessage(o.highlight(i,o.languages[r],r)),l&&e.close()}),!1),o):o;var u=o.util.currentScript();function d(){o.manual||o.highlightAll()}if(u&&(o.filename=u.src,u.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var f=document.readyState;"loading"===f||"interactive"===f&&u&&u.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=t),void 0!==Dl&&(Dl.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(void 0!==t&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",r="loading",o="loaded",i="pre[data-src]:not(["+n+'="'+o+'"]):not(['+n+'="'+r+'"])';t.hooks.add("before-highlightall",(function(e){e.selector+=", "+i})),t.hooks.add("before-sanity-check",(function(l){var a=l.element;if(a.matches(i)){l.code="",a.setAttribute(n,r);var s=a.appendChild(document.createElement("CODE"));s.textContent="Loading…";var c=a.getAttribute("data-src"),$=l.language;if("none"===$){var u=(/\.(\w+)$/.exec(c)||[,"none"])[1];$=e[u]||u}t.util.setLanguage(s,$),t.util.setLanguage(a,$);var d=t.plugins.autoloader;d&&d.loadLanguages($),function(e,r,i){var l=new XMLHttpRequest;l.open("GET",e,!0),l.onreadystatechange=function(){4==l.readyState&&(l.status<400&&l.responseText?function(e){a.setAttribute(n,o);var r=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),r=t[2],o=t[3];return r?o?[n,Number(o)]:[n,void 0]:[n,n]}}(a.getAttribute("data-range"));if(r){var i=e.split(/\r\n?|\n/g),l=r[0],c=null==r[1]?i.length:r[1];l<0&&(l+=i.length),l=Math.max(0,Math.min(l-1,i.length)),c<0&&(c+=i.length),c=Math.max(0,Math.min(c,i.length)),e=i.slice(l,c).join("\n"),a.hasAttribute("data-start")||a.setAttribute("data-start",String(l+1))}s.textContent=e,t.highlightElement(s)}(l.responseText):l.status>=400?i("✖ Error "+l.status+" while fetching file: "+l.statusText):i("✖ Error: File does not exist or is empty"))},l.send(null)}(c,0,(function(e){a.setAttribute(n,"failed"),s.textContent=e}))}})),t.plugins.fileHighlight={highlight:function(e){for(var n,r=(e||document).querySelectorAll(i),o=0;n=r[o++];)t.highlightElement(n)}};var l=!1;t.fileHighlight=function(){l||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),l=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}(dm);const fm=Fl(dm.exports);Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};const hm=e=>{if(!fm.languages.sql)throw new Error("Prism.languages.sql is not loaded.");return Jt(e.w$,{onClick:e.Ce,class:Dt(`prism-${e.v$??"color"}`,"code"!==e.w$&&"code-font",e.Ee),dangerouslySetInnerHTML:{__html:fm.highlight(e.Ue,fm.languages.sql,"sql")},onMouseEnter:e.ti,onMouseLeave:e.ni},[])},pm=()=>{const e=Sd((e=>e.kl.Bi===Fe.X)),t=Sd((e=>e.Ol["indexVisualization.maxColumns"])),n=Sd((e=>e.vl.Li)),r=Sd((e=>e.cl===ud.Gi));return Tn("div",{class:"px-2 pb-2",children:(Ru(n.type)||n.indexes.length>0)&&Tn("section",{children:[Tn(cm,{Nt:"Index",St:Tn(lr,{}),children:[r&&!e&&Tn($m,{Eo:je("Create Index"),Ce:async()=>{(await kd().Sl.Il(!1)).Jl||pg[Fe.X].ya()},St:Ur.Te,"data-testid":void 0,children:je("Add")}),e&&Tn($m,{Ce:async()=>{await Ud()},St:Ur.Fe,"data-testid":void 0,children:je("Close")})]}),Tn("div",{class:"mb-2",children:[Tn(wm,{}),n.indexes.map(((e,t)=>Tn(mm,{Xa:e},t)))]}),Tn("span",{class:"italic opacity-70",children:n.indexes.length>0&&n.columns.length>=t&&je('Index visualization has been disabled. The table contains {{- numColumns }} columns, which exceeds the limit set by "sqlite3-editor.ui.indexVisualization.maxColumns".',{numColumns:n.columns.length})})]})})},mm=({Xa:e})=>{const t=Sd((e=>e.vl.Li)),n=Sd((e=>e.Fl)),r=Sd((t=>t.kl.Bi===Fe.se&&t.kl.g$===e.name?t.kl.y$:null)),o=null!==e.schema?e.schema:"CREATE "+eh(e,t.name??""),i=fe("CreateIndexStatement",o),l=Fi((t=>{if(t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLInputElement)return;const n=window.getSelection();n&&0!==n.rangeCount&&n.isCollapsed&&iu(t,Tn(bm,{Xa:e}))}),[e]);return Tn("div",{class:Dt("index cursor-pointer flex gap-2",n===e.name&&"bg-neutral-400 bg-opacity-[0.12]"),onMouseEnter:()=>{yd.Fl(e.name)},onMouseLeave:()=>{yd.Fl(null)},onClick:l,onContextMenu:l,children:[Tn("div",{children:Tn(am,{Ee:"cursor-default",Gt:e.columns.flatMap((e=>null!==e.name?[e.name]:[])),Mi:t.columns.map((e=>e.name))})}),Tn("div",{class:"flex-1 relative overflow-x-auto",children:[i?Tn(Zt,{children:[Tn(hm,{w$:"pre",Ee:"select-text inline",Ue:pe(i)}),null!==r?Tn(um,{$n:os.$n,Gt:r,Ro:e=>{yd.Gl(Fe.se,{y$:e.currentTarget.value})},ja:!0}):Tn(G$,{baseClass:"span",content:je("Click to rename"),onClick:t=>{t.stopImmediatePropagation(),pg[Fe.se].ya(e.name)},children:Tn(hm,{w$:"pre",Ee:"select-text inline underline decoration-dotted hover:decoration-solid cursor-pointer",Ue:i.indexName.text})}),Tn(hm,{w$:"pre",Ee:"select-text inline",Ue:me(i)})]}):Tn(hm,{w$:"pre",Ee:"select-text",Ue:o}),Tn(J$,{Ee:"index-close-button hidden",Oo:!0,Eo:je("Drop Index"),Ce:t=>{t.stopImmediatePropagation(),pg[Fe.ne].ya(e.name),Mg().catch($a)}})]})]})},bm=({Xa:e})=>{const t=Sd((e=>e.vl.Li.name)),n=Sd((e=>e.cl===ud.Gi));return Tn(Zt,{children:[Tn(au,{St:Tn(lr,{}),Nt:je("Index")}),n&&Tn(cu,{St:Ur.je,Nt:je("Rename"),Ce:()=>{pg[Fe.se].ya(e.name)}}),n&&Tn(cu,{St:Ur.Et,Nt:je("Drop"),Ce:()=>{pg[Fe.ne].ya(e.name),Mg().catch($a)}}),Tn("hr",{}),Tn(cu,{St:Ur.Be,Nt:je("Copy Index Name"),Ce:()=>{e.name?ga(e.name).catch($a):null!==e.schema&&ga(fe("CreateIndexStatement",e.schema)?.indexName.name??"").catch($a)}}),Tn(cu,{St:Ur.Be,Nt:je("Copy Index Schema"),Ce:()=>{ga(null!==e.schema?e.schema:"CREATE "+eh(e,t??"")).catch($a)}})]})},wm=()=>{const e=Sd((e=>e.kl.Bi===Fe.X?e.kl:null)),t=Sd((e=>e.ul)),n=Sd((e=>e.vl.Li));if(null===e||"no table selected"===n.type)return Tn(Zt,{});const r=Sg.x$(e,t),{E$:o,C$:i}=pg[Fe.X];return Tn(sm,{Ee:"mb-6",children:[Tn("div",{class:"pt-1 pl-1 pr-2 code-font",children:Tn(o,{kl:e,Li:n})}),Tn("div",{class:"py-1 px-2",children:Tn(i,{kl:e,xi:r,Xs:!0})})]})},vm=new ys("stmt.renameIndex",(()=>kd().kl.Bi===Fe.se),Id),gm=Ss("focus.input.indexName",(e=>e.id===os.$n));Ds.Te(Os.bn,"Enter",(async()=>{await Ig()}),[vm,gm],!0);const ym=Nl(0,{T$:""}),xm=async e=>{const t=kd.Wl();if("no table selected"===t.type)return!1;const n=ed(t);try{await pa(`SELECT * FROM ${n} WHERE (${e}) LIMIT 1`,[],"read_only",Oe,{rn:!1})}catch(HE){return ca.Pt().Te(HE),!1}return!0},Em=e=>{const t=Ai(null),n=Sd.ma();if(Li((()=>{t.current&&(t.current.focus(),t.current.select())}),[e._$]),"no table selected"===n.type)return Tn(Zt,{});const{Ne:r,Ti:o,ut:i,Ri:l,Gt:a="",Zl:s=""}=n.Ii[e.T$]??{};ym.Dt({T$:e.T$});const c=async()=>{l&&await xm(s)&&await yd.Wl.Xl(e.T$,{Gt:s})};return Tn("div",{class:"flex w-full",children:[l?Tn("span",{class:"align-bottom pt-[3px]",children:"WHERE "}):Tn(Br,{Ee:"mr-1 translate-y-[5px]",St:Ur.Ye}),Tn("input",{ref:t,id:Fa.$n,class:"focus-within:!outline-0 focus:!outline-0",placeholder:je("Find"),value:l?s:a,onChange:t=>{l?yd.Wl.Xl(e.T$,{Zl:t.currentTarget.value}).catch($a):yd.Wl.Xl(e.T$,{Gt:t.currentTarget.value}).catch($a)},onContextMenu:e=>{e.stopImmediatePropagation()},onKeyDown:e=>{l&&"Enter"===e.code&&(e.preventDefault(),e.stopImmediatePropagation(),c().catch($a))},autocomplete:"off",spellCheck:!1}),Tn("div",{class:"border-b border-b-neutral-300 flex bg-[--vscode-input-background]",children:[l&&a!==s&&Tn(q$,{Ee:"[font-size:110%] align-middle pt-0 pb-[2px] px-[3px] h-[20px]",po:je("Apply filter{{- key }}",{key:Ds.fo(Os.Tn)}),Ce:()=>c().catch($a),children:Tn(Br,{St:Ur.Le})}),Tn("div",{class:"mr-2"}),!l&&Tn(Zt,{children:[Tn(Dp,{r$:je("Match Case{{- key}}",{key:Ds.fo(Os.Un)}),Co:!!r,Ce:()=>yd.Wl.Xl(e.T$,{Ne:!r}),St:Ur.Ne}),Tn(Dp,{r$:je(i?"Match Whole Word{{- key}}":"Match Whole Value{{- key}}",{key:Ds.fo(Os.Bn)}),Co:!!o,Ce:()=>yd.Wl.Xl(e.T$,{Ti:!o}),St:Ur.kt}),Tn(Dp,{r$:je("Use Regular Expression{{- key}}",{key:Ds.fo(Os.zn)}),Co:!!i,Ce:()=>yd.Wl.Xl(e.T$,{ut:!i}),St:Ur.ut})]}),Tn(Dp,{r$:je("Use SQL Expression{{- key}}",{key:Ds.fo(Os.Pn)}),Co:!!l,Ce:()=>yd.Wl.Xl(e.T$,{Ri:!l}),St:Tn(Or,{Ee:"mr-0 [vertical-align:-webkit-baseline-middle]"})})]})]})};let Cm=160;const Tm=Symbol(),_m=Symbol(),km=Symbol(),Sm=Symbol(),Im=e=>Tn("div",{class:Dt("ml-4 mt-1 mb-2 relative",e.Ee),children:Tn("button",{class:"text-neutral-800 hover:text-neutral-900 underline cursor-pointer",onClick:e.Ce,children:je("Display Unique Values")})}),Mm=e=>{const[t,n]=Ri(_m),[r,o]=Ri(""),[i,l]=Ri((()=>kd().Ol["columnFilter.list.maxUniqueValues"])),[a,s]=Ri(!1),[c,$]=Ri(null),u=Sd.ba(),d=Sd((e=>0n===e.vl.al.Ai.Fi?km:e.vl.al.Ai.Fi>BigInt(e.Ol["columnFilter.list.maxTableRecords"])?Sm:null)),f=Sd((e=>BigInt(e.Ol["columnFilter.list.maxTableRecords"])));let h;switch(Li((()=>{const{Li:t}=kd().vl;if("no table selected"===t.type||"broken schema"===t.type)return;const o=ed(t);(async()=>{if(!a){const e=(await Ad(`SELECT count(*) as count FROM (SELECT * FROM ${o} LIMIT ?)`,[f+1n],"read_only",Oe)).records.count?.[0];if("bigint"!=typeof e)throw new Error("count should be a bigint");if(e>=f+1n)return void n(Tm)}n((await Ad(`SELECT DISTINCT ${ye(e.T$)} as value FROM ${o}${""===r?"":` WHERE find_widget_compare(${ye(e.T$)}, ?)`}${null===i?"":" LIMIT ?"}`,[...""===r?[]:[r],...null===i?[]:[i]],"read_only",Oe,{rn:!1})).records.value)})().catch($a)}),[e.T$,r,i,a,f]),t){case _m:switch(d){case Sm:return Tn(Im,{Ee:"invisible"});case km:return Tn(Zt,{});default:h=[]}break;case Tm:return Tn(Im,{Ce:()=>s(!0)});default:if(""===r&&0===t.length)return Tn(Zt,{});h=t}const p=new Set;if("no table selected"!==u.type){const t=u.Ii[e.T$]?.Zl;if(void 0!==t&&""!==t){const e=fe("ColumnInValues",t);if(null!==e){for(const t of e.list)p.add(t.literal);null!==e.orIsNull&&p.add(ge(null))}}}return Tn("div",{class:"border border-neutral-300 ml-4 mt-1 relative rounded",children:[Tn("input",{id:fs.$n,class:"w-full block border-b border-neutral-300 !bg-transparent !outline-none !pl-8 !pr-1 py-[2px]",value:r,onChange:e=>{o(e.currentTarget.value),n(_m)},autoComplete:"off",placeholder:je("Pick values…"),children:r}),Tn(Br,{Ee:"absolute left-2 top-[4px]",St:Ur.ft}),Tn("div",{ref:$,class:"overflow-x-hidden overflow-y-auto thin-scrollbar",style:{height:Cm},onWheel:e=>{e.preventDefault(),e.currentTarget.scrollTop+=e.deltaY/6},children:[h.map(((t,n)=>Tn(X$,{Ee:"block relative pl-2 pr-1 pt-[1px] pb-[2px] hover:bg-neutral-100 cursor-pointer column-filter-list-item",bo:{height:20},Co:p.has(ge(t)),Ro:n=>{const r=kd.Wl();if("no table selected"===r.type)return;let o=r.Ii[e.T$]?.Zl??"";if(n)o=((e,t,n)=>{const r=fe("ColumnInValues",e)??de("ColumnInValues",`${ye(t)} IN ()`);switch(r.type){case"=":if(null===n)return null!==r.orIsNull?e:`${e.trimEnd()} OR ${ye(t)} IS NULL`;{const o=ge(n);return r.list[0].literal===o?e:`${ye(t)} IN (${r.list[0].literal}, ${o})${null===r.orIsNull?"":" "+r.orIsNull}`}case"IS NULL":return null===n?e:`${ye(t)} = ${ge(n)} OR ${e.trimStart()}`;case"IN":if(0===r.list.length)return null===n?null!==r.orIsNull?e:`${r.beforeColumn}${r.column.text}${r.afterColumn}IS NULL`:`${r.beforeColumn}${r.column.text}${r.afterColumn}= ${ge(n)}`;if(null===n){if(null!==r.orIsNull)return e;r.afterList.endsWith(" ")||(r.afterList+=" "),r.orIsNull=`OR ${ye(t)} IS NULL`}else{const t=ge(n);if(r.list.some((e=>e.literal===t)))return e;r.list.push({before:0===r.list.length?"":" ",literal:t,after:""})}}return Te(r)})(o,e.T$,t);else{const n=((e,t)=>{const n=fe("ColumnInValues",e);if(null===n)return null;switch(n.type){case"=":return null===t?null===n.orIsNull?e:Te({...n,after:n.after.trimEnd(),orIsNull:null}):ge(t)!==n.list[0].literal?e:null===n.orIsNull?null:`${n.column.text} IS NULL`;case"IS NULL":return null===t?null:e;case"IN":if(null===t)return null===n.orIsNull?0===n.list.length?null:e:0===n.list.length?null:Te({...n,afterList:n.afterList.trimEnd(),orIsNull:null});{const r=ge(t),o=n.list.filter((e=>e.literal!==r)).map(((e,t)=>0===t&&" "===e.before?{...e,before:""}:t>0&&""===e.before?{...e,before:" "}:e));return 0===o.length&&null===n.orIsNull?null:o.length===n.list.length?e:0===o.length?null===n.orIsNull?null:n.orIsNull:1===o.length?`${n.beforeColumn}${n.column.text}${n.afterColumn}=${n.afterIn}${o[0].before}${o[0].literal}${o[0].before}${n.afterList}${n.orIsNull??""}`:Te({...n,list:o})}}})(o,t);if(null===n)return void yd.Wl.Xl(e.T$,{Ri:!1,Gt:""}).catch($a);o=n}(async()=>{await xm(o)&&await yd.Wl.Xl(e.T$,{Ri:!0,Gt:o,Zl:o},!0)})().catch($a)},Io:-1,children:Tn("span",{class:"absolute w-[calc(100%-20px)] align-middle ml-1 inline-block overflow-hidden overflow-ellipsis max-w-60",style:{color:wh(typeof t)},children:sh.rs(t,20)})},n))),null!==i&&h.length===i&&Tn("div",{class:"text-sky-800 hover:text-sky-900 underline cursor-pointer text-center pl-3 pr-1",onClick:()=>{l(null)},children:je("Show All Values")})]}),null!==c&&Tn(Rm,{k$:c})]})},Rm=e=>{const t=t=>{e.k$.style.height=(Cm=Math.min(400,Math.max(40,t)))+"px"};return Tn("div",{class:"div translate-y-[-3px] cursor-ns-resize h-1 w-full absolute top-full hover:border-b-2 hover:border-b-cyan-500",onMouseDown:n=>{const r=n.clientY,o=e.k$.getBoundingClientRect().height;Pu((e=>{t(o+e.clientY-r)}))},onDblClick:()=>{t(160)}})},Nm=Ss("focus.input.columnFilter",(e=>e.id===Fa.$n));Ds.Te(Os._n,"Escape",(()=>{lu()}),[Nm],!0),Ds.Te(Os.Tn,"Enter",(()=>{lu()}),[Nm],!0),Ds.Te(Os.Un,"Alt + KeyC",(()=>{const e=ym.Pt().T$,t=kd.Wl();"no table selected"!==t.type&&yd.Wl.Xl(e,{Ne:!t.Ii[e]?.Ne}).catch($a)}),[Nm]),Ds.Te(Os.Bn,"Alt + KeyW",(()=>{const e=ym.Pt().T$,t=kd.Wl();"no table selected"!==t.type&&yd.Wl.Xl(e,{Ti:!t.Ii[e]?.Ti}).catch($a)}),[Nm]),Ds.Te(Os.zn,"Alt + KeyR",(()=>{const e=ym.Pt().T$,t=kd.Wl();"no table selected"!==t.type&&yd.Wl.Xl(e,{ut:!t.Ii[e]?.ut}).catch($a)}),[Nm]),Ds.Te(Os.Pn,"Alt + KeyS",(()=>{const e=ym.Pt().T$,t=kd.Wl();"no table selected"!==t.type&&yd.Wl.Xl(e,{Ri:!t.Ii[e]?.Ri}).catch($a)}),[Nm]);const Lm=Ss("focus.filterListSearch",(e=>e.id===fs.$n));Ds.Te(Os.Qr,"Enter",(()=>{document.querySelector(".column-filter-list-item")?.click()}),[Lm]);const Om=()=>{const e=Sd((e=>e.vl.Li)),t=Sd((e=>e.Cl.wi<e.vl.Li.columns.filter((e=>"__diff_type"!==e.name)).length));return Tn(Zt,{children:[Tn(au,{St:Tn(ur,{}),Nt:je("Table")}),Au(e.type)&&Tn(cu,{St:Rr,Nt:je("Add Column…"),Ce:async()=>{(await kd().Sl.Il(!1)).Jl||(pg[Fe.K].ya(void 0,rp.$c),Ih())}}),t&&Tn(cu,{St:Ur.Qe,Nt:je("Unhide All Columns"),Ce:()=>{yd.Cl(ku.li(e))}}),Tn(cu,{St:Ur.Be,Nt:je("Copy All Column Names"),Ce:()=>{ga(e.columns.map((e=>ye(e.name,!1))).join(", ")).catch($a)}})]})},Am=async e=>{(await kd().Sl.Il(!1)).Jl||(pg[Fe.K].ya(e,rp.cc),Ih())},Dm=async e=>{(await kd().Sl.Il(!1)).Jl||(await pg[Fe.ae].ya(e),Ih())},Fm=(e,t,n)=>{if(!e)return;const r=[...e.querySelectorAll(`[data-td-in-column='${t}'] > *:not([data-td-interior])`)].map((e=>{const t=e.style.display;e.style.display="inline";try{return e.getBoundingClientRect().width}finally{e.style.display=t}})).reduce(((e,t)=>Math.max(e,t+20+10)),0);yd.aa(t,n,r,e)},Um=async e=>{const t=kd.Wl();"no table selected"!==t.type&&t.ll.P===e?await yd.Wl.ll(null):await yd.Wl.ll(e)},Bm=({Xc:e,Jc:t,a$:n})=>{const r=Sd((e=>e.Cl)),o=Sd((e=>e.vl.Li)),i=Sd.ma(),l=Sd((e=>e.isPreviewEnabled)),a=Sd((e=>e.columnWidths)),s=Sd((t=>t.kl.Bi===Fe.K&&t.kl.dc===rp.cc&&t.kl.fc===Tu(t.vl.Li,e)?t.kl.mc:null)),c=Sd((t=>t.kl.Bi===Fe.ae&&t.kl.P===Tu(t.vl.Li,e)?t.kl.S$:null)),$=Sd((e=>e.Ol.tableHeaderMaxLines)),u=Sd((t=>{const n=kd.Wl(t);if("no table selected"===n.type)return!1;const r=Tu(t.vl.Li,e);if(null===r)return!1;const o=n.Ii[r]?.Gt??null;return null!==o&&""!==o})),d=Sp(a,o.name,1===o.columns.length,t),f=Sd((t=>{const n=kd.Wl(t);return"no table selected"===n.type||null===n.ll.P||n.ll.P!==Tu(t.vl.Li,e)?null:n.ll.rl??"default"})),h=Md(),p=oh(o,e);if(null===p)return Tn(Zt,{});const m=(e,t)=>e.right-t.clientX<20,b=()=>{mg()?kd().Sl.Il(!1).catch($a):"no table selected"!==i.type&&(null===i.Ni||i.Ni[0]!==p.S?yd.Wl.Ni([p.S,"ASC"]).catch($a):"ASC"===i.Ni[1]?yd.Wl.Ni([p.S,"DESC"]).catch($a):yd.Wl.Ni(null).catch($a))};return Tn(G$,{baseClass:"th",allowHTML:!0,"data-column":e,"data-table-column":`${ye(o.name??"")}.${ye(p.S)}`,style:{...h,width:d+"px"},class:Dt("font-normal select-none relative clickable",1===$&&"whitespace-nowrap"),onMouseMove:e=>{const t=e.currentTarget.getBoundingClientRect();m(t,e)?e.currentTarget.classList.add("col-resize"):e.currentTarget.classList.remove("col-resize")},onDblClick:r=>{if(r.target instanceof HTMLInputElement)return;const o=r.currentTarget.getBoundingClientRect();m(o,r)&&(r.preventDefault(),r.stopImmediatePropagation(),Fm(n,e,t))},onMouseDown:i=>{if(i.target instanceof HTMLInputElement)return;if(2===i.button)return;const l=i.currentTarget.getBoundingClientRect();if(m(l,i))document.body.classList.add("col-resize"),Pu((r=>{yd.aa(e,t,Math.max(50,r.clientX-l.left),n)}),(()=>{document.body.classList.remove("col-resize")}));else{if("table"!==o.type)return;const e=[...i.currentTarget.parentElement.children].slice(1,-1).map((e=>e.getBoundingClientRect().left)),n=us.Pt();n.style.width=l.width+"px",n.style.height=l.height+"px",n.style.top=l.top+"px",n.style.backgroundColor=window.getComputedStyle(i.currentTarget).backgroundColor,n.innerHTML=i.currentTarget.innerHTML;const a=$s.Pt();a.style.height=l.height+"px",a.style.top=l.top+"px",a.style.left=e.at(-1)+"px";const s=i.pageX;let c=null;((i,l)=>{let s=!1;const $=l=>{s||(s=!0,window.removeEventListener("mouseup",$),window.removeEventListener("blur",$),window.removeEventListener("mousemove",i),(()=>{if(a.style.display=n.style.display="none",null!==c){const n=o.columns.map((e=>e.name)),i=e.indexOf(c);i===t||i===t+1||(n.splice(r.ci(t),1),i<r.wi?n.splice(r.ci(i),0,Tu(o,r.ci(t))):n.push(Tu(o,r.ci(t)))),pg[Fe.ue].ya(n).catch($a),Ih()}})?.())};window.addEventListener("mousemove",i),window.addEventListener("mouseup",$,{once:!0}),window.addEventListener("blur",$,{once:!0})})((t=>{Math.abs(t.pageX-s)>=10&&(a.style.display=n.style.display="block"),"block"===a.style.display&&(n.style.left=l.left+(t.pageX-s)+"px",c=e.reduce(((e,n)=>Math.abs(n-t.pageX)<Math.abs(e-t.pageX)?n:e)),a.style.left=c+"px")}))}},onClick:e=>{if(e.target instanceof HTMLInputElement)return;if(2===e.button)return;const t=e.currentTarget.getBoundingClientRect();if(!m(t,e)){if(e.target instanceof Element&&e.target.matches(".button-on-table-header, .button-on-table-header *"))return;e.altKey?Um(p.S).catch($a):b()}},onMouseLeave:e=>{e.currentTarget.classList.remove("col-resize")},onContextMenu:r=>{iu(r,Tn(Vm,{_$:Math.random(),Xc:e,Jc:t,a$:n}))},children:[Tn("code",{class:Dt("block [word-break:break-word] [color:inherit] [font-family:inherit] [font-size:inherit]",$>1&&"limit-lines-in-th",$<=1&&"w-[inherit] overflow-x-hidden text-ellipsis"),style:$>1?{webkitLineClamp:$,lineClamp:$}:{},children:[null!==s?Tn(um,{$n:Ua.$n,f$:2,ja:!0,Gt:s,Ro:e=>{const{kl:t}=kd();t.Bi===Fe.K&&t.dc===rp.cc&&yd.Gl(Fe.K,{mc:e.currentTarget.value})}}):Tn(G$,{baseClass:"span",content:je("{{- key }} to edit",{key:ws("CtrlCmd + Click")}),class:Dt("table"===o.type&&"hover:underline"),onClick:e=>{"table"===o.type&&(e.ctrlKey||e.metaKey)&&(e.stopImmediatePropagation(),Am(p.S).catch($a))},"data-testid":void 0,children:p.S}),Tn(Zt,null!==c?{children:[" ",Tn(um,{$n:Ba.$n,f$:2,ja:!0,Gt:c,Ro:e=>{const{kl:t}=kd();t.Bi===Fe.ae&&yd.Gl(Fe.ae,{S$:e.currentTarget.value})}})]}:{children:[p.Za.length>0?" ":"","table"===o.type?Tn(G$,{baseClass:"span",content:je("{{- key }} to edit",{key:ws("CtrlCmd + Click")}),class:"italic opacity-70 hover:underline",onClick:e=>{"table"===o.type&&(e.ctrlKey||e.metaKey)&&(e.stopImmediatePropagation(),Dm(p.S).catch($a))},"data-testid":void 0,children:p.Za.join(" ")}):p.Za.join(" "),p.es.map(((e,t,n)=>e.Ja?Tn(Zt,{children:[" ",Tn(Pm,{Xa:e.Xa,r$:ne("UNIQUE ("+Zf(e.Xa)+")")+'<br><span class="opacity-80">'+je("{{- key }} for more actions",{key:ws("CtrlCmd + Click")})+"</span>",children:["UNIQUE",n.length<=1?"":Tn("span",{class:"[font-size:75%] align-top",children:t+1})]})]}):Tn(Zt,{}))),p.ts.map(((e,t,n)=>e.Ja?Tn(Zt,{children:[" ",Tn(Pm,{Xa:e.Xa,r$:ne("PRIMARY KEY ("+Zf(e.Xa)+")")+'<br><span class="opacity-80">'+je("{{- key }} for more actions",{key:ws("CtrlCmd + Click")})+"</span>",children:["PRIMARY KEY",n.length<=1?"":Tn("span",{class:"[font-size:75%] align-top",children:t+1})]})]}):Tn(Zt,{}))),null!==p.U&&Tn(Zt,{children:[" ",Tn(G$,{baseClass:"span",content:`<pre>DEFAULT ${ne(p.U)}</pre>`,allowHTML:!0,class:"italic opacity-70 underline decoration-dotted hover:decoration-solid",children:"DEFAULT"})]}),p.ns.map(((e,t,n)=>e.Ja?Tn(Zt,{children:[" ",Tn(Pm,{Xa:e.Xa,r$:ne("CREATE "+eh(e.Xa,o.name??""))+'<br><span class="opacity-80">'+je("{{- key }} for more actions",{key:ws("CtrlCmd + Click")})+"</span>",children:["idx",n.length<=1?"":Tn("span",{class:"[font-size:75%] align-top",children:t+1})]})]}):Tn(Zt,{})))]})]}),Tn("div",{class:"absolute right-0 pr-[3px] bottom-0 border-black border-opacity-20",children:["no table selected"!==i.type&&i.Ni?.[0]===p.S&&"ASC"===i.Ni[1]&&Tn(zm,{St:Tn(Dr,{class:"mr-0 translate-x-[3px] opacity-70"}),Eo:je("Ascending"),Ce:b}),"no table selected"!==i.type&&i.Ni?.[0]===p.S&&"DESC"===i.Ni[1]&&Tn(zm,{St:Tn(Fr,{class:"mr-0 translate-x-[3px] opacity-70"}),Eo:je("Descending"),Ce:b}),u&&Tn(zm,{St:Ur.Ye,Co:!1,Ce:async(e,t)=>{t.preventDefault(),t.stopImmediatePropagation(),await yd.Wl.Xl(p.S,null)},Eo:je("Unset filter")}),null!==f&&Tn(Zt,{children:[Tn(zm,{Ee:"border-r-0",St:Tn(Ir,{Ee:"mr-0"}),Co:!1,Ce:async(e,t)=>{t.preventDefault(),t.stopImmediatePropagation(),await yd.Wl.ll(null)},Eo:je("Ungroup")}),Tn(zm,{Ee:"border-l-neutral-400",St:Tn("default"===f?An:Dn,{}),Co:!1,Ce:async(e,t)=>{t.preventDefault(),t.stopImmediatePropagation();const n=kd.Wl();"no table selected"!==n.type&&null!==n.ll.P&&await yd.Wl.ll(n.ll.P,null===n.ll.rl?"ASC":null)},Eo:je("default"===f?"Order by Value":"Order by Count")})]}),"BLOB"===xh(p.Kl)&&Tn(zm,{St:Ur.ct,Co:l[xd(o.name,t)],Ce:(e,n)=>{n.preventDefault(),n.stopImmediatePropagation(),yd.la(o.name,t,!l[xd(o.name,t)])},Eo:je("Preview")})]})]})},zm=e=>Tn("div",{class:Dt("button-on-table-header inline-block border border-black border-opacity-20",e.Ee),onDblClick:e=>{e.stopImmediatePropagation(),e.preventDefault()},children:Tn(W$,{Ee:"bg-opacity-60 block w-[19px] h-[18px]",To:!0,St:e.St,Co:e.Co,Ce:e.Ce,Eo:e.Eo})}),Pm=e=>{const t=Sd((e=>e.Fl));return Tn(G$,{baseClass:"span",class:Dt("italic opacity-70 underline decoration-dotted hover:decoration-solid",t===e.Xa.name&&"bg-sky-300"),content:e.r$,onMouseEnter:()=>{yd.Fl(e.Xa.name)},onMouseLeave:()=>{yd.Fl(null)},onClick:t=>{(t.ctrlKey||t.metaKey)&&(t.stopImmediatePropagation(),iu(t,Tn(bm,{Xa:e.Xa})))},allowHTML:!0,children:e.children})},Hm=({Xc:e,Jc:t,a$:n})=>Di((()=>Tn(Bm,{Xc:e,Jc:t,a$:n})),[e,t,n]),Vm=e=>{const t=Sd((e=>e.vl.Li)),n=Sd((e=>e.Cl)),r=Sd.ma(),o=Sd((e=>e.isPreviewEnabled)),i=Sd((e=>e.cl===ud.Gi)),l=Eu(t,e.Xc);if(!l)return Tn(Zt,{});const{name:a,foreignKeys:s}=l,c="no table selected"!==r.type&&Ku(r.Ni,[a,"ASC"]),$="no table selected"!==r.type&&Ku(r.Ni,[a,"DESC"]);return Tn(Zt,{children:[Tn(au,{St:Tn(Pn,{}),Nt:je("Column Management")}),i&&Ou(t.type)&&Tn(cu,{Ce:()=>Am(a),St:Mr,Nt:je("Rename…"),Vo:je("{{- ctrlClick}} on column name",{ctrlClick:ws("CtrlCmd + Click")})}),i&&Lu(t.type)&&Tn(cu,{Ce:async()=>{(await kd().Sl.Il(!1)).Jl||(pg[Fe.K].ya(a,rp.uc),Ih())},St:Ur.Et,Nt:je("Drop…")}),i&&"table"===t.type&&Tn(cu,{Ce:()=>Dm(a),St:Ur.wt,Nt:je("Change Type…"),Vo:je("{{- ctrlClick}} on column type",{ctrlClick:ws("CtrlCmd + Click")})}),i&&"table"===t.type&&Tn(cu,{Ce:async()=>{(await kd().Sl.Il(!1)).Jl||(await pg[Fe.ue].ya(),Ih())},St:Ur.Ie,Nt:je("Reorder Columns…"),Vo:je("drag horizontally")}),i&&Ru(t.type)&&Tn(cu,{Ce:()=>{pg[Fe.X].ya([a]),Ih()},St:Tn(lr,{}),Nt:je("Create Index")}),s.map((e=>Tn(cu,{Ce:async()=>{yd.ea(),await yd.Wl.xi({type:"table-like",name:e.table});const t=await Ra(`[data-table-column="${CSS.escape(`${ye(e.table)}.${ye(e.to)}`)}"]`);t&&Sh(t)},St:Ur.B,Nt:je("Open {{- externalColumnName}}",{externalColumnName:`${ye(e.table)}.${ye(e.to)}`})},e.id))),Tn(cu,{Ce:()=>ga(a),St:Ur.Be,Nt:je("Copy Column Name")}),Tn("hr",{}),Tn(au,{St:Tn(or,{}),Nt:je("Column Analysis")}),"no table selected"!==r.type&&Tn(cu,{Ce:e=>{e.stopImmediatePropagation()},Nt:"",Ee:"cursor-default",Io:-1,children:[Tn(Em,{_$:e._$,T$:a}),Tn(Mm,{T$:a})]}),Tn(cu,{Ce:async()=>{"no table selected"!==t.type&&await Um(a)},St:Tn(Ir,{}),Nt:je("Group by Value"),Vo:ws("Alt + Click")}),Tn(su,{St:Tn(On,{}),Nt:je("Sort …"),children:["no table selected"!==r.type&&Tn(cu,{jo:c,Ce:()=>yd.Wl.Ni(c?null:[a,"ASC"]).catch($a),St:Tn(Dr,{}),Nt:je("Ascending")}),"no table selected"!==r.type&&Tn(cu,{jo:$,Ce:()=>yd.Wl.Ni($?null:[a,"DESC"]).catch($a),St:Tn(Fr,{}),Nt:je("Descending")})]}),Tn(cu,{Ce:()=>jm(a),St:Ur.Ze,Nt:je("Plot")}),Tn("hr",{}),Tn(au,{St:Tn(zn,{}),Nt:je("Column View")}),Tn(cu,{Ce:()=>{yd.Cl(n.Ye(t,(t=>t!==e.Xc)))},St:Ur.We,Nt:je("Hide")}),Tn(cu,{Ce:()=>{yd.la(t.name,e.Jc,!o[xd(t.name,e.Jc)])},St:Ur.ct,Nt:je("Preview BLOB Values")}),Tn(su,{St:Tn(In,{}),Nt:je("Column Width …"),children:[Tn(cu,{Ce:()=>{yd.aa(e.Xc,e.Jc,kp(1===t.columns.length),e.a$)},St:Tn(Mn,{}),Nt:je("Reset")}),Tn(cu,{Ce:()=>Fm(e.a$,e.Xc,e.Jc),St:Tn(br,{}),Nt:je("Autofit")})]}),Tn(cu,{Ce:async()=>{const e=kd().vl.yl[a];void 0===e?await wa[29](t.name??null,a,{}):await wa[29](t.name??null,a,(e=>{const t=new Map,n=[],r=[],o=new Map,i=new Map;for(const l of e)if(null!==l)switch(typeof l){case"number":case"bigint":n.push(Number(l)),t.set(l+"",(t.get(l+"")??0)+1);break;case"string":r.push(l),t.set(l,(t.get(l)??0)+1);for(let e=3;e<25;e++){if(l.length>=e+4){const t=l.slice(0,e);o.set(t,(o.get(t)??0)+1)}if(l.length>=e+4){const t=l.slice(-e);i.set(t,(i.get(t)??0)+1)}}}if(n.length>=2)return{min:Math.min(...n),max:Math.max(...n)};{const e=em(t)[0];if(e&&e[0].length>=1&&e[1]>=2)return{equal:e[0]}}{const e=em(o).filter((e=>e[1]<r.length&&e[0].length>=1&&e[1]>=2))[0];if(e)return{startsWith:e[0]}}{const e=em(i).filter((e=>e[1]<r.length&&e[0].length>=1&&e[1]>=2))[0];if(e)return{endsWith:e[0]}}return r.length>0?{equal:r[0]}:n.length>0?{equal:n[0]+""}:{}})(e))},St:Ur.bt,Nt:je("Colorize (Conditional Formatting)")}),Tn("hr",{}),Tn(Om,{})]})},jm=async e=>{const{Li:t,Ni:n}=kd().vl;if("no table selected"===t.type||"broken schema"===t.type)return;const r=ed(t),o=await pa(`SELECT DISTINCT typeof(${ye(e)}) as typeName FROM ${r} LIMIT 100`,[],"read_only",Oe),i=new Set(o.records.typeName);i.has("text")||i.has("blob")?nm.Dt({s$:[...nm.Pt().s$,{createdAt:Date.now(),type:"bar plot",columns:[e],subquery:r,orderByClause:Wu({Ni:n,Li:t})||"ORDER BY 0",config:null,matplotlib:null}]}):nm.Dt({s$:[...nm.Pt().s$,{createdAt:Date.now(),type:"line plot",columns:[e],subquery:ed(t),orderByClause:Wu({Ni:n,Li:t})||"ORDER BY 0",config:null,matplotlib:null}]})},Gm=e=>{const{Li:t}=Sd((e=>e.vl)),n=Sd((e=>e.columnWidths)),r=Sd((e=>e.vl.Li.name)),o=Sd((e=>1===e.vl.Li.columns.length)),i=Sd((e=>e.Cl)),l=Rd(),a=Sd((t=>1n===Eu(t.vl.Li,e.I$)?.hidden)),s=i.si(e.I$);if(null===s)return Tn(Zt,{});if(a)return Tn("td",{class:"cell-empty bg-black bg-opacity-5"});const c=async()=>{await qm(),await Mh(e.I$)};return Tn("td",{class:Dt("cell-empty",rh(t)&&"clickable"),style:{...l,maxWidth:Sp(n,r,o,s)},onMouseDown:e=>{e.preventDefault(),c().catch($a)},onContextMenu:e=>{e.preventDefault(),c().catch($a)},children:Tn("pre",{class:"overflow-hidden text-ellipsis whitespace-nowrap [font-size:inherit] ",children:Tn("span",{class:"select-none",children:" "})})})},qm=async()=>{const e=kd();e.kl.Bi!==Fe.le&&rh(e.vl.Li)&&((await kd().Sl.Il(!1)).Jl||await pg[Fe.le].ya())},Wm=e=>{const[t,n]=Ri(null);switch(Oi((()=>{if(!t||"function"!=typeof e.M$.value)return;const n=e.M$.value,r=setInterval((()=>{t.innerText=n()}),250);return()=>{clearInterval(r)}}),[t,e.M$.type,e.M$.value]),e.M$.type){case"string":case"null":case"integer":case"real":case"blob":return Tn(sh.ss,{cs:"block",Gt:e.M$.value});case"boolean":return e.M$.value?Tn("span",{style:{color:wh("boolean")},children:"TRUE"}):Tn("span",{style:{color:wh("boolean")},children:"FALSE"});case"CURRENT_TIMESTAMP":case"CURRENT_TIME":case"CURRENT_DATE":return Tn("span",{ref:n,style:{color:wh("string")}})}},Qm=()=>{const e=Va.Pt();e&&(e.focus(),e.select(),Sh(e))},Km=e=>{const t=Sd((t=>0===e.R$&&t.kl.Bi===Fe.K&&t.kl.dc===rp.$c?t.kl:null)),n=Rd();if(!t)return Tn("td",{class:"table-blank"});if(null===t.bc){if(""===t.hc.U.trim())return Tn("td",{class:"cell-data clickable",style:n,onClick:Qm,children:Tn(Wm,{M$:{type:"null",value:null}})});const e=fe("LiteralValue",t.hc.U.trim());return Tn("td",null===e?{class:"cell-data clickable",style:n,onClick:Qm,children:Tn(Xh,{tc:t.hc.U})}:{class:"cell-data clickable",style:n,onClick:Qm,children:Tn(Wm,{M$:e})})}{const e=/\bDEFAULT\b/di.exec(t.bc);if(null===e)return Tn("td",{class:"cell-data clickable",style:n,onClick:()=>{const e=Oa.Pt();e&&(yd.Gl(Fe.K,{bc:t.bc+" DEFAULT 'no data'"}),e.focus(),e.select(),e.selectionStart=e.selectionEnd=e.value.length)},children:Tn(Wm,{M$:{type:"null",value:null}})});{const r=e.indices[0][1],o=t.bc.slice(r).trimStart(),i=fe("NextLiteralValueOrSignedNumberOrExprInParens",o);return null===i?Tn("td",{class:"cell-data text-red-600",style:n,children:["parse error: ",o.split(" ")[0]]}):"expr"===i.literal.type?Tn("td",{class:"cell-data",style:n,children:Tn(Xh,{tc:i.literal.expr})}):Tn("td",{class:"cell-data",style:n,children:Tn(Wm,{M$:i.literal})})}}},Ym=e=>{const t=Ip((e=>e.Qc));return Di((()=>Tn(Zt,{children:t.map(((t,n)=>t.Ci?Tn(Gm,{R$:e.N$,I$:t.Xc},t.Xc):Tn("td",{colSpan:t.Yc,style:{maxWidth:t.Ks+"px"}},"empty:"+n)))})),[t,e.N$])},Jm=e=>{const t=Sd((e=>rh(e.vl.Li))),n=Sd((e=>e.vl.Ai)),r=Rd();return Tn("tr",{children:[Tn("td",{class:Dt("px-[0.625em] overflow-hidden sticky z-20 left-0 whitespace-nowrap text-center text-neutral-800 select-none border-r border-r-[--td-border-color] bg-[--neutral-100]",t&&0===e.N$&&"clickable"),style:r,onMouseDown:t=>{t.preventDefault(),0===e.N$&&(async()=>{await qm(),await Mh(0)})().catch($a)},children:0===e.N$&&Tn(Br,{St:Ur.Te,Ee:"[font-size:80%]"})}),Tn(Ym,{N$:e.N$}),Tn(Km,{R$:n+e.N$}),Tn("td",{style:r,class:"table-blank"})]})},Xm=e=>Tn("span",{class:Dt("rounded-[100px] text-black text-opacity-70 bg-[--count-background] text-center min-w-[1rem] inline-block [font-size:95%] px-1",e.Ee),children:e.Gt}),Zm=e=>e.replace(/([\\`*_{}[\]<>()#+\-.!|])/g,"\\$1").replace(/\r?\n/g,"<br>"),eb=e=>{const t=[];return n=>{if(n in t)return t[n];const r=e(n);return t[n]=r,r}},tb=(e,t,n)=>{let r=t(n);return e((()=>{r=t(n)})),(...e)=>r(...e)};class nb extends Error{}class rb extends Error{}class ob extends Error{constructor(e){super(`${ye(e)} is not a table`)}}class ib extends Error{constructor(){super("column list mismatch")}}class lb extends Error{constructor(){super("the column does not exist")}}let ab=class extends Error{};class sb extends Error{}var cb=(e=>(e[e.Mn=0],e[e.Cn=1],e[e.L$=2],e))(cb||{});const $b=()=>{const e=Sd((e=>e.$l)),t=Ai(null);Li((()=>{e.Ci?(t.current?.showModal(),document.querySelector(".confirm-dialog-commit")?.focus()):t.current?.close()}),[e]),ea("close",(()=>{const{$l:e}=kd();e.Ci&&e.O$(1)}),t);const n=Fi((()=>{t.current?.close(),e.Ci&&e.O$(2)}),[e]),r=e.Ci&&2!==e.A$;return Li((()=>{if(!r)return;const e=e=>{kd().$l.Ci&&new vs(e).dn("Alt + KeyD")&&(e.preventDefault(),n())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n,r]),Tn("dialog",{class:"py-4 px-8 bg-body-bg backdrop-blur bg-opacity-90 shadow-lg mx-auto mt-[10vh] border border-solid border-neutral-200 rounded",ref:t,onClick:n=>{e.Ci&&(e=>{if(!e.clientX||!e.clientY)return!1;const t=e.currentTarget.getBoundingClientRect();return!(t.left<=e.clientX&&e.clientX<t.right&&t.top<=e.clientY&&e.clientY<t.bottom)})(n)&&(t.current?.close(),e.O$(1))},children:e.Ci&&Tn(Zt,{children:[Tn("h2",{class:"pl-0 [font-size:120%] font-bold opacity-90 select-none",children:[Tn(Br,{St:Ur._t,Ee:"[font-size:200%] mr-2 align-middle"}),3===e.A$?je("Discard changes?"):je("Commit changes to the database?")]}),Tn("hr",{class:"border-t border-t-neutral-300 my-2"}),null!==e.Ri&&Tn("div",{class:"max-w-[400px] max-h-[200px] overflow-auto my-2 [font-size:80%] text-ellipsis ml-[2.35rem] whitespace-pre text-left opacity-90 font-normal text-black thin-scrollbar",children:Tn("table",{children:[Tn("tr",{children:[null!==e.Ri.Ei&&Tn("td",{class:"pr-2 opacity-80 text-right align-top select-none",children:"Query:"}),Tn("td",{class:"align-top",children:Tn(hm,{w$:"pre",v$:"gray",Ue:e.Ri.xi})})]}),null!==e.Ri.Ei&&Tn("tr",{children:[Tn("td",{class:"pr-2 opacity-80 text-right align-top select-none",children:"Parameters:"}),Tn("td",{class:"align-top",children:Tn(hm,{w$:"pre",v$:"gray",Ue:e.Ri.Ei})})]})]})}),Tn("div",{class:(3===e.A$?"flex justify-center":"float-right")+" select-none",children:[3!==e.A$&&Tn(q$,{Ce:()=>{t.current?.close(),e.O$(0)},Ee:"confirm-dialog-commit mr-1","data-testid":void 0,children:[Tn(Br,{St:Ur.Le,Ee:"mr-1"}),je("Commit"),Tn("span",{class:"opacity-60 ml-2 [font-size:70%]",children:ws("Enter")})]}),r&&Tn(q$,{Ce:n,yo:!0,Ee:3===e.A$?"":"mr-1","data-testid":void 0,children:[Tn(Br,{St:3===e.A$?Ur.Le:Ur.Ve,Ee:"mr-1"}),3===e.A$?je("Yes"):je("Discard changes"),Tn("span",{class:"opacity-60 ml-2 [font-size:70%]",children:ws("Alt + KeyD")})]}),Tn(J$,{Ce:()=>{t.current?.close(),e.O$(1)},"data-testid":void 0})]})]})})},ub=e=>{const t=Sg.x$(kd().kl,kd().ul);return new Promise((n=>{const r=t.ka.flatMap((e=>e.q[1]));let o;if(t.Zs){if(!e.D$)return 1;o=3}else o=e.D$?1:2;yd.$l({Ci:!0,A$:o,O$:e=>{yd.$l({Ci:!1}),n([e,t])},Ri:t.Zs?null:{xi:t.ka.map((e=>oe(e.q[0],{$:200,C:e=>e}))).join("\n"),Ei:`[${oe(r,{$:50,C:e=>e.map((e=>ge(e,10))).join(", "),k:"]"})}`}})}))},db=new ys("dom.confirmDialog",(()=>kd().$l.Ci),Id);Ds.Te(Os.eo,[bs],(()=>{}),[db],void 0,As.eo,!1);const fb=Fe.te,hb=e=>e.map((e=>sh.Ns(e))).join(","),pb=(e=kd().vl.Li)=>Yw.F$(void 0,e).length>0,mb=(e,t,n)=>{if(0===e.length)return Ue.ve;const r=Yw.F$()[0];if(void 0===r)return Ue.ve;const o=[],i=new Set;let l=!1;e:for(let a=0;a<e.length;a++){const t=e[a],n=[];for(const e of r){const r=t[e];if(void 0===r)return Ue.ve;if(null===r)continue e;n.push(r)}const s=hb(n);i.has(s)||(i.add(s),l=!0,o.push(n))}return l?(yd.kl({Bi:fb,U$:{yl:o,B$:i,z$:t,P$:n,H$:r}}),Ue.we):Ue.ve},bb=e=>{Zh?.();const{yl:t,al:n}=kd().vl,r=qr(t,Number(e));if(!r)return Ue.ve;const o=n.Oi+e;return mb([r],o,o)};async function*wb(e,t){const{vl:{Li:n}}=kd();if("no table selected"===n.type||"broken schema"===n.type)return;const r=ed(n),o=await _p.Wc();try{let n=!0;for(const t of e.U$.yl){const o=qr((await pa(`SELECT * FROM ${r} WHERE ${e.U$.H$.map((e=>`${ye(e)} IS ?`)).join(" AND ")}`,t,"read_only",Oe)).records);o?yield(n?"":"\n")+Object.values(o).map((e=>sh.xs(e))).join(","):yield n?"":"\n",n=!1}await(t?.())}finally{o.dispose()}}const vb=async(e,t=ga)=>{let n="";for await(const r of wb(e,(async()=>{await t(n)})))n+=r},gb=(e,t,n)=>{const{kl:r}=kd();if(r.Bi!==Fe.te)return Ue.ve;const o=[...r.U$.yl],i=new Set(r.U$.B$);let l=!1;for(let a=0;a<e.length;a++){const t=e[a],n=[];for(const e of r.U$.H$){const r=t[e];if(void 0===r)return Ue.ve;n.push(r)}const s=hb(n);i.has(s)||(i.add(s),l=!0,o.push(n))}return l?(yd.Gl(Fe.te,{...r,U$:{yl:o,B$:i,z$:Ie([r.U$.z$,t]),P$:Se([r.U$.P$,n]),H$:r.U$.H$}}),Ue.we):Ue.ve},yb=(e,t,n)=>{const{kl:r,vl:{Li:o}}=kd();if("no table selected"===o.type||"broken schema"===o.type)return Ue.ve;const i=Hr(o,"rowid");return null===i?Ue.ve:r.Bi===Fe.te?gb(e.map((e=>({[i]:e}))),t,n):mb(e.map((e=>({[i]:e}))),t,n)},xb=new ys("stmt.delete",(()=>kd().kl.Bi===Fe.te),Id),Eb=()=>kd().kl;Ds.Te(Os.Vn,"Escape",(async()=>{await Ud()}),[xb,Ts(Rs)]),Ds.Te(Os.Hn,"CtrlCmd + KeyC",(async()=>{await vb(Eb())}),[xb,Ts(Rs)]);const Cb=async e=>{if(e>=1n){const t=Eb(),{Li:n,Si:r,Ii:o,Ni:i,ll:l,sl:a}=kd().vl;if("no table selected"===n.type||"broken schema"===n.type)return;const s=ed(n),c=ju({Si:r,Ii:o,Mi:n.columns}),$=Wu({Ni:i,Li:n}),u=Hr(n,"rowid");if(!u)return;if(null===l.P){const{records:n}=await pa(`SELECT ${u} as ${u} FROM ${s}${c.xi}${$} LIMIT ? OFFSET ?`,[...c.Ei,e,t.U$.P$+1n],"read_only",Oe);let r=t.U$.P$;const o=[],i=[];for(const e of n[u]??[]){if("bigint"!=typeof e)return;r++,o.push(e),i.push(r)}if(!Uu(i))return;if(yb(o,Ie(i),Se(i))===Ue.ve)return;await Mp(r)}else{const r=Gu(n,l.P,l.rl,a),{records:o}=await pa(`WITH\n    __subquery AS (SELECT ${Vr(n,"rowid as rowid, ")}* FROM ${s}${c.xi}${$}),\n    rowNumbered AS (SELECT ${u} as ${u}, row_number() OVER (ORDER BY 1) AS rownum FROM (${r.xi}))\nSELECT ${u}, rownum FROM rowNumbered WHERE rownum > ? AND ${u} IS NOT NULL LIMIT ?`,[...c.Ei,...r.Ei,t.U$.P$+1n,e],"read_only",Oe),i=(o[u]??[]).length;let d=t.U$.P$;const f=[],h=[];for(let e=0;e<i;e++){const t=o[u]?.[e];let n=o.rownum?.[e];if("bigint"!=typeof t||"bigint"!=typeof n)return;n--,f.push(t),h.push(n),d=Se([d,n])}if(!Uu(h))return;if(yb(f,Ie(h),Se(h))===Ue.ve)return;await Mp(d)}}else if(e<=-1n){e*=-1n;const t=Eb(),{Li:n,Si:r,Ii:o,Ni:i,ll:l,sl:a}=kd().vl;if("no table selected"===n.type||"broken schema"===n.type)return;const s=ed(n),c=ju({Si:r,Ii:o,Mi:n.columns}),$=Wu({Ni:i,Li:n}),u=Hr(n,"rowid");if(!u)return;if(null===l.P){const n=Se([0n,t.U$.z$-e]),{records:r}=await pa(`SELECT ${u} as ${u} FROM ${s}${c.xi}${$} LIMIT ? OFFSET ?`,[...c.Ei,t.U$.z$-n,n],"read_only",Oe);let o=t.U$.z$;const i=[],l=[];for(const e of r[u]??[]){if("bigint"!=typeof e)return;o--,i.push(e),l.push(o)}if(!Uu(l))return;if(yb(i,Ie(l),Se(l))===Ue.ve)return;await Mp(o)}else{const r=Gu(n,l.P,l.rl,a),{records:o}=await pa(`WITH\n    __subquery AS (SELECT ${Vr(n,"rowid as rowid, ")}* FROM ${s}${c.xi}${$}),\n    rowNumbered AS (SELECT ${u} as ${u}, row_number() OVER (ORDER BY 1) AS rownum FROM (${r.xi}))\nSELECT ${u}, rownum FROM rowNumbered WHERE rownum < ? AND ${u} IS NOT NULL ORDER BY rownum DESC LIMIT ?`,[...c.Ei,...r.Ei,t.U$.z$+1n,e],"read_only",Oe),i=(o[u]??[]).length;let d=t.U$.z$;const f=[],h=[];for(let e=0;e<i;e++){const t=o[u]?.[e];let n=o.rownum?.[e];if("bigint"!=typeof t||"bigint"!=typeof n)return;n--,f.push(t),h.push(n),d=Ie([d,n])}if(!Uu(h))return;if(yb(f,Ie(h),Se(h))===Ue.ve)return;await Mp(d)}}};Ds.Te(Os.Mr,"Shift + ArrowDown",(async()=>{await Cb(1n)}),[xb,Ts(Rs)]),Ds.Te(Os.Rr,"Shift + PageDown",(async()=>{await Cb(Ld())}),[xb,Ts(Rs)]),Ds.Te(Os.Nr,"Shift + ArrowUp",(async()=>{await Cb(-1n)}),[xb,Ts(Rs)]),Ds.Te(Os.Lr,"Shift + PageUp",(async()=>{await Cb(-Ld())}),[xb,Ts(Rs)]);const Tb=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),V$:e=>{const{vl:t}=kd(),n=qr(t.yl,Number(e));if(!n)return Ue.ve;const r=t.al.Oi+e;return gb([n],r,r)},j$:gb,G$:yb,vc:(e,t)=>{try{const{Li:n}=kd().vl;switch(n.type){case"no table selected":case"broken schema":return{N:null,q$:null};case"table":case"virtual":if(1===t.U$.H$.length){const r=((e,t,n)=>{let r=!1;const o=[],i=[];for(const d of n)null===d?r=!0:"bigint"==typeof d?o.push(d):i.push(d);const l=yp(o),a=ye(t),s=[];r&&s.push(`(${a} IS NULL)`),(l.Pc.length>0||i.length>0)&&s.push(`(${a} IN (${Array(l.Pc.length+i.length).fill("?").join(", ")}))`),l.zc.length>0&&s.push(`(typeof(${a}) = 'integer' AND (${Array(l.zc.length).fill(`(? <= ${a} AND ${a} <= ?)`).join(" OR ")}))`);const c=ye(e.name),$=se(),u=e.columns.filter((e=>0n===e.hidden)).map((e=>ye(e.name))).join(", ");return{Dc:`DELETE FROM ${c} WHERE ${s.join(" OR ")}`,Fc:[...l.Pc,...i,...l.zc.flat()],W$:BigInt(n.length),Q$:`CREATE TEMP TABLE ${$.I} AS SELECT ${Vr(e,"rowid as rowid, ")}${u} FROM ${c} WHERE ${s.join(" OR ")}`,K$:[$.S],Y$:`INSERT INTO ${c} (${Vr(e,"rowid, ")}${u}) SELECT ${Vr(e,"rowid, ")}${u} FROM ${$.M}`,N:c,q$:`${a} IN (${n.length>3?"?, ?, ?, ...":Array(n.length).fill("?").join(", ")})`}})(n,t.U$.H$[0],t.U$.yl.map((e=>Sa(e[0],null))));return e.Te([r.Dc,r.Fc,"read_write",{...Oe,changes:r.W$}],r.Q$,r.K$,[r.Y$,[],"read_write",Oe],{gc:kg.Uc}),{N:r.N,q$:r.q$}}for(const r of function*(e,t,n){const r=ye(e.name),o=t.map((e=>`${ye(e)} IS ?`)).join(" AND "),i=e.columns.filter((e=>0n===e.hidden)).map((e=>ye(e.name))).join(", ");for(const l of n){const n=se();if(l.length!==t.length)throw new ab;yield{Dc:`DELETE FROM ${r} WHERE ${o}`,Fc:l,W$:1n,Q$:`CREATE TEMP TABLE ${n.I} AS SELECT ${Vr(e,"rowid as rowid, ")}${i} FROM ${r} WHERE ${o}`,K$:[n.S],Y$:`INSERT INTO ${r} (${Vr(e,"rowid, ")}${i}) SELECT ${Vr(e,"rowid, ")}${i} FROM ${n.M}`}}}(n,t.U$.H$,t.U$.yl))e.Te([r.Dc,r.Fc,"read_write",{...Oe,changes:r.W$}],r.Q$,r.K$,[r.Y$,[],"read_write",Oe],{gc:kg.Uc});return{N:ye(n.name),q$:t.U$.H$.map((e=>`${ye(e)} IS ?`)).join(" AND ")};case"view":case"shadow":case"custom query":case"other":{if(1!==t.U$.H$.length)return{N:null,q$:null};const r=((e,t,n)=>{if(null===e.columnOrigins)throw new sb;const r=t,o=e.columnOrigins[r];if(!o)throw new sb;const i=`${ye(o.database)}.${ye(o.table)}`,l=se();let a=!1;const s=[];for(const u of n)null===u?a=!0:s.push(u);const c=[];a&&c.push(`(${ye(o.column)} IS NULL)`),s.length>0&&c.push(`(${ye(o.column)} IN (${Array(s.length).fill("?").join(", ")}))`);const $=c.join(" OR ");return{Dc:`DELETE FROM ${i} WHERE ${$}`,Fc:s,W$:BigInt(n.length),Q$:async e=>{const t=await e(o.database,o.table),n=t.columns.filter((e=>0n===e.hidden)).map((e=>ye(e.name))).join(", ");return{Q$:`CREATE TEMP TABLE ${l.I} AS SELECT ${Vr(t,"rowid as rowid, ")}${n} FROM ${i} WHERE ${$}`,K$:[l.S],Y$:`INSERT INTO ${i} (${Vr(t,"rowid, ")}${n}) SELECT ${Vr(t,"rowid, ")}${n} FROM ${l.M}`}},q$:`${ye(o.column)} IN (${n.length>3?"?, ?, ?, ...":Array(n.length).fill("?").join(", ")})`,N:i}})(n,t.U$.H$[0],t.U$.yl.map((e=>Sa(e[0],null))));return e.J$([r.Dc,r.Fc,"read_write",{...Oe,changes:r.W$}],(async()=>{const e=await r.Q$((async(e,t)=>{const n=await va("table_schema",[e,t]);if(null===n)throw new Error(`Failed to fetch the schema of the table ${ye(e)}.${ye(t)}.`);return n}));return{X$:e.Q$,K$:e.K$,W:[e.Y$,[],"read_write",Oe]}}),{gc:kg.Uc}),{N:r.N,q$:r.q$}}}}catch(HE){if(HE instanceof sb||HE instanceof ab)return{N:null,q$:null};throw HE}},Z$:vb,Ml:()=>Ud(),Tc:()=>!1,eu:(e,t)=>{if(t<0||e.vl.Ai<=t)return!1;if(e.kl.Bi!==Fe.te)return!1;const n=[];for(const r of e.kl.U$.H$){const o=e.vl.yl[r];if(void 0===o)return!1;const i=o[t];if(void 0===i)return!1;n.push(i)}return e.kl.U$.B$.has(hb(n))},xi:wb,ya:bb,tu:mb,nu:async e=>{const{vl:t,kl:n}=kd();if(null===t.Li.name)return;if(n.Bi!==Fe.te&&(await kd().Sl.Il(!1)).Jl)return;if(bb(e)===Ue.ve)return;const[r,o]=await ub({D$:!1,Ri:!0});r===cb.Mn&&await o.Mc(!1)},Bi:fb,_c:(e,t,n)=>{let r;return r=null===n.Ic.N||null===n.Ic.q$?Tn(Jh,{Nt:"DELETE FROM"}):Tn(Zt,{children:[Tn(Jh,{Nt:"DELETE FROM"}),n.Ic.N,Tn(Kh,{children:" WHERE "}),n.Ic.q$]}),{kc:r,Sc:Tn(Zt,{children:Tn("div",{children:[Tn("p",{class:"italic",children:je("To add selections, use {{- Ctrl+Click }}, drag over row numbers, or use {{- key1}}/{{- key2}}/{{- key3}}/{{- key4}}.",{"Ctrl+Click":ws("CtrlCmd + Click"),key1:ws("Shift + ArrowDown"),key2:ws("Shift + ArrowUp"),key3:ws("Shift + PageDown"),key4:ws("Shift + PageUp")})}),Tn(Wh,{xi:n,Ce:e=>{n.Mc(e).catch($a)}}),Tn(Dd,{})]})})}},supportsDelete:pb},Symbol.toStringTag,{value:"Module"})),_b=(e,t,n)=>{const r=`(ON\\s+)(${t}|'${t.replace("'","''")}'|"${t.replace('"','""')}"|\`${t.replace("`","``")}\`|\\[${t}\\])`;let o=!1;for(const i of e.matchAll(new RegExp(`(?=${r})`,"ig"))){if(o)throw new nb(`multiple "ON ${t}" was found in ${e}`);o=!0}if(!o)throw new rb(`"ON ${t}" was not found in "${e}"`);return e.replace(new RegExp(r,"i"),((e,t)=>t+ye(n)))},kb=async(e,t)=>{const n=await(async()=>{const n=await e(`PRAGMA table_xinfo(${ye(t)})`,[]);if(!Array.isArray(n))throw new Error(`PRAGMA table_xinfo(${ye(t)}) returned invalid data: ${n}`);const r=(await e("SELECT sql FROM sqlite_schema WHERE type = 'table' AND name = ? COLLATE NOCASE",[t]))[0]?.sql;if(void 0===r)throw new ob(t);const o=de("CreateTableStatement",r);return{schema:{...o,columns:o.columns.map((e=>{const t=n.find((t=>t.name===e.columnName.name));return void 0===t?{...e,kind:"constraint"}:t.hidden?{...e,kind:"virtual"}:{...e,kind:"base"}}))},indexes:(await e("SELECT sql FROM sqlite_schema WHERE type = 'index' AND tbl_name = ? COLLATE NOCASE AND name NOT LIKE 'sqlite\\_%' ESCAPE '\\'",[t])).map((e=>e.sql+";")),triggers:(await e("SELECT sql FROM sqlite_schema WHERE type = 'trigger' AND tbl_name = ? COLLATE NOCASE AND name NOT LIKE 'sqlite\\_%' ESCAPE '\\'",[t])).map((e=>e.sql+";"))}})(),r=Boolean((await e("PRAGMA foreign_keys",[]))[0].foreign_keys),o=Boolean((await e("PRAGMA legacy_alter_table",[]))[0].legacy_alter_table);return Object.assign(((e,t)=>{e.endsWith(";")&&(e=e.slice(0,-1));const i=de("CreateTableStatement",e),l=[];for(const r of n.schema.columns.filter((e=>"constraint"!==e.kind)).map((e=>e.columnName.name)))i.columns.some((e=>e.columnName.name===r))||l.push(r);const a=[];{const e=ye(i.tableName.name+"_tmp"),l=ye(n.schema.tableName.name),s=ye(i.tableName.name);r&&a.push("PRAGMA foreign_keys = OFF;"),t&&a.push("PRAGMA legacy_alter_table = ON;"),a.push("BEGIN;"),a.push(xe({...i,tableName:{text:e}}));const c=i.columns.flatMap((e=>"base"===n.schema.columns.find((t=>t.columnName.name===e.columnName.name))?.kind?[ye(e.columnName.name)]:[])).join(", ");if(c&&a.push(`INSERT INTO ${e} (${c}) SELECT ${c} FROM ${l};`),a.push(`DROP TABLE ${l};`),a.push(`ALTER TABLE ${e} RENAME TO ${s};`),s===l){for(const e of n.indexes)a.push(e);for(const e of n.triggers)a.push(e)}else{for(const e of n.indexes)a.push(_b(e,n.schema.tableName.name,i.tableName.name));for(const e of n.triggers)a.push(_b(e,n.schema.tableName.name,i.tableName.name))}a.push("COMMIT;"),t&&!o&&a.push("PRAGMA legacy_alter_table = OFF;"),r&&a.push("PRAGMA foreign_keys = ON;")}return{xi:a.join("\n"),ru:l}}),{tableInfo:n})},Sb=(e,t)=>Cu(e,t)?.pk||e.indexes.some((e=>0n!==e.unique&&e.columns.some((e=>null!==e.name&&e.name.toLowerCase()===t.toLowerCase())))),Ib=Ll(0,{Gt:null,_a:null},(e=>({ou:async()=>{const t=kd().vl.Li.name;if(null===t)return void e({_a:null});const{kl:n}=kd();if(n.Bi!==Fe.fe)return void e({_a:null});if(!Sb(kd().vl.Li,n.P))return void e({_a:null});const r=n.iu[n.P];e(void 0!==r?{Gt:r,_a:await va("list_references",[t,n.P,r])}:{_a:null})},Fe:()=>{e({_a:null})}}))),Mb=()=>{const e=Ib((e=>e._a)),t=Tw((e=>e.lu?.Fo)),n=Tw((e=>e.lu?.Do));if(Li((()=>Id(((e,t)=>{e.kl!==t.kl&&null!==Ib.Pt()._a&&Ib.Pt().ou().catch($a)}))),[]),null===e)return Tn(Zt,{});const r=e.filter((e=>0n===e.count));return Tn("div",{class:"absolute max-h-[300px] w-[300px] bg-card-bg z-[--z-foreign-key-reference-list] border shadow-sm rounded pt-1 pb-2",style:{left:n,top:t},children:[Tn("div",{class:"pl-4 pb-1",children:[je("References"),Tn(J$,{Oo:!0,Ee:"translate-y-[2px] pb-1",Ce:()=>{Ib.Pt().Fe()}})]}),0===e.length&&Tn("div",{class:"px-4",children:je("No foreign keys reference this column.")}),e.filter((e=>e.count>0n)).map((e=>Tn(Rb,{au:e}))),r.length>0&&Tn(Zt,{children:[Tn("hr",{}),Tn("div",{class:"pl-4 pb-1",children:je("Unused References")}),e.filter((e=>0n===e.count)).map((e=>Tn(Rb,{au:e})))]})]})},Rb=e=>Tn("div",{class:"code-font whitespace-nowrap flex hover:bg-neutral-200 cursor-pointer px-4",onClick:()=>{xa(e.au.table,[{column:e.au.column,sql:`${ye(e.au.column)} IS ${ge(Ib.Pt().Gt)}`}]).catch($a)},children:[Tn("div",{class:"flex-1 min-w-0 overflow-hidden text-ellipsis pr-1",children:[ye(e.au.table,!1),".",ye(e.au.column,!1)]}),Tn(Xm,{Gt:e.au.count})]}),Nb=new ys("dom.referenceList",(()=>null!==Ib.Pt()._a),Ib.Ht);Ds.Te(Os.Dr,"Escape",(()=>{Ib.Pt().Fe()}),[Nb],!0,As.Dr);const Lb=()=>{const[e,t]=Ri(!1),n=Sd((e=>e.cl===ud.Wi)),r=Sd((e=>e.cl===ud.Qi)),[o,i]=Ri(!0),l=Tn(Qn,{Ee:"ml-1 pointer-outline rounded-lg",Ce:()=>{t((e=>!e))}}),a=Tn(J$,{Ce:()=>{t(!1)}});if(r)return Tn(Zt,{children:[Tn("span",{children:[je("read-only editor"),l]}),e&&Tn("div",{class:"inline-dialog relative mb-1 py-1",children:[je("The diff view does not support editing."),a]})]});if(n){const t=je("You're opening the database file using VSCode's virtual workspace feature, and because of that, we can't update it safely. For SQLite to safely update the database, it needs to work directly on the local disk. This isn't possible in virtual workspaces because file operations are handled through an abstracted interface.\nIf you're okay with the risk of losing the database, such as when you're working with test or experimental databases, you can temporarily turn off this safety feature by clicking the button below and then reloading the editor tab. When turned off, the database is copied to the local disk, updates are made on the file, and then the entire database file is copied back to the virtual workspace. However, if another program and VSCode write to the database file at the same time, the file could get corrupted. For example, the contents of the database might get truncated.");return Tn(Zt,{children:[Tn("span",{children:[je("read-only editor"),l]}),e&&Tn("div",{class:"inline-dialog relative mb-1 py-1",children:[t.split("\n").map((e=>Tn("p",{class:"mt-1",children:e}))),o?Tn(q$,{yo:!0,Ee:"mt-2",Ce:()=>{wa[37]().catch($a),i(!1)},children:[Tn(Br,{St:Ur._t,Ee:"translate-y-[-1px] mr-1"}),je("Accept risk and enable editing until the window is closed")]}):je("Please reload the editor tab."),a]})]})}return Tn(Zt,{children:[Tn("span",{children:[je("read-only editor"),l]}),e&&Tn("div",{class:"inline-dialog relative mb-1 py-1",children:[je("You're opening the database file using VSCode's virtual workspace feature, and the virtual workspace is configured to be read-only."),a]})]})},Ob={xi:async e=>{const{vl:{Li:t,Si:n,Ii:r,Ni:o,ll:i,sl:l},Cl:a}=kd();if("no table selected"===t.type||"broken schema"===t.type)return[];const s=ed(t),c=ju({Si:n,Ii:r,Mi:t.columns}),$=Wu({Ni:o,Li:t});let u=[];for(const{su:d,jo:f}of e){const[e,n]=Re(d.cu,f.cu),r=a.ai(d.P,f.P).map((e=>Tu(t,e)));if(null===i.P)u=u.concat(jr((await pa(`SELECT ${r.map((e=>ye(e))).join(", ")} FROM ${s}${c.xi}${$} LIMIT ? OFFSET ?`,[...c.Ei,n-e+1n,e],"read_only",Oe)).records));else{const{xi:o,Ei:a}=Gu(t,i.P,i.rl,l);u=u.concat(jr((await pa(`WITH __subquery AS (SELECT ${Vr(t,"rowid as rowid, ")}* FROM ${s}${c.xi}${$})\nSELECT __groupby_count, ${r.map((e=>ye(e))).join(", ")} FROM (${o}) LIMIT ? OFFSET ?`,[...c.Ei,...a,n-e+1n,e],"read_only",Oe,{rn:!1})).records).filter((e=>null===e.__groupby_count)).map((e=>("__groupby_count"in e&&delete e.__groupby_count,e))))}}return u},$u:async e=>(await Ob.xi(e)).map((e=>Object.values(e).map((e=>sh.xs(e))).join(","))).join("\n"),uu:async e=>{const{vl:{Li:t,Ni:n,Si:r,Ii:o,ll:i,sl:l},Cl:a}=kd();if("no table selected"===t.type||"broken schema"===t.type)return null;const s=Hr(t,"rowid");if(null===s)return null;const c=ed(t);if(!c)return null;const $=ju({Si:r,Ii:o,Mi:t.columns}),u=Wu({Ni:n,Li:t}),[d,f]=xp.build();for(const{su:h,jo:p}of e){const[e,n]=Re(h.cu,p.cu),r=f(new Set(a.ai(h.P,p.P).map((e=>Tu(t,e)))));if(null===i.P)for(const t of(await pa(`SELECT ${s} as ${s} FROM ${c}${$.xi}${u} LIMIT ? OFFSET ?`,[...$.Ei,n-e+1n,e],"read_only",Oe,{rn:!1})).records[s]){if("bigint"!=typeof t)return null;r(t)}else{const{xi:o,Ei:a}=Gu(t,i.P,i.rl,l);for(const i of(await pa(`WITH __subquery AS (SELECT ${Vr(t,"rowid as rowid, ")}* FROM ${c}${$.xi}${u})\nSELECT ${s} as ${s} FROM (${o}) LIMIT ? OFFSET ?`,[...$.Ei,...a,n-e+1n,e],"read_only",Oe,{rn:!1})).records[s])if(null!==i){if("bigint"!=typeof i)return null;r(i)}}}return d},du:async e=>{const{vl:{Li:t,Ni:n,Si:r,Ii:o,ll:i,sl:l}}=kd();if("no table selected"===t.type||"broken schema"===t.type)return null;const a=Hr(t,"rowid");if(null===a)return null;const s=ed(t);if(!s)return null;const c=ju({Si:r,Ii:o,Mi:t.columns}),$=Wu({Ni:n,Li:t}),u=[],d=[];for(const{su:f,jo:h}of e){const[e,n]=Re(f.cu,h.cu);if(null===i.P){let t=e;for(const r of(await pa(`SELECT ${a} as ${a} FROM ${s}${c.xi}${$} LIMIT ? OFFSET ?`,[...c.Ei,n-e+1n,e],"read_only",Oe,{rn:!1})).records[a]){if("bigint"!=typeof r)return null;u.push(r),d.push(t),t++}}else{const{xi:r,Ei:o}=Gu(t,i.P,i.rl,l);let f=e;for(const i of(await pa(`WITH __subquery AS (SELECT ${Vr(t,"rowid as rowid, ")}* FROM ${s}${c.xi}${$})\nSELECT ${a} as ${a} FROM (${r}) LIMIT ? OFFSET ?`,[...c.Ei,...o,n-e+1n,e],"read_only",Oe,{rn:!1})).records[a])if(null!==i){if("bigint"!=typeof i)return null;u.push(i),d.push(f),f++}}}return[u,d]},pi:(e,t,n)=>e.some((e=>Ie([e.su.cu,e.jo.cu])<=t&&t<=Se([e.su.cu,e.jo.cu])&&Su(e.su.P,e.jo.P)<=n&&n<=Iu(e.su.P,e.jo.P)))},Ab=Fe.fe,Db=async(e,t)=>{Zh?.();const{vl:{yl:n,al:r,Li:o}}=kd(),i=qr(n,t);if(void 0===i)return;const l=i[e];if(void 0===l)return;const a=Yw.F$(e);if("table"===o.type&&null!==o.schema&&[2n,3n].includes(Cu(o,e)?.hidden)){let n;try{const t=de("CreateTableStatement",o.schema),r=t.columns.find((t=>t.columnName.name===e));if(!r)return;n={createTableAST:t,generatedAlwaysAsAST:de("GeneratedAlwaysAs",r.typeNameAndColumnConstraints)}}catch(HE){return void console.error(HE)}yd.kl({Bi:Ab,rc:n,P:e,iu:i,fu:a,cu:r.Oi+BigInt(t),hu:a.length>0?0:null,lc:!1,pu:await kb(Ma,o.name),oc:n.generatedAlwaysAsAST.expr})}else yd.kl({Bi:Ab,rc:null,P:e,iu:i,fu:a,cu:r.Oi+BigInt(t),hu:a.length>0?0:null,lc:!1,...sh.Cs(l)});tp(!0)},Fb=Ol(0,{visible:!0},{zt:"g:noKeysFoundV2",Bt:ka(),Ft:["visible"]}),Ub=()=>{const e=Fb((e=>e.visible));return e?Tn("div",{class:"inline-dialog relative my-4 py-1 ",children:[Tn("h2",{class:"font-bold text-dialog-title border-b border-b-primary",children:je("{% no-keys-found %}How to Update Tables via Views or Queries")}),Tn("p",{class:"mb-2",children:[je("{% no-keys-found %}To update records using a view or a custom query, the result must include a rowid column."),Tn("br",{})]}),Tn("p",{class:"mb-2",children:je("{% no-keys-found %}Example modifications:")}),Tn(hm,{w$:"pre",Ee:"mb-2 outline outline-1 outline-zinc-400 p-2 [font-size:inherit] overflow-x-auto bg-white select-text",Ue:"SELECT * FROM t1;\n↓\nSELECT rowid, * FROM t1;"}),Tn(hm,{w$:"pre",Ee:"mb-2 outline outline-1 outline-zinc-400 p-2 [font-size:inherit] overflow-x-auto bg-white select-text",Ue:"CREATE VIEW v1 AS SELECT t1.c1, t2.c2 FROM t1 JOIN t2;\n↓\nCREATE VIEW v1 AS SELECT t1.rowid, t2.rowid, t1.c1, t2.c2 FROM t1 JOIN t2;"}),Tn(J$,{Ce:()=>{Fb.Dt({visible:!1})}})]}):Tn(Zt,{})},Bb=async()=>{const e=kd().kl;if(e.Bi!==Ab)return;const t=_u(kd().vl.Li,e.P);if(null===t)return;const n=Eu(kd().vl.Li,t)?.foreignKeys[0];if(void 0===n)return;yd.ea();const r=e.iu[e.P];if(void 0===r)return;await yd.Wl.xi({type:"table-like",name:n.table});const{vl:{Li:o,Ni:i}}=kd();if("no table selected"===o.type||"broken schema"===o.type)return;const l=(await pa(`SELECT rownum FROM (SELECT row_number() OVER (${Wu({Ni:i,Li:o})||"ORDER BY 0"}) AS rownum, ${ye(n.to)} as key FROM ${ye(n.table)}) WHERE key IS ?`,[r],"read_only",Oe)).records.rownum[0];if("bigint"!=typeof l)return;await yd.Wl.al({Oi:l-1n});const a=l-1n-kd().vl.al.Oi;pg[Fe.te].ya(a)},zb=async()=>(await kd().Sl.Il(!0)).Jl,Pb=async()=>{if(mg()&&kd().Ol.commitOnEnterOrTab){if(kd().kl.Bi!==Fe.fe)throw new Error;return await Sg.x$(kd().kl,kd().ul).Mc(!0),!1}return await zb()},Hb=new ys("stmt.update",(()=>kd().kl.Bi===Fe.fe),Id),Vb=new ys("cell.editing",(()=>{const{_l:e}=kd();return!!e?.nc}),Id),jb=new ys("cell.supportsInPlaceEditing",(()=>{const{_l:e}=kd();return!!e?.ac}),Id),Gb=new ys("dom.textSelection",(()=>{const e=window.getSelection();return null!==e&&""!==e.toString()}),(e=>{window.addEventListener("mousemove",e),window.addEventListener("touchmove",e),window.addEventListener("keydown",e),window.addEventListener("keypress",e),window.addEventListener("keyup",e),window.addEventListener("pointermove",e),window.addEventListener("wheel",e),window.addEventListener("scroll",e)})),qb=_s(Ts(Rs),ks(Ms,Ts(Vb))),Wb=()=>kd().kl;Ds.Te(Os.Hn,"CtrlCmd + KeyC",(async()=>{const e=Wb();await sh.Es(Sa(e.iu[e.P],null))}),[Hb,qb,_s(Ms,Ts(Gb))]),Ds.Te(Os.Vn,"Escape",(async()=>{await Ud()}),[Hb,qb]),Ds.Te(Os.jn,"ArrowUp",(async()=>{await zb()||await Jb(-1n)}),[Hb,qb]),Ds.Te(Os.Gn,"ArrowRight",(async()=>{await zb()||await Xb(1)}),[Hb,qb]),Ds.Te(Os.qn,"ArrowDown",(async()=>{await zb()||await Jb(1n)}),[Hb,qb]),Ds.Te(Os.Wn,"ArrowLeft",(async()=>{await zb()||await Xb(-1)}),[Hb,qb]),Ds.Te(Os.Qn,"Shift + ArrowUp",(async()=>{const e=Wb();if(0n===e.cu)return;if(await zb())return;const t=e.cu-1n;await pg[Fe.J].V$(e.P,t),Mp(t).catch($a)}),[Hb,qb]),Ds.Te(Os.Kn,"Shift + ArrowRight",(async()=>{const e=Wb(),{Cl:t,vl:{Li:n}}=kd(),r=_u(n,e.P);if(null===r)return;const o=t.$i(r,1,!1);null!==o&&(await zb()||(await pg[Fe.J].V$(Tu(n,o),e.cu),Rp(o)))}),[Hb,qb]),Ds.Te(Os.Yn,"Shift + ArrowDown",(async()=>{const e=Wb();if(e.cu===Qb()-1n)return;if(await zb())return;const t=e.cu+1n;await pg[Fe.J].V$(e.P,t),Mp(t).catch($a)}),[Hb,qb]),Ds.Te(Os.Jn,"Shift + ArrowLeft",(async()=>{const e=Wb(),{Cl:t,vl:{Li:n}}=kd(),r=_u(n,e.P);if(null===r)return;const o=t.$i(r,-1,!1);null!==o&&(await zb()||(await pg[Fe.J].V$(Tu(n,o),e.cu),Rp(o)))}),[Hb,qb]),Ds.Te(Os.Xn,"CtrlCmd + Shift + ArrowUp",(async()=>{const e=Wb();await zb()||await pg[Fe.J].V$(e.P,0n)}),[Hb,qb]),Ds.Te(Os.Zn,"CtrlCmd + Shift + ArrowRight",(async()=>{const e=Wb(),{Cl:t,vl:{Li:n}}=kd(),r=t.ui();null!==r&&(await zb()||(await pg[Fe.J].V$(Tu(n,r),e.cu),Rp(r)))}),[Hb,qb]),Ds.Te(Os.er,"CtrlCmd + Shift + ArrowDown",(async()=>{const e=Wb();await zb()||await pg[Fe.J].V$(e.P,Qb()-1n)}),[Hb,qb]),Ds.Te(Os.tr,"CtrlCmd + Shift + ArrowLeft",(async()=>{const e=Wb(),{Cl:t,vl:{Li:n}}=kd(),r=t.di();null!==r&&(await zb()||(await pg[Fe.J].V$(Tu(n,r),e.cu),Rp(r)))}),[Hb,qb]),Ds.Te(Os.nr,"CtrlCmd + ArrowUp",(async()=>{const{vl:{al:{Ai:e}}}=kd();await zb()||await Jb(2n*-e.Fi)}),[Hb,qb]),Ds.Te(Os.rr,["CtrlCmd + ArrowRight","End"],(async()=>{await zb()||await Xb(kd().vl.Li.columns.length)}),[Hb,qb]),Ds.Te(Os.ir,["CtrlCmd + ArrowDown","CtrlCmd + End"],(async()=>{await zb()||await Jb(Qb())}),[Hb,qb]),Ds.Te(Os.lr,["CtrlCmd + ArrowLeft","Home"],(async()=>{await zb()||await Xb(-kd().vl.Li.columns.length)}),[Hb,qb]),Ds.Te(Os.ar,"CtrlCmd + Home",(async()=>{const{vl:{al:{Ai:e}}}=kd();await zb()||(await Xb(-kd().vl.Li.columns.length),await Jb(2n*-e.Fi))}),[Hb,qb]),Ds.Te(Os.ar,"CtrlCmd + Home",(async()=>{const{vl:{al:{Ai:e},Li:t},Cl:n}=kd();if(await zb())return;const r=n.di();if(null===r)return;const o=Tu(t,r);null!==o&&(await Db(o,0),await Jb(2n*-e.Fi))}),[Ts(Hb),qb]),Ds.Te(Os.cr,"PageUp",(async()=>{"no table selected"!==kd.Wl().type&&(await zb()||await Jb(-Ld()))}),[Hb,qb]),Ds.Te(Os.$r,"PageDown",(async()=>{"no table selected"!==kd.Wl().type&&(await zb()||await Jb(Ld()))}),[Hb,qb]);const Qb=()=>kd().vl.al.Ai.Fi;Ds.Te(Os.ur,"CtrlCmd + Space",(async()=>{const e=Wb(),{vl:{Li:t,al:{Ai:n}}}=kd(),r=_u(t,e.P);if(null===r)return;const o=[{su:{cu:0n,P:r},jo:{cu:n.Fi-1n,P:r}}];await zb()||pg[Fe.J].ya(o,await Ob.uu(o))}),[Hb,qb]),Ds.Te(Os.dr,"Shift + Space",(async()=>{const e=Wb();await zb()||pg[Fe.te].tu([e.iu],e.cu,e.cu)}),[Hb,qb]),Ds.Te(Os.hr,"F12",(async()=>{await Bb()}),[Hb,qb]),Ds.Te(Os.br,["Shift + F12","Shift + Alt + F12"],(async()=>{await Ib.Pt().ou()}),[Hb,qb]),Ds.Te(Os.wr,[],(async()=>{const e=Wb(),t=kd().Cl,n=_u(kd().vl.Li,e.P);if(null===n)return;const r=t.si(n);null!==r&&(await zb()||(0===r?await Xb(1):await Xb(-1),yd.Cl(t.Ye(kd().vl.Li,(e=>e!==n)))))}),[Hb,qb]),Ds.Te(Os.vr,"Enter",(async()=>{await Pb()||await Jb(1n)}),[Hb,Ns,Ts(Vb)]),Ds.Te(Os.gr,"Shift + Enter",(async()=>{await Pb()||await Jb(-1n)}),[Hb,Ns,Ts(Vb)]),Ds.Te(Os.yr,"Tab",(async()=>{await Pb()||await Xb(1)}),[Hb,Ns,Ts(Vb)]),Ds.Te(Os.Er,"Shift + Tab",(async()=>{await Pb()||await Xb(-1)}),[Hb,Ns,Ts(Vb)]);{const e=e=>{const{kl:t}=kd();t.Bi===Fe.fe&&null===t.rc&&t.Kl!==vh.Ts&&(yd.Gl(Fe.fe,{Kl:e,lc:!0}),tp())},t=new ys("cell.supportsInPlaceEditing",(()=>{const{kl:e}=kd();return e.Bi===Fe.fe&&null===e.rc}),Id);Ds.Te(Os.Cr,[],(()=>{e(vh.Rs)}),[Hb,Ts(Pp),t]),Ds.Te(Os.Tr,[],(()=>{e(vh.Ms)}),[Hb,Ts(Pp),t]),Ds.Te(Os._r,"Shift + Alt + KeyN",(()=>{e(vh.Ts)}),[Hb,Ts(Pp),t]),Ds.Te(Os.kr,[],(()=>{e(vh.Is)}),[Hb,Ts(Pp),t])}Ds.Te(Os.vr,"Enter",(async()=>{await Pb()||await Jb(1n)}),[Hb,Ns,Vb]),Ds.Te(Os.gr,"Shift + Enter",(async()=>{await Pb()||await Jb(-1n)}),[Hb,Ns,Vb]),Ds.Te(Os.yr,"Tab",(async()=>{await Pb()||await Xb(1)}),[Hb,Ns,Vb]),Ds.Te(Os.Er,"Shift + Tab",(async()=>{await Pb()||await Xb(-1)}),[Hb,Ns,Vb]),Ds.Te(Os.Sr,"F2",(()=>{const{_l:e}=kd();e?.ac&&yd._l({...e,nc:!0})}),[Hb,Ns,Ts(Vb),jb]),Ds.Te(Os.Ir,["F2","Escape"],(async()=>{const e=Wb();await Db(e.P,await Mp(e.cu))}),[Hb,Ns,Vb]);const Kb=new ke;let Yb=0n;const Jb=async e=>(await Kb.j({G:()=>{Yb+=e},j:async()=>{e+=Yb,Yb=0n;const{kl:t}=kd();t.Bi===Fe.fe&&0n!==e&&await Db(t.P,await Mp(t.cu+e))}}),!1),Xb=async e=>{const{kl:t,Cl:n,vl:{Li:r}}=kd();if(t.Bi!==Fe.fe)return;const o=_u(r,t.P);if(null===o)return;const i=n.$i(o,e,!0);if(null===i)return;if(o===i)return;const l=Tu(r,i);null!==l&&(await Db(l,await Mp(t.cu)),Rp(i))},Zb=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),vc:(e,t)=>{try{if(t.rc)try{const{xi:n,ru:r}=t.pu((e=>xe({...e.rc.createTableAST,columns:e.rc.createTableAST.columns.map((t=>{return t.columnName.name===e.P?{text:t.beforeColumnName+t.columnName.text+(n={...e.rc.generatedAlwaysAsAST,expr:e.oc},`${n.generatedAlwaysAs.startsWith(" ")?"":" "}${n.generatedAlwaysAs}(${n.expr})${n.beforeOption}${n.option}${n.afterOption}`)}:t;var n}))}))(t),!1);return 0!==r.length?{Kl:"error"}:(e.Cc([n,[],"script",Oe],{gc:kg.yc}),{Kl:"generatedColumn",xi:n,Ec:null})}catch(HE){return{Kl:"generatedColumn",xi:"",Ec:ee(HE)}}else{if(t.Kl===vh.As)return{Kl:"error"};if(null===t.hu)return{Kl:"error"};const n=t.fu[t.hu],{Li:r}=kd().vl;switch(r.type){case"no table selected":case"broken schema":return{Kl:"error"};case"table":case"virtual":{const o=((e,t,n,r,o)=>{const i=ye(e),l=o[t];if(void 0===l)throw new ab;const a=new Du,s=new Du;for(const $ of r){const e=o[$];if(void 0===e)throw new ab;a.gi(`${ye($)} IS ?`,[e],{yi:!1}),s.gi(`${ye($)} IS ?`,[t===$?n:e],{yi:!1})}a.gi(`${ye(t)} IS ?`,[l],{yi:!1}),s.gi(`${ye(t)} IS ?`,[n],{yi:!1});const c=`${ye(t)} = ?`;return{Dc:`UPDATE ${i} SET ${c}${a.xi}`,Fc:[n,...a.Ei],W$:1n,Y$:`UPDATE ${i} SET ${c}${s.xi}`,mu:[l,...s.Ei],bu:1n,N:i,wu:c,vu:Ne(n,l)}})(r.name,t.P,hh.Ls(t._s,t.Kl),n,t.iu);return e.Te([o.Dc,o.Fc,"read_write",{...Oe,changes:o.W$}],null,null,[o.Y$,o.mu,"read_write",{...Oe,changes:o.bu}],{gc:kg.Uc}),{Kl:"baseColumn",N:o.N,wu:o.wu,vu:o.vu}}case"custom query":case"view":case"shadow":case"other":{const o=((e,t,n,r,o)=>{if(!e.columnOrigins)throw new sb;const i=e.columnOrigins[t];if(!(i&&i.database&&i.table&&i.column))throw new sb;const{column:l}=i,a=`${ye(i.database)}.${ye(i.table)}`;if(1!==r.length)throw new ab(`columns.length = ${r.length}`);const s=o[t];if(void 0===s)throw new ab;const c=new Du,$=new Du;for(const f of r){const t=e.columnOrigins[f]?.column;if(void 0===t)throw new sb;const r=o[f];if(void 0===r)throw new ab;c.gi(`${ye(t)} IS ?`,[r],{yi:!1}),$.gi(`${ye(t)} IS ?`,[l===t?n:r],{yi:!1})}c.xi;const u=c.xi.slice(7);c.gi(`${ye(l)} IS ?`,[s],{yi:!1}),$.gi(`${ye(l)} IS ?`,[n],{yi:!1});const d=`${ye(l)} = ?`;return{Dc:`UPDATE ${a} SET ${d}${c.xi}`,Fc:[n,...c.Ei],W$:1n,Y$:`UPDATE ${a} SET ${d}${$.xi}`,mu:[s,...$.Ei],bu:1n,N:a,wu:d,gu:u}})(r,t.P,hh.Ls(t._s,t.Kl),n,t.iu);return e.Te([o.Dc,o.Fc,"read_write",{...Oe,changes:o.W$}],null,null,[o.Y$,o.mu,"read_write",{...Oe,changes:o.bu}],{gc:kg.Uc}),{Kl:"baseColumn",N:o.N,wu:o.wu,gu:o.gu,vu:!1}}}}}catch(HE){if(HE instanceof ab||HE instanceof sb)return{Kl:"error"};throw HE}},Ml:async e=>{if(e){const{kl:e}=kd();if(e.Bi!==Fe.fe)return;await Db(e.P,await Mp(e.cu))}else await Ud()},Tc:e=>e.lc,yu:Xb,xu:Jb,ya:Db,Bi:Ab,_c:(e,t,n)=>{let r;const o=Sd((e=>e.cl===ud.Gi)),i=Sd((e=>"update;"+e.vl.Li.name+";"+(e.kl.Bi===Fe.fe?e.kl.P:""))),l={kc:Tn(Zt,{children:[Tn(Jh,{Nt:"Update Generated Column"}),"error"]}),Sc:Tn(Zt,{children:"error"})};if(e.rc)return"generatedColumn"!==n.Ic.Kl?l:{kc:Tn(Zt,{children:Tn(Jh,{Nt:"Update Generated Column"})}),Sc:Tn(Zt,{children:[Tn(Wf,{Da:"sql",Kl:"--string",Ro:e=>{yd.Gl(Fe.fe,{oc:e})},Na:6,Gt:e.oc,Aa:i}),null!==n.Ic.Ec&&Tn("pre",{class:"text-red-800",children:n.Ic.Ec}),Tn("div",{class:"mt-2",children:[o&&Tn(Wh,{xi:n,Ce:e=>{n.Mc(e).catch($a)}}),!o&&Tn(Lb,{}),Tn(Dd,{})]})]})};if(null===e.hu)r=Tn(Zt,{children:[Tn(Ch,{mo:je("Not writable table."),P:e.P,Na:8,Kl:e.Kl,Li:t,_s:e._s,zs:e=>{},Ps:e=>{},Hs:!0,Us:!0,Aa:i}),Tn(Ub,{}),Tn("div",{class:"mt-2",children:[o&&Tn(Wh,{xi:n,mo:!0,Ce:e=>{n.Mc(e).catch($a)}}),!o&&Tn(Lb,{}),Tn(Dd,{})]})]});else{if("baseColumn"!==n.Ic.Kl)return l;const a=e.Kl===vh.Rs&&e._s.ks.includes("�");r=Tn(Zt,{children:[Tn(Ch,{P:e.P,Na:8,Kl:e.Kl,Li:t,_s:e._s,zs:e=>{yd.Gl(Fe.fe,{_s:e,lc:!0})},Ps:e=>{yd.Gl(Fe.fe,{Kl:e}),tp()},Hs:!0,Us:!0,Bs:!0,Aa:i}),a&&Tn("p",{class:"italic mt-2 text-red-600",children:je("The textarea contains the � symbol, which is used to represent invalid UTF-8 text. Please remove these symbols before committing.")}),Tn("div",{class:"mt-2",children:[o&&Tn(Wh,{xi:n,mo:n.Ic.vu||e.Kl===vh.As||a,Ce:e=>{n.Mc(e).catch($a)}}),!o&&Tn(Lb,{}),Tn(Dd,{})]})]})}return{kc:Tn(Zt,{children:[Tn(Jh,{Nt:"UPDATE"}),null===e.hu&&Tn("span",{class:"ml-2 text-red-700 border-b border-1 border-b-red-700 pointer-outline",onClick:()=>{Fb.Dt((e=>({visible:!e.visible})))},children:[Tn(Br,{St:Ur.tt,Ee:"mr-1"}),je("No keys found")]}),"baseColumn"===n.Ic.Kl&&Tn(Zt,{children:[n.Ic.N," ",Tn(Kh,{children:"SET"})," ",n.Ic.wu," ",Tn(Kh,{children:"WHERE "}),void 0!==n.Ic.gu&&n.Ic.gu,null!==e.hu&&void 0===n.Ic.gu&&Tn("span",{children:e.fu[e.hu]?.map((t=>`${ye(t)} = ${ge(Sa(e.iu[t],null))}`)).join(" AND ")})]})]}),Sc:r}},ctxCellEditing:Vb,goToSourceRecord:Bb},Symbol.toStringTag,{value:"Module"})),ew=Nl(0,{jl:null}),tw=e=>{const t=Rd(),n=jr(e.Eu);return Tn("table",{class:"min-w-full w-max border-collapse table-fixed bg-table-bg",children:[Tn("thead",{class:"text-neutral-800 bg-card-bg outline-card-hr w-max",children:Tn("tr",{children:Object.keys(e.Eu).map((e=>Tn("th",{class:"font-normal select-none relative max-w-[9.375em]",children:Tn("code",{class:"block [word-break:break-word] [color:inherit] [font-family:inherit] [font-size:inherit] w-[inherit] overflow-x-hidden text-ellipsis px-[0.5em]",children:e})},e)))})}),Tn("tbody",{children:[0===n.length&&Tn("td",{colSpan:Object.keys(e.Eu).length,class:"px-[0.625em] italic opacity-80 text-center",children:je("No rows")}),n.map(((n,r)=>Tn("tr",{children:Object.keys(e.Eu).map((e=>Tn("td",{class:"px-[0.625em] whitespace-nowrap border-r border-[--td-border-color] border-b border-b-[--td-border-color]",style:{...t,maxWidth:"9.375em"},children:Tn("pre",{class:"whitespace-nowrap [font-size:inherit] block overflow-hidden text-ellipsis w-[inherit]",children:Tn(sh.ss,{cs:"inline",Gt:Sa(n[e],null)})})},e)))},r)))]})]})},nw=()=>{const e=ew((e=>e.jl));return null===e?Tn(Zt,{}):Tn("div",{class:"fixed bg-[--neutral-100] border border-neutral-300 shadow-lg",style:{left:e.lu.left,bottom:window.innerHeight-e.lu.top},children:Tn(tw,{Eu:e.Eu})})},rw=!1,ow=new ys("dom.note",(()=>null!==kd().Hl),Sd.Ht);Ds.Te(Os.Xr,"Escape",(()=>{yd.fa()}),[ow],!0,As.Xr);const iw=e=>e>=kd().vl.Ai,lw=(e,t)=>(e=>e>=kd().vl.Li.columns.length)(t)||iw(e),aw=(e,t)=>{const{Li:n}=kd().vl;return e?"":Tu(n,t)??""},sw=(e,t)=>Object.keys(e).every((n=>e[n]===t[n])),cw=(e,t)=>{const{yl:n}=kd().vl;return Sa(n[e]?.[t],null)},$w=e=>{const t=Sd((e=>e.isPreviewEnabled)),{hs:n,fs:r,ga:o,nc:i}=Sd((t=>((e,t,n)=>{const r=lw(t,n);if(r||e.kl.Bi!==Fe.fe)return{hs:r,fs:null,ga:e.vl.Li.name,nc:!1};{const o=aw(r,n),i=e.kl.cu===BigInt(t)+e.vl.al.Oi&&e.kl.P===o;return{hs:r,fs:i&&e._l?.fs?e._l.fs:null,ga:e.vl.Li.name,nc:i&&!!e._l?.ac&&e._l.nc}}})(t,e.R$,e.P)),sw),l=Sd((e=>e.maxTextWrap)),[a,s]=Ri(null),c=Sd((e=>e.Ol["tableCellForeignKeyPreview.opacity"])),$=Sd((e=>e.Ol.alignNumberRight)),u=!!t[xd(o,e.P)];return Oi((()=>{if(n||r)return;if(!a)return;const t=a;let o=()=>{};const i=()=>{const{vl:{Li:i,yl:a}}=kd();o();let s=!1;o=()=>{s=!0};const d=Eu(i,e.P);if(void 0===d)return;const f=d.name,h=a[f]?.[e.R$];if(void 0===h)return;const p=d.foreignKeys[0];let m;if(p&&c>0){const e=Oh(p.table,p.to,h),t=e.Pt();t.ys?null!==t.Gt&&(m=new kh(`<span class="text-black italic whitespace-nowrap" style="opacity: ${ne(c+"")}">${t.Gt}</span>`)):m=e.C((e=>s||null===e||""===e?null:`<span class="text-black italic whitespace-nowrap" style="opacity: ${ne(c+"")}">${e}</span>`))}sh.ds({$s:u,Qa:t,hs:n,fs:r,Gt:h,bs:l,us:m,ws:$})};i();const s=Id(((e,t)=>{e.vl!==t.vl&&i()}));return()=>{s(),o()}}),[e.R$,e.P,n,u,r,a,l,c,$]),n?Tn("span",{}):i?Tn("span",{class:"opacity-0",children:r??Tn("div",{ref:s})}):r??Tn("div",{ref:s})},uw=Nl(0,{Cu:!1,Tu:null}),dw=tb((e=>{Id(((t,n)=>{t.kl===n.kl&&t._l===n._l&&t.vl===n.vl||e()}))}),(e=>{const t=new Map,n=new Map;return(r,o,i)=>{const l=r?t:n;let a=l.get(o);if(a||l.set(o,a=[]),i in a)return a[i];const s=e(r,o,i);return a[i]=s,s}}),((e,t,n)=>{const{kl:r,_l:o,vl:{al:{Oi:i}}}=kd();return!e&&!(r.Bi!==Fe.fe||r.P!==t||r.cu!==BigInt(n)+i||!o?.ac||!o.nc)})),fw=tb((e=>{Id(((t,n)=>{t.vl!==n.vl&&e()}))}),eb,(e=>{const{Li:t}=kd().vl,n=Eu(t,e)?.foreignKeys[0];return n?.table})),hw=tb((e=>{Id(((t,n)=>{t.vl!==n.vl&&e()}))}),eb,(e=>{const{Li:t}=kd().vl,n=Eu(t,e)?.foreignKeys[0];return n?.to??void 0})),pw=tb((e=>{Id(((t,n)=>{t.vl===n.vl&&t.Cl===n.Cl||e()}))}),eb,(e=>kd().Cl.pi(e))),mw=tb((e=>{Id(((t,n)=>{t.vl!==n.vl&&e()}))}),(e=>{const t=new Map;return(n,r)=>{let o=t.get(n);if(o||t.set(n,o=[]),r in o)return o[r];const i=e(n,r);return o[r]=i,i}}),((e,t)=>{const n=cw(e,t);return"bigint"==typeof n||"number"==typeof n})),bw=async(e,t,n,r=!1)=>{if(e.target instanceof HTMLTextAreaElement)return Ue.ve;e.preventDefault();const o=Nh(),i=kd(),{vl:{al:l},kl:a}=i,s=lw(t,n),c=aw(s,n),$=l.Oi+BigInt(t),u=()=>{if(r)return;uw.Dt({Cu:!0,Tu:null});const e=Id(((e,t)=>{if(e.vl.al.Oi===t.vl.al.Oi)return;const{Tu:n}=uw.Pt();null!==n&&ww(n.R$,n.P).catch($a)}));o((()=>{e(),uw.Dt({Cu:!1,Tu:null})}))};if(e.altKey||e.ctrlKey||e.metaKey){const e=await kd().Sl.Il(!1);return e.Jl?Ue.ve:(a.Bi!==Fe.fe&&a.Bi!==Fe.J&&await pg[Fe.fe].ya(c,t),await pg[Fe.J].V$(c,$,!0),e._u||u(),Ue.we)}if(e.shiftKey){const e=await kd().Sl.Il(!1);return e.Jl?Ue.ve:(a.Bi!==Fe.fe&&a.Bi!==Fe.J&&await pg[Fe.fe].ya(c,t),await pg[Fe.J].V$(c,$),e._u||u(),Ue.we)}if(r&&(a.Bi===Fe.J&&Ob.pi(a.ku,$,n)||a.Bi===Fe.te&&pg[Fe.te].eu(i,t)))return Ue.we;const d=await kd().Sl.Il(!1);return d.Jl?Ue.ve:(await pg[Fe.fe].ya(c,t),d._u||u(),Ue.we)},ww=async(e,t)=>{if(!uw.Pt().Cu)return;const{kl:n,vl:{al:r}}=kd(),o=aw(lw(e,t),t);if(n.Bi!==Fe.J&&n.Bi!==Fe.fe)return;const i=r.Oi+BigInt(e);n.Bi===Fe.fe&&n.cu===i&&n.P===o||await pg[Fe.J].V$(o,i)},vw=()=>{const e=Sd((e=>"no table selected"!==e.vl.Li.type&&"broken schema"!==e.vl.Li.type&&("table"===e.vl.Li.type||"virtual"===e.vl.Li.type)&&e.vl.Li.hasRowIdColumn));return Tn(Zt,{children:[e&&Tn(cu,{Ce:async()=>{const{kl:e}=kd();if(e.Bi!==Fe.J)return;if(pg[Fe.J].Su(e)!==Ue.we)return;const[t,n]=await ub({D$:!1,Ri:!0});t===cb.Mn&&await n.Mc(!1)},St:Ur.Et,Nt:je("Delete Rows")}),Tn(cu,{Ce:async()=>{const{kl:e}=kd();e.Bi===Fe.J&&await pg[Fe.J].Iu(e)},St:Ur.We,Nt:je("Hide Columns")}),Tn("hr",{}),Tn(cu,{Ce:async()=>{const{kl:e}=kd();e.Bi===Fe.J&&await ga(await Ob.$u(e.ku))},Nt:je("Copy Selection as CSV"),St:Ur.Be,Vo:ws("CtrlCmd + KeyC")}),Tn(cu,{Ce:async()=>{const{kl:e}=kd();if(e.Bi!==Fe.J)return;const t=await Ob.xi(e.ku),n=Object.keys(t[0]??{})[0];void 0!==n&&t.every((e=>1===Object.keys(e).length&&n in e))?await ga(X(t.map((e=>e[n])))):await ga(X(t))},St:Ur.Be,Nt:je("Copy Selection as JSON")}),Tn(cu,{Ce:async()=>{const{kl:e,vl:{Li:{columns:t}}}=kd();if(e.Bi!==Fe.J)return;const n=new Map(t.map(((e,t)=>[e.name,t])));await ga(((e,t,n)=>{if(0===e.length)return"";const r=new Set,o=new Map,i=[];for(const u of e){const e={};for(const[t,n]of Object.entries(u)){r.add(t);const i=(e[t]=Zm("string"==typeof n?n:(l=n,X(l)))).length,a=o.get(t);(void 0===a||i>a)&&o.set(t,i)}i.push(e)}var l;if(0===r.size)return"";const a=Array.from(r);n&&a.sort(n);const s=[];for(const u of a){const e=Zm(u);s.push(e);const t=o.get(u);(void 0===t||e.length>t)&&o.set(u,e.length)}const c=a.map((e=>o.get(e)??0)),$=[];$.push("| "+s.map(((e,t)=>e.padEnd(c[t]))).join(" | ")+" |"),$.push("|-"+a.map(((e,t)=>"-".repeat(c[t]))).join("-|-")+"-|");for(const u of i)$.push("| "+a.map(((e,t)=>(u[e]??"").padEnd(c[t]))).join(" | ")+" |");return $.join("\n")})(await Ob.xi(e.ku),0,((e,t)=>(n.get(e)??n.size)-(n.get(t)??n.size))))},St:Ur.Be,Nt:je("Copy Selection as Markdown Table")})]})},gw=()=>{const e=Sd((e=>pb(e.vl.Li)));return Tn(Zt,{children:[e&&Tn(cu,{Ce:async()=>{const[e,t]=await ub({D$:!1,Ri:!0});e===cb.Mn&&await t.Mc(!1)},St:Ur.Et,Nt:je("DELETE…")}),Tn("hr",{}),Tn(cu,{Ce:async()=>{const e=kd().kl;e.Bi===Fe.te&&await pg[Fe.te].Z$(e)},St:Ur.Be,Nt:je("Copy Selection as CSV"),Vo:ws("CtrlCmd + KeyC")})]})},yw=e=>{const t=cw(e.T$,e.R$);Sd((e=>rw));const n=fw(e.P),r=Sd((t=>Sb(t.vl.Li,e.T$))),o=Sd((e=>pb(e.vl.Li))),i=Sd((e=>"table"===e.vl.Li.type));return Tn(Zt,{children:[sh.os(t)&&Tn(cu,{Ce:()=>{wa[0](t).catch($a)},St:Ur.lt,Nt:je("Open Link")}),void 0!==n&&Tn(cu,{Ce:()=>{Bb().catch($a)},St:Ur.B,Nt:je("Go to Source Record"),Vo:Ds.do(Os.hr)}),r&&Tn(cu,{Ce:()=>{Ib.Pt().ou().catch($a)},St:Ur.B,Nt:je("Find All References"),Vo:Ds.do(Os.br)}),rw,Tn("hr",{}),!(t instanceof Uint8Array)&&Tn(cu,{Ce:async()=>{yd.ea();const{Li:n}=kd().vl;"no table selected"!==n.type&&"broken schema"!==n.type&&await yd.Wl.Xl(e.T$,{Gt:null===t?"NULL":t+"",Ne:!0,ut:!1,Ti:!0})},St:Ur.Ye,Nt:Tn("span",{children:[je("Apply Filter: "),Tn("span",{class:"code-font",children:ye(oe(e.T$,{$:15,C:e=>e}),!1)+" "+(null===t?"IS":"=")+" "+ge(t,8)})]})}),Tn(cu,{Ce:async()=>{await yd.Wl.ll(e.T$)},St:Tn(Ir,{}),Nt:je("Group by Value")}),Tn("hr",{}),o&&Tn(cu,{Ce:()=>pg[Fe.te].nu(BigInt(e.R$)),St:Ur.Et,Nt:je("Delete Row"),"data-testid":void 0}),i&&Tn(cu,{Ce:()=>{const{vl:{Li:t,yl:n}}=kd();"no table selected"!==t.type&&"broken schema"!==t.type&&"custom query"!==t.type&&pg[Fe.le].ya({S:t.name,Li:t,Mi:t.columns.filter((e=>0n===e.hidden)).map((t=>sh.Cs(n[t.name]?.[e.R$]??null)))}).catch($a)},St:Tn($r,{}),Nt:je("Duplicate Row"),"data-testid":void 0}),Tn("hr",{}),Tn(cu,{Ce:()=>{sh.Es(t).catch($a)},St:Ur.Be,Vo:Ds.do(Os.Hn),Nt:je("Copy Text")}),Tn(cu,{Ce:()=>ga(X(t)),St:Ur.nt,Nt:je("Copy JSON")}),Tn(cu,{Ce:()=>ga(ge(t)),St:Ur.Pe,Nt:je("Copy SQL")})]})},xw=(e,t,n)=>{const{Al:r,vl:{Li:{name:o},yl:i}}=e,l=i[t][n],a=r.get(e.Dl),s=null===o?void 0:a?.get(o),c=a?.get(vu);return s?.get(t)?.(l)??s?.get(vu)?.(l)??c?.get(t)?.(l)??c?.get(vu)?.(l)??null},Ew=({Qa:e,xo:t})=>{const[n,r]=Ri(null);return Li((()=>{if(t)return e.addEventListener("contextmenu",t),()=>{e.removeEventListener("contextmenu",t)}}),[e,t]),Li((()=>{if(n){if(n.append(e),"1"===e.dataset.needFocus||"2"===e.dataset.needFocus||!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement)){const t=t=>{t&&(e.focus(),e.select()),"2"===e.dataset.needFocus&&(e.selectionEnd=2),e.dataset.needFocus="0"};document.hasFocus()?t(!0):wa[44]().then((e=>{t(!e)}),$a)}return()=>{n.contains(e)&&n.removeChild(e)}}}),[e,n]),Tn("span",{ref:r})},Cw=e=>{const{onMouseDown:t,onContextMenu:n,onMouseEnter:r,onMouseLeave:o}=Di((()=>({onMouseDown:t=>{if(2!==t.button)return bw(t,e.R$,e.P)},onMouseEnter:()=>{uw.Dt({Tu:{R$:e.R$,P:e.P}}),ww(e.R$,e.P).catch($a)},onContextMenu:t=>(async(e,t,n)=>{if(await bw(e,t,n,!0)===Ue.ve)return;const r=kd(),o=lw(t,n),i=aw(o,n);if(dw(o,i,t)&&r._l?.ac)return;const{kl:l}=r;l.Bi===Fe.J?iu(e,Tn(vw,{})):l.Bi===Fe.te?iu(e,Tn(gw,{})):iu(e,Tn(yw,{P:n,T$:i,R$:t}))})(t,e.R$,e.P),onMouseLeave:()=>{const{Tu:t}=uw.Pt();null!==t&&t.P===e.P&&t.R$===e.R$&&uw.Dt({Tu:null})}})),[e.R$,e.P]),{Mu:i,Ru:l,eu:a,Nu:s,ac:c,Lu:$,T$:u,Ou:d,Au:f,hs:h,Du:p,Fu:m,Uu:b,Bu:w,ua:v}=Sd((t=>((e,t,n,r)=>{const o=lw(t,n),i=aw(o,n),l=i in e.vl.yl;if(o||!l)return{Mu:l?1:0,Ou:void 0,Au:void 0,hs:o,Du:!1,Fu:null,T$:i,Uu:!1,Bu:!1,ua:null,eu:!1,Ru:!1,Nu:!1,ac:null,Lu:!1};const a=cw(i,t),s=pw(n),c={Mu:s?2:1,Ou:fw(n),Au:hw(n),hs:o,Du:e.Ol.alignNumberRight&&mw(i,t),Fu:xw(e,i,t),T$:i,Uu:!1,Bu:!1,ua:null};if(r&&s&&"bigint"!=typeof e.vl.yl.__groupby_count?.[t]&&(c.Uu=!iw(t+1)&&a===cw(i,t+1)&&"bigint"!=typeof e.vl.yl.__groupby_count?.[t+1],c.Bu=t>=1&&a===cw(i,t-1)&&"bigint"!=typeof e.vl.yl.__groupby_count?.[t-1]),e.kl.Bi===Fe.fe){const n=dw(o,i,t),r=BigInt(t),l=Sa(e.kl.iu[e.kl.P],null),s=e.kl.cu===r+e.vl.al.Oi;return{...c,eu:s&&e.kl.P===i,Ru:!(null===l||""===l||a!==l||n),Nu:s,ac:e.kl.P===i&&s&&e._l?e._l.ac:null,Lu:!(e.kl.P!==i||!s||!e._l?.ac||e._l.nc)}}return{...c,eu:e.kl.Bi===Fe.J&&pg[Fe.J].zu(t,e).includes(i),Ru:!1,Nu:!1,ac:null,Lu:!1}})(t,e.R$,e.P,t.Ol.mergeIdenticalCells)),sw),g=Ai(null);Li((()=>((e,t,n,r,o)=>{if(!e)return;const i=e;let l;const a=()=>{clearTimeout(l),l=setTimeout((()=>{const e=kd().vl.yl[n]?.[t];null!=e&&void 0!==r&&pa(`SELECT * FROM ${ye(r)} WHERE ${ye(o??n)} IS ?`,[e],"read_only",Oe).then((e=>{ew.Dt({jl:{Eu:e.records,lu:i.getBoundingClientRect()}})})).catch($a)}),300)},s=()=>{ew.Dt({jl:null}),clearTimeout(l),l=void 0};return i.addEventListener("mousemove",a),i.addEventListener("mouseleave",s),()=>{ew.Dt({jl:null}),clearTimeout(l),l=void 0,i.removeEventListener("mousemove",a),i.removeEventListener("mouseleave",s)}})(g.current,e.R$,u,d,f)),[e.R$,e.P,u,d,f]);const y=Sd((e=>e.columnWidths)),x=Sd((e=>e.vl.Li.name)),E=Sd((e=>e.kl.Bi===Fe.fe)),C=Sd((e=>1===e.vl.Li.columns.length)),T=Fi((t=>{(t.currentTarget.classList.contains("not-editing")||t.currentTarget.selectionStart===t.currentTarget.selectionEnd)&&(t.preventDefault(),iu(t,Tn(yw,{P:e.P,T$:u,R$:e.R$})))}),[u,e.P,e.R$]),_=Rd();if(h)return Tn(Zt,{});switch(i){case 0:return Tn("td",{class:"cell-data bg-black bg-opacity-5"});case 1:return Tn(Zt,{})}return Tn("td",{ref:g,class:Dt("cell-data relative clickable text",c&&"editing",a&&"selected",a&&E&&"selected--update",l&&"bg-[--same-value]",b&&"cell-below-has-same-value",w&&"cell-above-has-same-value",s&&"bg-[--same-row]",p&&"text-right"),"data-td-in-column":e.P,"data-testid":void 0,style:{..._,maxWidth:Sp(y,x,C,e.P)},onMouseDown:t,onMouseEnter:r,onMouseLeave:o,onContextMenu:n,children:[Tn($w,{R$:e.R$,P:e.P}),c&&Tn(Ew,{Qa:c,xo:T}),null!==m&&Tn("div",{class:"absolute opacity-50 z-10 conditional-formatting-bg-blend top-0 left-0 pointer-events-none select-none w-full h-full",style:{background:m},"data-td-interior":!0}),null!==v&&Tn(G$,{baseClass:"div",class:Dt("absolute top-[2px] [font-size:80%]",p?"left-[3px]":"right-[-1px]"),content:v,children:Tn(hr,{})}),$&&Tn("div",{class:"cell-cursor","data-td-interior":!0}),a&&E&&Tn(_w,{})]})},Tw=Nl(0,{lu:null}),_w=()=>{const[e,t]=Ri();return Oi((()=>{if(!e)return;const t=()=>{const t=e.getBoundingClientRect(),n={Uo:t.top,Fo:t.bottom,Do:t.left,Pu:t.right,Hu:t.height,Ks:t.width};Ku(Tw.Pt().lu,n)||Tw.Dt({lu:n})};t();const n=Id(((e,n)=>{e.vl.al!==n.vl.al&&t()})),r=setInterval((()=>{t()}),250);return()=>{n(),clearInterval(r)}}),[e]),Tn("div",{ref:t,class:"absolute left-0 top-0 w-full h-full pointer-events-none select-none"})},kw=e=>Di((()=>Tn(Cw,{R$:e.R$,P:e.P})),[e.R$,e.P]);Ds.Te(Os.Jr,"Shift + F2",(()=>{kd()}),[]);const Sw=Nl(0,{Cu:!1,Vu:null,ju:null}),Iw=async(e,t)=>{e?.preventDefault();const n=Nh();document.activeElement instanceof HTMLElement&&document.activeElement!==document.body&&document.activeElement.blur();const{vl:{al:r},kl:o}=kd();if(e&&"mousedown"===e.type){Sw.Dt({Cu:!0,Vu:t,ju:BigInt(t)+r.Oi});const e=Id(((e,t)=>{if(e.vl.al.Oi===t.vl.al.Oi)return;const{Vu:n}=Sw.Pt();null!==n&&Mw(n).catch($a)}));n((()=>{e(),Sw.Dt({Cu:!1,Vu:null,ju:null})}))}if(o.Bi===Fe.te&&e&&(e.altKey||e.ctrlKey||e.metaKey))return pg[Fe.te].V$(BigInt(t));if(!pg[Fe.te].eu(kd(),t)){if((await kd().Sl.Il(!1)).Jl)return Ue.ve;if(pg[Fe.te].ya(BigInt(t))===Ue.ve)return Ue.ve;Ih()}return Ue.we},Mw=async e=>{const{Cu:t,ju:n}=Sw.Pt();if(!t)return Ue.ve;const{vl:{Li:r,yl:o,al:i},kl:l}=kd();if(Sw.Dt({Vu:e,ju:BigInt(e)+i.Oi}),l.Bi!==Fe.te)return Ue.ve;if("no table selected"===r.type||"broken schema"===r.type)return Ue.ve;{const t=Hr(r,"rowid");if(null!==t){if(void 0===o[t])return Ue.ve;const l=await Ob.du([{su:{P:0,cu:n},jo:{P:(a=r,a.columns.length-1),cu:i.Oi+BigInt(e)}}]);if(null===l)return Ue.ve;const[s,c]=l;return Uu(c)?pg[Fe.te].G$(s,Ie(c),Se(c)):Ue.ve}return pg[Fe.te].V$(BigInt(e))}var a},Rw=(e,t)=>t>=e.vl.Ai,Nw=(e,t)=>Rw(e,t)?0n:Yw.Gu(t,e),Lw=(e,t)=>Rw(e,t)?1n:BigInt(t)+e.vl.al.Oi+1n,Ow=e=>{const t=Sd((e=>pb(e.vl.Li)));return Tn(Zt,{children:[t&&Tn(cu,{Ce:async()=>{await kd().Sl.Ml(!1),await Iw(null,e.R$)!==Ue.ve&&await pg[Fe.te].nu(BigInt(e.R$))},St:Ur.Et,Nt:je("DELETE…"),"data-testid":void 0}),Tn("hr",{}),Tn(cu,{Ce:()=>ga(Lw(kd(),e.R$)+""),St:Ur.Be,Nt:je("Copy Row Number")}),Tn(cu,{Ce:()=>ga(Nw(kd(),e.R$)+""),St:Ur.vt,Nt:je("Copy rowid")})]})},Aw=({R$:e})=>{const t=Fi((t=>iu(t,Tn(Ow,{R$:e}))),[e]),n=Fi((t=>{2!==t.button&&Iw(t,e).catch($a)}),[e]),r=Fi((()=>{Mw(e).catch($a)}),[e]),o=Fi((()=>{Sw.Pt().Vu===e&&Sw.Dt({Vu:null})}),[e]),i=Sd((t=>Nw(t,e))),l=Sd((t=>{if(Rw(t,e))return!1;switch(t.kl.Bi){case Fe.fe:return t.kl.cu===BigInt(e)+t.vl.al.Oi;case Fe.J:return pg[Fe.J].zu(e,t).length>0;case Fe.te:return pg[Fe.te].eu(t,e);default:return!1}})),a=Sd((t=>Lw(t,e))),s=Sd((t=>Rw(t,e)?1:(t.vl.al.Ai.Fi+"").length)),c=Sd((t=>{if(Rw(t,e))return null;const{__diff_type:n}=t.vl.yl;return n?n[e]??" ":null})),$=Sd((e=>e.maxTextWrap)),u=Sd((e=>e.kl.Bi===Fe.te)),d=Rd(),f=Sd((t=>Rw(t,e)));if(f)return Tn(Zt,{});let h="";return h="+"===c?"added":"-"===c?"deleted":"M"===c?"modified":null===i?"no rowid":`rowid = ${i}`,Tn(G$,{baseClass:"td",content:h,class:Dt("overflow-hidden sticky z-20 left-0 whitespace-nowrap text-right text-neutral-800 select-none border-r border-r-[--td-border-color] clickable bg-[--neutral-100]",null===c?"px-[0.625em]":"pl-[10px]",l&&"bg-card-bg-highlight"),style:d,onMouseDown:n,onMouseEnter:r,onMouseLeave:o,onContextMenu:t,"data-testid":void 0,children:[Tn("span",{class:"text-transparent",children:"0".repeat(Math.max(0,s-(a+"").length))}),a,null===c?"":Tn("span",{class:"mx-1 text-neutral-600",children:c}),Tn("div",{class:Dt("absolute bottom-0 left-0 w-full cursor-row-resize hover:bg-gradient-to-b from-transparent from-70% to-70% to-cyan-500",u?"h-0":1===$?"h-1":"h-2"),onMouseDown:e=>{e.stopImmediatePropagation();const t=e.pageY,r=Math.round(e.currentTarget.parentElement.getBoundingClientRect().height/Yu);let o=r;document.body.classList.add("row-resize");let i=!1;Pu((e=>{i=!0;const n=Math.min(10,Math.max(1,Math.round((e.pageY-t)/Yu+r)));o!==n&&(yd.oa(n),o=n)}),(e=>{document.body.classList.remove("row-resize"),i||n(e)}))}})]})},Dw=e=>Tn(Zt,{children:[Tn(cu,{St:Ur.Be,Nt:je("Copy Value"),Ce:async()=>{await sh.Es(e.Gt)}}),Tn(cu,{St:Ur.Be,Nt:je("Copy Count"),Ce:async()=>{await sh.Es(e.Fi)}}),Tn(cu,{St:Ur.Be,Nt:je("Copy Value and Count as CSV"),Ce:async()=>{await ga(`${sh.xs(e.Gt)}, ${sh.xs(e.Fi)}`)}}),Tn(cu,{St:Ur.Be,Nt:je("Copy All Value-Count Pairs as CSV"),Ce:async()=>{const{vl:{ll:e,Si:t,Ii:n,Li:r,sl:o,Ni:i}}=kd();if(null===e.P)return;if("no table selected"===r.type||"broken schema"===r.type)return;const l=await _p.Wc();try{const l=ed(r),a=Gu(r,e.P,e.rl,o),s=ju({Si:t,Ii:n,Mi:r.columns}),c=Wu({Ni:i,Li:r}),{records:$}=await pa(`WITH __subquery AS (SELECT ${Vr(r,"rowid as rowid, ")}* FROM ${l}${s.xi}${c})\nSELECT __groupby_value, __groupby_count FROM (${a.xi}) WHERE __groupby_count IS NOT NULL`,[...s.Ei,...a.Ei],"read_only",Oe),u=Object.keys($);await ga(Array(Gr($)).fill(0).map(((e,t)=>u.map((e=>sh.xs(Sa($[e][t],null)))).join(","))).join("\n"))}finally{l.dispose()}}})]}),Fw=new WeakMap,Uw=e=>{if(!Fw.has(e)){let t=0n;for(const n of e)"bigint"==typeof n&&n>t&&(t=n);Fw.set(e,(t+"").length)}return Fw.get(e)},Bw=e=>{const t=Sd((e=>e.Cl)),n=Sd((e=>e.columnWidths)),r=Sd((e=>e.vl.Li)),o=Sd((e=>e.vl.ll));if(null===o.P)return Tn(Zt,{});let i,l=0;for(const[a,s]of t.mi()){if(Tu(r,s)===o.P){i=Sp(n,r.name,1===r.columns.length,a);break}l+=Sp(n,r.name,1===r.columns.length,a)}return Tn("div",{class:"groupBy-label overflow-hidden whitespace-nowrap text-ellipsis px-[0.625em]",style:{marginLeft:l,width:i},children:e.children})},zw=e=>{const t=Ip((e=>e.Qc));return Di((()=>Tn(Zt,{children:t.map(((t,n)=>t.Ci?Tn(kw,{R$:e.R$,P:t.Xc},t.Xc):Tn("td",{colSpan:t.Yc,style:{maxWidth:t.Ks+"px"}},"empty:"+n)))})),[t,e.R$])},Pw=e=>{const t=t=>e.R$>=t.vl.Ai,n=Sd((e=>t(e)?0:e.Cl.wi)),r=Sd((t=>pg[Fe.te].eu(t,e.R$))),o=Sd((t=>{const n=kd.Wl(t);if("no table selected"===n.type)return null;if(null===t.vl.ll.P)return null;const{__groupby_value:r,__groupby_count:o}=t.vl.yl;if(!r||!o)return null;const i=r[e.R$],l=o[e.R$];return void 0===i||"bigint"!=typeof l?null:{S:t.vl.ll,Gt:i,Fi:l,qu:Uw(o),Wu:n.sl.some((e=>Ne(e,i)))}}),Ml),i=Sd((n=>{if(t(n))return null;const{__diff_type:r}=n.vl.yl;return r?r[e.R$]??null:null})),l=Rd();return Sd(t)?Tn(Zt,{}):Tn("tr",o?{children:[Tn(Aw,{R$:e.R$}),Tn("td",{class:"groupBy relative align-top",style:l,colSpan:Math.min(2+n,1e3),onClick:async()=>{const e=kd.Wl();"no table selected"!==e.type&&(e.sl.some((e=>Ne(e,o.Gt)))?await yd.Wl.sl(e.sl.filter((e=>!Ne(e,o.Gt)))):await yd.Wl.sl([...e.sl,o.Gt]))},onContextMenu:e=>iu(e,Tn(Dw,{Gt:o.Gt,Fi:o.Fi})),children:Tn(Bw,{children:[Tn(Br,{St:o.Wu?Ur.Oe:Ur.Ae,Ee:"mr-1"}),Tn(Xm,{Gt:o.Fi,Ee:"translate-y-[-1px]"}),Tn("span",{class:"text-transparent mr-1",children:"0".repeat(Math.max(0,o.qu-(o.Fi+"").length))}),Tn(sh.ss,{cs:"inline",Gt:o.Gt})]})})]}:{class:Dt("+"===i&&"bg-diff-added-bg","-"===i&&"bg-diff-removed-bg","M"===i&&"bg-diff-modified-bg",r&&"selected--delete"),children:[Tn(Aw,{R$:e.R$}),Tn(zw,{R$:e.R$}),Tn(Km,{R$:e.R$}),Tn("td",{class:"table-blank",style:l})]})},Hw=e=>Di((()=>Tn(Pw,{R$:e.R$})),[e.R$]);var Vw=(e=>(e[e.Qu=0],e[e.Ku=1],e[e.Yu=2],e[e.Ju=3],e[e.Xu=4],e))(Vw||{});const jw=Nl(0,{Kl:0}),Gw=()=>{const e=jw((e=>e.Kl));return Tn("div",{id:hs.$n,class:"table-scroll-cursor fixed hidden pointer-events-none select-none",children:[0===e&&Tn(Ln,{Ee:"translate-x-[-12px] translate-y-[-12px]"}),1===e&&Tn(Er,{Ee:"translate-x-[-12px] translate-y-[-20px]"}),2===e&&Tn(xr,{Ee:"translate-x-[-4px] translate-y-[-12px]"}),3===e&&Tn(gr,{Ee:"translate-x-[-12px] translate-y-[-4px]"}),4===e&&Tn(yr,{Ee:"translate-x-[-20px] translate-y-[-12px]"})]})},qw=e=>{const[t,n]=Ri(null);return Li((()=>{t&&(t.select(),t.focus(),t.selectionEnd=0)}),[t]),Tn("input",{ref:n,id:Oa.$n,class:"w-full !outline-2 !outline !outline-sky-200 focus:!outline-sky-400 !outline-offset-0 ![font-size:80%] align-middle",autocomplete:"off",spellcheck:!1,placeholder:"name TEXT",value:e.Zu,onChange:e=>{yd.Gl(Fe.K,{bc:e.currentTarget.value})}})},Ww=()=>{const e=Sd((e=>Au(e.vl.Li.type))),t=Sd((e=>e.kl.Bi===Fe.K&&e.kl.dc===rp.$c?null===e.kl.bc?Ce(e.kl.hc,!1):e.kl.bc:null)),n=Md();return null!==t?Tn("th",{class:"w-52 px-2",style:n,children:Tn(qw,{Zu:t})}):e?Tn(G$,{baseClass:"th",content:je("Add a column"),class:"font-normal select-none w-0 px-[0.4em] [font-size:80%] cursor-pointer hover:bg-[--td-border-color-hover]",style:n,onClick:()=>{pg[Fe.K].ya(void 0,rp.$c),Ih()},onContextMenu:e=>{iu(e,Tn(Om,{}))},"data-testid":void 0,children:Tn(Br,{St:Ur.Te})}):Tn("th",{style:n})},Qw=e=>{const t=Sd((e=>e.Cl));return Tn(Zt,{children:Array.from(t.mi(),(([t,n])=>Tn(Hm,{Xc:n,Jc:t,a$:e.a$},t)))})},Kw=()=>{const{Li:e,Ai:t,al:{Oi:n,Ui:r},gl:o}=Sd((e=>e.vl)),i=Sd((e=>e.Cl.wi)),l=Sd((e=>e.Ol["experimental.resizeTableHeaderByDragging"])),[a,s]=Ri(null),[c,$]=Ri(null),u=Sd.ma(),d=Sd((e=>e.maxTextWrap>1)),f=Md();Oi((()=>Ip.Pt().e$(a)),[a]),Oi((()=>{if(!a)return;const e=()=>{0!==a.scrollTop&&(console.warn(a,"was scrolled vertically"),a.scrollTop=0)};a.addEventListener("scroll",e);const t=setInterval(e,1e3);return()=>{a.removeEventListener("scroll",e),clearInterval(t)}}),[a]);const h=Zp();return null!==o?Tn("div",{class:"overflow-x-auto text-red-700 select-text whitespace-pre",children:o}):"no table selected"===e.type||"broken schema"===e.type?Tn(Zt,{}):Tn(Zt,{children:[Tn("div",{class:"overflow-x-auto h-full overflow-y-hidden flex-1 medium-scrollbar-x"+(d?" multi-line":""),ref:s,id:es.$n,children:Tn("table",{ref:$,class:"viewer min-w-full w-max border-collapse table-fixed bg-table-bg",style:{paddingRight:h},onClick:async e=>{if(!c)return;if(!(e.target===e.currentTarget||e.target instanceof HTMLElement&&e.target.classList.contains("table-blank")))return;const{Bi:t}=kd().kl;if(t!==Fe.fe&&t!==Fe.J&&t!==Fe.te)return;const n=c.getBoundingClientRect();n.top<=e.clientY&&e.clientY<n.bottom&&((await kd().Sl.Il(!1)).Jl||await kd().Sl.Ml(!1))},onContextMenu:e=>{c&&(e.target===e.currentTarget||e.target instanceof HTMLElement&&e.target.classList.contains("table-blank"))&&iu(e,Tn(Om,{}))},"data-testid":void 0,children:[Tn("thead",{class:"text-neutral-800 bg-[--neutral-100] w-max",children:Tn("tr",{children:[Tn("th",{class:"font-normal select-none px-[1em] w-0 relative [&:has(div:hover)]:bg-cyan-500 [&:has(div:hover)]:bg-opacity-25",style:f,onContextMenu:e=>{iu(e,Tn(Om,{}))},children:l&&Tn(G$,{baseClass:"div",content:je("Drag to set max header height"),class:"absolute bottom-0 h-2 left-0 w-full cursor-row-resize hover:bg-gradient-to-b from-transparent from-70% to-70% to-cyan-500 header-resizer",onMouseDown:e=>{e.stopImmediatePropagation();const t=e.pageY,n=e.currentTarget.parentElement.getBoundingClientRect(),r=Math.round(n.height/Yu);let o=r;document.body.classList.add("row-resize");const i=Xa.Pt(),l=Za.Pt();i.style.display="block",i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=e.pageY-n.top+10+"px",i.style.width=n.width+"px",l.style.height=o*Yu+"px",Pu((e=>{const a=Math.min(10,Math.max(1,Math.round((e.pageY-t)/Yu+r)));i.style.height=e.pageY-n.top+10+"px",o!==a&&(wa[17]("tableHeaderMaxLines",a,"Global").catch($a),o=a,l.style.height=o*Yu+"px")}),(()=>{document.body.classList.remove("row-resize"),i.style.display="none"}))}})}),Tn(Qw,{a$:c}),Tn(Ww,{}),Tn("th",{style:f,onContextMenu:e=>iu(e,Tn(Om,{}))})]})}),Tn("tbody",{onMouseDownCapture:e=>{if(!a)return;if(1!==e.button)return;e.preventDefault(),e.stopImmediatePropagation();const t=hs.Pt();if(null===t)return;t.style.left=e.clientX+"px",t.style.top=e.clientY+"px",document.body.classList.add("all-scroll");const n=e.clientX,r=e.clientY;let o,i=n,l=r,s=0,c=0,$=Vw.Qu,u=!1;const d=e=>{if(!u){if(void 0!==o&&($!==Vw.Xu&&$!==Vw.Yu||(s+=1e-9*Math.sign(i-n)*(i-n)**4*(e-o),0!==Math.trunc(s)&&(a.scrollLeft+=Math.trunc(s),s-=Math.trunc(s))),($===Vw.Ku||$===Vw.Ju)&&(c+=1e-9*Math.sign(l-r)*(l-r)**4*(e-o),0!==Math.trunc(c)))){const e=kd.Wl();"no table selected"!==e.type&&(yd.Wl.al({Oi:e.al.Oi+BigInt(Math.trunc(c))}).catch($a),c-=Math.trunc(c))}o=e,requestAnimationFrame(d)}};requestAnimationFrame(d),((e,o)=>{let a=!1;const s=e=>{(e=>{i=e.clientX,l=e.clientY,t.style.left=e.clientX+"px",t.style.top=e.clientY+"px";const o=Math.atan2(l-r,i-n),a=Math.PI;return $=Math.sqrt((i-n)**2+(l-r)**2)<27?Vw.Qu:o<-3/4*a?Vw.Xu:o<-1/4*a?Vw.Ku:o<1/4*a?Vw.Yu:o<3/4*a?Vw.Ju:Vw.Xu,jw.Dt({Kl:$}),$===Vw.Qu})(e)||(a=!0)};window.addEventListener("mousemove",s);let c=!1;const u=e=>{c||(c=!0,window.removeEventListener("mouseup",d,{once:!0}),window.removeEventListener("mousedown",f,{once:!0,capture:!0}),window.removeEventListener("mousemove",s),o?.())},d=e=>{a&&u()},f=e=>{e.preventDefault(),e.stopImmediatePropagation(),u()};window.addEventListener("mouseup",d,{once:!0}),window.addEventListener("mousedown",f,{once:!0,capture:!0})})(0,(()=>{u=!0,document.body.classList.remove("all-scroll"),jw.Dt({Kl:Vw.Qu})}))},children:["no table selected"!==u.type&&u.Si.Ci&&Tn("tr",{children:[Tn("td",{class:"px-[0.625em] bg-card-bg"}),Tn("td",{class:"relative text-right",colSpan:i+2,children:Tn(Ap,{})})]}),Array.from(Array(t).keys(),(e=>Tn(Hw,{R$:e},e))),Array.from(Array(Math.max(0,Number(r)-t)).keys(),((e,r)=>Tn(Jm,{N$:r,ed:n+BigInt(t+r)+1n},r)))]})]})}),Tn(Xp,{a$:c})]})},Yw={F$:(e,t=kd().vl.Li)=>{if("no table selected"===t.type||"broken schema"===t.type)return[];const n=Hr(t,"rowid"),r=(e=>{const t=new Set;for(const o of e.columns)o.notnull&&t.add(o.name);const n=[],r=e.columns.filter((e=>e.pk));r.length>0&&r.every((e=>e.notnull))&&n.push({td:!0,Mi:r.map((e=>e.name))});for(const{partial:o,unique:i,origin:l,columns:a}of e.indexes){if(0n!==o||0n===i)continue;if(a.some((e=>null===e.name)))continue;const e=a.map((e=>e.name));e.some((e=>!t.has(e)))||n.push({td:"pk"===l,Mi:e})}return Array.from(new Set(n.map((e=>JSON.stringify(e)))),(e=>JSON.parse(e)))})(t).sort(((e,t)=>+t.td-+e.td)).map((e=>e.Mi)),o=[];if(t.columnOrigins)if("string"==typeof e){const n=t.columnOrigins[e];if(n)for(const[e,r]of Object.entries(t.columnOrigins))r.is_rowid&&r.database===n.database&&r.table===n.table&&o.push(e)}else{const e=Object.entries(t.columnOrigins).filter((([,e])=>e.is_rowid));if(1===e.length){const[t,n]=e[0];o.push(t)}}return[...null!==n?[[n]]:[],...o.map((e=>[e])),...r]},Gu:(e,t)=>{if("table"!==t.vl.Li.type&&"virtual"!==t.vl.Li.type||!t.vl.Li.hasRowIdColumn)return null;{const n=Hr(t.vl.Li,"rowid");if(null===n)return null;const r=t.vl.yl[n]?.[e]??null;return null===r?null:Ia(r)}}},Jw=Fe.J,Xw=(e,t)=>{const{kl:n}=kd(),r=n.Bi===Jw;yd.kl({Bi:Jw,ku:[...e],nd:t,_s:r?n._s:{Ss:new Uint8Array,ks:""},Kl:r?n.Kl:vh.Ts})},Zw=async(e,t,n=!1)=>{const r=kd(),{kl:o,vl:{Li:i}}=r;if("no table selected"===i.type||"broken schema"===i.type)return;const l=_u(i,e);if(null!==l)switch(o.Bi){case Fe.fe:{const e=_u(i,o.P);if(null===e)return;const r={cu:o.cu,P:e},a={cu:t,P:l};if(n){if(r.cu===a.cu&&r.P===a.P)return;const e=[{su:r,jo:r},{su:a,jo:a}];Xw(e,await Ob.uu(e))}else{if(r.cu===a.cu&&r.P===a.P)return;const e=[{su:r,jo:a}];Xw(e,await Ob.uu(e))}break}case Fe.J:if(n){const e={su:{cu:t,P:l},jo:{cu:t,P:l}};yd.Gl(Fe.J,{ku:[...o.ku,e],nd:Ep([o.nd,await Ob.uu([e])])})}else{const e={su:o.ku.at(-1).su,jo:{cu:t,P:l}},n=[...o.ku.slice(0,-1),e];yd.Gl(Fe.J,{ku:n,nd:await Ob.uu(n)})}}},ev=e=>{const t=new Set;for(const n of e.ku){const e=Su(n.jo.P,n.su.P),r=Iu(n.jo.P,n.su.P);for(let n=e;n<=r;n++)t.add(n)}return t},tv=async e=>{const{Cl:t,vl:{Li:n}}=kd(),r=new Set(ev(e)),o=t.Ye(n,(e=>!r.has(e)));await Ud(),yd.Cl(o)},nv=e=>{const t=e;if(null===e.nd)return Ue.ve;const n=[];for(const o of e.ku)n.push(o.su.cu,o.jo.cu);if(!Uu(n))return Ue.ve;const r=Array.from(e.nd.Vc()).sort();return pg[Fe.te].G$(r,Ie(n),Se(n))===Ue.ve?(yd.kl(t),Ue.ve):Ue.we},rv=new ys("stmt.bulkUpdate",(()=>kd().kl.Bi===Fe.J),Id),ov=()=>kd().kl;Ds.Te(Os.Kn,"Shift + ArrowRight",(async()=>{const e=ov(),{P:t,cu:n}=e.ku.at(-1).jo,{Cl:r,vl:{Li:o}}=kd(),i=r.$i(t,1,!1);null!==i&&(await Zw(Tu(o,i),n),Rp(i))}),[rv,Ts(Rs)]),Ds.Te(Os.Jn,"Shift + ArrowLeft",(async()=>{const e=ov(),{P:t,cu:n}=e.ku.at(-1).jo,{Cl:r,vl:{Li:o}}=kd(),i=r.$i(t,-1,!1);null!==i&&(await Zw(Tu(o,i),n),Rp(i))}),[rv,Ts(Rs)]),Ds.Te(Os.Qn,"Shift + ArrowUp",(async()=>{const e=ov(),{P:t,cu:n}=e.ku.at(-1).jo,{vl:{Li:r}}=kd(),o=n-1n;await Zw(Tu(r,t),o),Mp(o).catch($a)}),[rv,Ts(Rs)]),Ds.Te(Os.Yn,"Shift + ArrowDown",(async()=>{const e=ov(),{P:t,cu:n}=e.ku.at(-1).jo,{vl:{Li:r}}=kd(),o=n+1n;await Zw(Tu(r,t),o),Mp(o).catch($a)}),[rv,Ts(Rs)]),Ds.Te(Os.Gn,"ArrowRight",(async()=>{const e=ov(),{P:t,cu:n}=e.ku[0].su,{Cl:r,vl:{Li:o}}=kd(),i=r.$i(t,1,!0);null!==i&&(await pg[Fe.fe].ya(Tu(o,i),await Mp(n)),Rp(i))}),[rv,Ts(Rs)]),Ds.Te(Os.Wn,"ArrowLeft",(async()=>{const e=ov(),{P:t,cu:n}=e.ku[0].su,{Cl:r,vl:{Li:o}}=kd(),i=r.$i(t,-1,!0);null!==i&&(await pg[Fe.fe].ya(Tu(o,i),await Mp(n)),Rp(i))}),[rv,Ts(Rs)]),Ds.Te(Os.jn,"ArrowUp",(async()=>{const e=ov(),{P:t,cu:n}=e.ku[0].su,{vl:{Li:r}}=kd();await pg[Fe.fe].ya(Tu(r,t),await Mp(Me(n-1n,0n,null)))}),[rv,Ts(Rs)]),Ds.Te(Os.qn,"ArrowDown",(async()=>{const e=ov(),{P:t,cu:n}=e.ku[0].su,{vl:{al:r,Li:o}}=kd();await pg[Fe.fe].ya(Tu(o,t),await Mp(Me(n+1n,null,r.Ai.Fi-1n)))}),[rv,Ts(Rs)]),Ds.Te(Os.Zn,"CtrlCmd + Shift + ArrowRight",(async()=>{const e=ov(),{cu:t}=e.ku.at(-1).jo,{Cl:n,vl:{Li:r}}=kd(),o=n.hi();null!==o&&(await Zw(Tu(r,o),t),Rp(o))}),[rv,Ts(Rs)]),Ds.Te(Os.tr,"CtrlCmd + Shift + ArrowLeft",(async()=>{const e=ov(),{cu:t}=e.ku.at(-1).jo,{Cl:n,vl:{Li:r}}=kd(),o=n.di();null!==o&&(await Zw(Tu(r,o),t),Rp(o))}),[rv,Ts(Rs)]),Ds.Te(Os.Xn,"CtrlCmd + Shift + ArrowUp",(async()=>{const e=ov(),{P:t}=e.ku.at(-1).jo,{vl:{Li:n}}=kd();await Zw(Tu(n,t),0n)}),[rv,Ts(Rs)]),Ds.Te(Os.er,"CtrlCmd + Shift + ArrowDown",(async()=>{const e=ov(),{P:t}=e.ku.at(-1).jo,{vl:{al:{Ai:n},Li:r}}=kd();await Zw(Tu(r,t),n.Fi-1n)}),[rv,Ts(Rs)]),Ds.Te(Os.Hn,"CtrlCmd + KeyC",(async()=>{const e=ov(),t=await _p.Wc();try{await ga(await Ob.$u(e.ku))}finally{t.dispose()}}),[rv,Ts(Rs)]),Ds.Te(Os.Vn,"Escape",(async()=>{await Ud()}),[rv,Ts(Rs)]),Ds.Te(Os.ur,"CtrlCmd + Space",(async()=>{const e=ov(),{vl:{al:{Ai:t}}}=kd(),n=ev(e);if(0===n.size)return;const r=[];{const e=Array.from(n);r.push([e[0],e[0]]);for(const t of e.slice(1)){const e=r.at(-1);t===e[1]+1?e[1]++:r.push([t,t])}}const o=[];for(const[i,l]of r)o.push({su:{cu:0n,P:i},jo:{cu:t.Fi-1n,P:l}});Xw(o,await Ob.uu(o))}),[rv,Ts(Rs)]),Ds.Te(Os.dr,"Shift + Space",(()=>{nv(ov())}),[rv,Ts(Rs)]),Ds.Te(Os.wr,[],(async()=>{await tv(ov())}),[rv,Ts(Rs)]);{const e=e=>{const{kl:t}=kd();t.Bi===Fe.J&&t.Kl!==vh.Ts&&yd.Gl(Fe.J,{Kl:e})};Ds.Te(Os.Cr,[],(()=>{e(vh.Rs)}),[rv,Ts(Pp)]),Ds.Te(Os.Tr,[],(()=>{e(vh.Ms)}),[rv,Ts(Pp)]),Ds.Te(Os._r,"Shift + Alt + KeyN",(()=>{e(vh.Ts)}),[rv,Ts(Pp)]),Ds.Te(Os.kr,[],(()=>{e(vh.Is)}),[rv,Ts(Pp)])}const iv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),V$:Zw,vc:(e,t)=>{const{Li:n}=kd().vl;if("no table selected"===n.type||"broken schema"===n.type)return;if("table"!==n.type)return;if(t.Kl===vh.As)return;if(null===t.nd)return;const r=Hr(n,"rowid");if(null===r)return;const o=hh.Ls(t._s,t.Kl),i={gc:kg.Uc};for(const l of function*(e,t,n,r){Cp.has(e)||Cp.set(e,Array.from(e.jc()));const o=Cp.get(e),i=ye(t);for(const{Mi:l,Gc:{zc:a,Pc:s}}of o){const e=Array.from(l,(e=>`${ye(e)} = ?`)).join(", "),t=[...l],o=t.map((e=>ye(e))).join(", "),c=t.map((e=>`__trash.${ye(e)}`)).join(", ");{const t=`?${l.size+1} <= ${n} AND ${n} <= ?${l.size+2}`;for(const[s,$]of a){const a=se();yield{Dc:`UPDATE ${i} SET ${e} WHERE ${t}`,Fc:[...Array(l.size).fill(r),s,$],W$:$-s+1n,Q$:`CREATE TEMP TABLE ${a.I} AS SELECT ${n} as ${n}, ${o} FROM ${i} WHERE ${t}`,K$:[a.S],Y$:`UPDATE ${i} SET (${o}) = (${c}) FROM ${a.M} AS __trash WHERE ${i}.${n} = __trash.${n}`,bu:$-s+1n}}}{const t=`${n} IS ?${l.size+1}`,a=`UPDATE ${i} SET ${e} WHERE ${t}`;for(const e of s){const s=se();yield{Dc:a,Fc:[...Array(l.size).fill(r),e],W$:1n,Q$:`CREATE TEMP TABLE ${s.I} AS SELECT ${n} as ${n}, ${o} FROM ${i} WHERE ${t}`,K$:[s.S],Y$:`UPDATE ${i} SET (${o}) = (${c}) FROM ${s.M} AS __trash WHERE ${i}.${n} = __trash.${n}`,bu:1n}}}}}(t.nd,n.name,r,o))e.Te([l.Dc,l.Fc,"read_write",{...Oe,changes:l.W$}],l.Q$,l.K$,[l.Y$,[],"read_write",{...Oe,changes:l.bu}],i)},Ml:()=>Ud(),Su:nv,zu:(e,t)=>{if(t.kl.Bi!==Fe.J)return[];const n=new Set,r=Yw.Gu(e,t);if(null!==t.kl.nd&&null!==r)for(const o of t.kl.nd.Hc(r)??new Set)n.add(o);else for(const{jo:o,su:i}of t.kl.ku){const[r,l]=Re(o.cu,i.cu),a=BigInt(e)+t.vl.al.Oi;if(!(r<=a&&a<=l))continue;const s=Su(o.P,i.P),c=Iu(o.P,i.P);for(const[e,o]of t.vl.Li.columns.entries())s<=e&&e<=c&&n.add(o.name)}return[...n].sort()},Iu:tv,Tc:e=>e._s.ks.trim().length>0,ya:Xw,Bi:Jw,_c:(e,t,n)=>{const r=Sd((e=>"bulkUpdate;"+e.vl.Li.name));let o,i;return"table"===t.type&&t.hasRowIdColumn&&null!==e.nd?(o=Tn(Zt,{children:[Tn(Jh,{Nt:"Bulk UPDATE"}),Tn("span",{class:"ml-1",children:[e.nd.ge," cells"]})]}),i=Tn(Zt,{children:[Tn(Ch,{P:null,Na:2,_s:e._s,Li:t,Kl:e.Kl,zs:e=>{yd.Gl(Fe.J,{_s:e})},Ps:e=>{yd.Gl(Fe.J,{Kl:e})},Us:!0,Aa:r}),Tn("p",{class:"italic",children:je("{{- key1}} to add a selection. {{- key2}} to expand the selection.",{key1:ws("CtrlCmd + Click"),key2:ws("Shift + Click")})}),Tn("p",{class:"italic",children:je("UPDATEs to each cell are executed in separate transactions.")}),Tn("div",{children:[Tn(Wh,{xi:n,Ce:async e=>{wa[6](n.ka.map((e=>e.q[0])).join("; ")).catch($a),await n.Mc(e)}}),Tn(Dd,{})]})]})):(o=Tn(Zt,{children:Tn(Jh,{Nt:"Bulk UPDATE"})}),i=Tn(Zt,{children:[Tn("p",{class:"text-red-700",children:"Bulk UPDATE is only supported for tables with rowids."}),Tn("p",{class:"italic",children:je("{{- key1}} to add a selection. {{- key2}} to expand the selection.",{key1:ws("CtrlCmd + Click"),key2:ws("Shift + Click")})}),Tn("div",{children:[Tn(Wh,{xi:n,mo:!0,Ce:()=>{}}),Tn(Dd,{})]})]})),{kc:o,Sc:i}}},Symbol.toStringTag,{value:"Module"})),lv=e=>Tn(Zt,{children:[...e.Gt,""].map(((t,n)=>Tn(Zt,{children:[n>0&&",",Tn(um,{Gt:t,Ro:t=>{e.Ro(H(e.Gt,(e=>{for(e[n]=t.currentTarget.value;""===e.at(-1);)e.pop()})))},La:e.La+(n+1)},n)]})))}),av=Fe.X,sv=(e=[],t=!1)=>{Zh?.(),yd.kl({Bi:av,D:t,rd:(()=>{const{vl:{Li:t}}=kd();if(null===t.name)return"";const n=(0===e.length?kd().Ol["defaultIndexName.table"]:kd().Ol["defaultIndexName.tableAndColumns"]).replaceAll("{{tableName}}",t.name).replaceAll("{{columns}}",e.join("_")),r=t.indexes.map((e=>e.name));if(!r.includes(n))return n;let o=2;for(;r.includes(`${n}_${o}`);)o++;return`${n}_${o}`})(),od:e,ld:""})},cv=e=>{const{kl:t}=kd();t.Bi===Fe.X&&yd.Gl(Fe.X,{od:H(t.od,(t=>{for(e(t);""===t.at(-1);)t.pop()}))})},$v=({Li:e,kl:t})=>Tn(am,{Gt:t.od,Mi:e.columns.map((e=>e.name)),Ce:e=>{const{kl:t}=kd();if(t.Bi!==Fe.X)return;const n=t.od.indexOf(e);cv(-1===n?t=>{t.push(e)}:e=>{e.splice(n,1)})}}),uv=({Li:e,kl:t})=>Tn(Zt,{children:[Tn(Jh,{Nt:"CREATE"}),Tn(Y$,{No:!0,Ee:"mr-1",Nt:"UNIQUE",Co:t.D,Ro:e=>{yd.Gl(Fe.X,{D:e})}}),Tn(Jh,{Nt:"INDEX"}),Tn(um,{Ee:"[&>input]:pr-2",La:"index-name",Gt:t.rd,Ro:e=>{yd.Gl(Fe.X,{rd:e.currentTarget.value})}})," ON ",null===e.name?"":ye(e.name)," (",Tn($v,{kl:t,Li:e}),Tn("span",{class:"mr-1"}),Tn(lv,{Gt:t.od,Ro:e=>{yd.Gl(Fe.X,{od:e})},La:"column"}),") ",/^WHERE /i.test(t.ld)?Tn(Zt,{children:[Tn("label",{class:Dt("mr-[2px]",""===t.ld&&"opacity-40"),children:"WHERE"}),Tn(um,{Ee:"[&>input]:pl-0",La:"condition",Gt:t.ld.slice(5),Ro:e=>{yd.Gl(Fe.X,{ld:"WHERE"+e.currentTarget.value})}})]}):Tn(Zt,{children:[Tn("label",{}),Tn(um,{La:"WHERE ...",Gt:t.ld,Ro:e=>{yd.Gl(Fe.X,{ld:e.currentTarget.value})}})]})]}),dv=({xi:e,Xs:t})=>Tn(Zt,{children:[Tn(Wh,{xi:e,Xs:t,Ce:t=>e.Mc(t).catch($a)}),Tn(Dd,{})]}),fv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>{const e=Sd((e=>e.vl.Li.type)),t=Sd((e=>e.kl.Bi===av));return Ru(e)?Tn(cu,{jo:t,Ce:()=>sv(),St:Tn(lr,{}),Nt:"CREATE INDEX"}):Tn(Zt,{})},C$:dv,E$:uv,vc:(e,t)=>{const{Li:n}=kd().vl;if(null===n.name)return;if(0===t.od.length)return;const r=(o=t.rd,i=t.D,l=n.name,a=t.od,s=t.ld,{Dc:`CREATE${i?" UNIQUE":""} INDEX ${ye(o)} ON ${ye(l)} (${a.map((e=>ye(e))).join(", ")})${s?` ${s}`:""}`,Y$:`DROP INDEX ${ye(o)}`});var o,i,l,a,s;e.Te([r.Dc,[],"read_write",Oe],null,null,[r.Y$,[],"read_write",Oe],{gc:kg.yc})},Ml:()=>sv(),Tc:()=>!1,ya:sv,Bi:av,ad:cv,_c:(e,t,n)=>({kc:Tn(uv,{kl:e,Li:t}),Sc:Tn("div",{children:Tn(dv,{kl:e,xi:n})})})},Symbol.toStringTag,{value:"Module"})),hv=Fe.ee,pv=()=>{const e=new Set(kd().ul.map((e=>e.name)));for(let t=1;;t++)if(!e.has(`table${t}`))return`table${t}`},mv=()=>{Zh?.(),yd.kl({Bi:hv,zi:!1,Hi:pv(),Pi:"",Vi:!1,ji:[]})};ma("4b7c0407-422d-48f8-90cd-69d0d459920a",9,(async()=>{mv(),Ih(),(await Ha.un())?.focus()}));const bv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>{const e=Sd((e=>e.kl.Bi===hv));return Tn(cu,{jo:e,Ce:()=>mv(),St:Tn(fr,{}),Nt:"CREATE TABLE"})},vc:(e,t)=>{const n=t.Vi&&t.ji.every((e=>!e.O)),r=function(e){const t=new Set;for(const n of e){if(t.has(n))return n;t.add(n)}}(t.ji.map((e=>e.S.toLowerCase())));if(t.Hi&&0!==t.ji.length&&!n&&void 0===r){const n=((e,t,n,r,o)=>{const i=[];return r&&i.push("STRICT"),n&&i.push("WITHOUT ROWID"),{Dc:`CREATE TABLE ${ye(e)} (${t.map((e=>Ce(e))).join(", ")}${""!==o.trim()?o.trim().startsWith(",")?o:", "+o:""})${0===i.length?"":" "+i.join(", ")}`}})(t.Hi,t.ji,t.Vi,t.zi,t.Pi);e.Te([n.Dc,[],"read_write",Oe],null,null,[{so:"drop table if empty"},[t.Hi],"read_write",Oe],{gc:kg.yc,xc:t.Hi})}return{sd:n,$d:r}},Ml:()=>mv(),Tc:e=>{return!(""===e.Hi||(t=e.Hi,/^table\d+$/.test(t)))||""!==e.Pi||0!==e.ji.filter((e=>""!==e.S.trim())).length;var t},ya:mv,Bi:hv,_c:(e,t,n)=>{const r=Sd((t=>t.ul.some((t=>"main"===t.database.toLowerCase()&&t.name.toLowerCase()===e.Hi.toLowerCase()))));return{kc:Tn(Zt,{children:[Tn(Jh,{Nt:"CREATE TABLE"}),Tn("input",{placeholder:"table-name",value:e.Hi,onInput:e=>{yd.Gl(Fe.ee,{Hi:e.currentTarget.value})},id:Ha.$n,autoComplete:"off","data-testid":void 0}),"(...)",Tn(Y$,{Co:e.Vi,Ro:e=>{yd.Gl(Fe.ee,{Vi:e})},Ee:"ml-[8px]",Nt:"WITHOUT ROWID"}),Tn(Y$,{po:je("When not specified, SQLite loosely enforces column data types. For example, the text 'xyz' can be inserted into an INTEGER column."),Co:e.zi,Ro:e=>{yd.Gl(Fe.ee,{zi:e})},Nt:(e.Vi?", ":"")+"STRICT"})]}),Sc:Tn(Zt,{children:[Tn(zd,{Gt:e.ji,Ro:e=>{yd.Gl(Fe.ee,{ji:e})},zi:e.zi,Ta:!0}),Tn("textarea",{autocomplete:"off",spellcheck:!1,class:"mt-[10px] resize-y",rows:3,placeholder:"FOREIGN KEY(column-name) REFERENCES table-name(column-name)",value:e.Pi,onInput:e=>{yd.Gl(Fe.ee,{Pi:e.currentTarget.value})}}),n.Ic.sd&&Tn("div",{class:"text-red-600",children:je("WITHOUT ROWID requires a PRIMARY KEY column.")}),void 0!==n.Ic.$d&&Tn("div",{class:"text-red-600",children:je("Duplicate column name '{{- name }}'.",{name:n.Ic.$d})}),r&&Tn("div",{class:"text-red-600",children:je("Table {{- tableName }} already exists.",{tableName:e.Hi})}),Tn("div",{class:"mt-2",children:[Tn(Wh,{xi:n,mo:r,Ee:"my-[10px]",Ce:e=>{n.Mc(e).catch($a)}}),Tn(Dd,{})]})]})}}},Symbol.toStringTag,{value:"Module"})),wv=Fe.ne,vv=e=>{Zh?.(),yd.kl({Bi:wv,rd:e})},gv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),vc:(e,t)=>{const{Li:n}=kd().vl,r=(o=t.rd,i=n.indexes.find((e=>e.name===t.rd))?.schema??null,{Dc:`DROP INDEX ${ye(o)}`,Y$:i});var o,i;null===r.Y$?e.Cc([r.Dc,[],"read_write",Oe],{gc:kg.yc}):e.Te([r.Dc,[],"read_write",Oe],null,null,[r.Y$,[],"read_write",Oe],{gc:kg.yc})},Ml:()=>vv(kd().kl.rd),Tc:()=>!1,ya:vv,Bi:wv,_c:(e,t,n)=>({kc:Tn(Zt,{children:[Tn(Jh,{Nt:"DROP INDEX"}),ye(e.rd)]}),Sc:Tn(Zt,{children:Tn("div",{children:[Tn(Wh,{xi:n,Ce:e=>n.Mc(e).catch($a)}),Tn(Dd,{})]})})})},Symbol.toStringTag,{value:"Module"})),yv=e=>{const t=ye(e.name),n=se(),r=e.schema;if(null===r)throw new ab;const o=e.columns.filter((e=>0n===e.hidden)).map((e=>ye(e.name))).join(", "),i=[];for(const l of e.indexes)null!==l.schema&&i.push(ie(l.schema));for(const l of e.triggers)i.push(ie(l.sql));return{Dc:`DROP TABLE ${t}`,Q$:`CREATE TEMP TABLE ${n.I} AS SELECT ${Vr(e,"rowid as rowid, ")}${o} FROM ${t}`,K$:[n.S],ud:`BEGIN;\n${ie(r)}\nINSERT INTO ${t} (${Vr(e,"rowid, ")}${o}) SELECT ${Vr(e,"rowid, ")}${o} FROM ${n.M};\n${i.map((e=>e+"\n")).join("")}COMMIT;`}},xv=Fe.re,Ev=async e=>{if(Zh?.(),e){const t=[];for(const n of e){let e;try{const t=await va("table_schema",["main",n],Oe);if(null===t)continue;e=t}catch(HE){const r=await Ed(n,HE);if(null===r){ca.Pt().Te(HE);continue}e=r}("table"===e.type||"virtual"===e.type||"view"===e.type||"broken schema"===e.type&&"view"===e.realType)&&t.push(e)}yd.kl({Bi:xv,dd:t})}else{const{Li:e}=kd().vl;if("table"!==e.type&&"virtual"!==e.type&&"view"!==e.type&&("broken schema"!==e.type||"view"!==e.realType))return;yd.kl({Bi:xv,dd:[e]})}};ma("3a9af532-cce5-49bd-80d7-a5e7d53cffda",10,(async e=>{await Ev(null===e?void 0:[e]),Ih()})),ma("5e7697e4-3587-4f5e-b469-59082fc4dce0",11,(async e=>{await Ev(null===e?void 0:[e]),Ih()}));const Cv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>{const e=Sd((e=>e.vl.Li)),t=Sd((e=>e.kl.Bi===xv));return"table"===e.type||"virtual"===e.type?Tn(cu,{jo:t,Ce:()=>Ev(),St:Ur.Et,Nt:"DROP TABLE"}):"view"===e.type||"broken schema"===e.type&&"view"===e.realType?Tn(cu,{jo:t,Ce:()=>Ev(),St:Ur.Et,Nt:"DROP VIEW"}):Tn(Zt,{})},vc:(e,t)=>{const n=[],r=[],o=[];for(const s of t.dd)try{if("table"===s.type||"virtual"===s.type){const t=yv(s);e.Te([t.Dc,[],"read_write",Oe],t.Q$,t.K$,[t.ud,[],"script",Oe],{gc:kg.yc}),n.push(s.name)}else if(("view"===s.type||"broken schema"===s.type&&"view"===s.realType)&&null!==s.schema){const t=(i=s.name,l=s.schema,a=s.triggers,{q:`DROP VIEW ${ye(i)}`,ud:le(l,a)});e.Te([t.q,[],"read_write",Oe],null,null,[t.ud,[],"script",Oe],{gc:kg.yc}),r.push(s.name)}}catch(HE){o.push(HE)}var i,l,a;return{fd:o,hd:n,pd:r}},Ml:()=>Ev(),Tc:()=>!1,ya:Ev,Bi:xv,_c:(e,t,n)=>({kc:Tn(Zt,{children:[0===n.Ic.hd.length&&0===n.Ic.pd.length&&Tn(Zt,{children:Tn(Jh,{Nt:"DROP TABLE"})}),n.Ic.hd.length>0&&Tn(Zt,{children:[Tn(Jh,{Nt:"DROP TABLE"}),n.Ic.hd.map((e=>ye(e))).join(", ")]}),n.Ic.pd.length>0&&Tn(Zt,{children:[Tn(Jh,{Nt:"DROP VIEW"}),n.Ic.pd.map((e=>ye(e))).join(", ")]})]}),Sc:Tn(Zt,{children:Tn("div",{children:[Tn(Wh,{xi:n,Ce:e=>n.Mc(e)}),Tn(Dd,{})]})})})},Symbol.toStringTag,{value:"Module"})),Tv=Fe.oe,_v=async e=>{Zh?.();const t=await(async(e,t)=>(await t("SELECT sql FROM sqlite_schema WHERE type = 'trigger' AND name = ?",[e]))[0]?.sql)(e,Ma);if("string"!=typeof t)throw new Error(je("Failed to fetch the schema of the trigger {{- name }}.",{name:ye(e)}));yd.kl({Bi:Tv,md:e,R:t})},kv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),vc:(e,t)=>{const n=(r=t.md,o=t.R,{Dc:`DROP TRIGGER ${ye(r)}`,Y$:o});var r,o;e.Te([n.Dc,[],"read_write",Oe],null,null,[n.Y$,[],"read_write",Oe],{gc:kg.yc})},Ml:()=>_v(kd().kl.md),Tc:()=>!1,ya:_v,Bi:Tv,_c:(e,t,n)=>({kc:Tn(Zt,{children:[Tn(Jh,{Nt:"DROP TRIGGER"}),ye(e.md)]}),Sc:Tn(Zt,{children:Tn("div",{children:[Tn(Wh,{xi:n,Ce:e=>n.Mc(e).catch($a)}),Tn(Dd,{})]})})})},Symbol.toStringTag,{value:"Module"})),Sv=Fe.ie,Iv=async e=>{if(la)await wa[7](e);else{if((await kd().Sl.Il(!1)).Jl)return;Zh?.(),yd.kl({Bi:Sv,xi:e})}},Mv={get bd(){const{Ni:e,Li:t}=kd().vl;switch(t.type){case"no table selected":case"broken schema":return'SELECT * FROM "table-name";';case"custom query":return ie(t.customQuery.trim());default:{const n=Wu({Ni:e,Li:t},"\n",!1);return`SELECT * FROM ${ye(t.name,!1)}${n};`}}},wd:'CREATE TABLE "table-name" ("column-name");'},Rv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>{const e=Sd((e=>e.kl.Bi===Sv));return la?Tn(Zt,{}):Tn(cu,{jo:e,Ce:()=>Iv(Mv.wd),St:Ur.st,Nt:je("Execute SQL")})},vc:(e,t)=>(e.Cc([t.xi.replace(/;+\s*$/,""),[],"script",Oe],{gc:kg.yc}),{vd:t.xi.startsWith("SELECT")}),gd:Mv,Ml:()=>Iv(""),Tc:e=>!["",Mv.bd,Mv.wd].includes(e.xi),ya:Iv,Bi:Sv,_c:(e,t,n)=>({kc:Tn(Zt,{children:Tn(Jh,{Nt:"Execute SQL"})}),Sc:Tn(Zt,{children:[Tn(Wf,{Da:"sql",Kl:"--string",Na:8,La:""===e.xi?"CREATE TABLE table1(column1 INTEGER);\nINSERT INTO table1 VALUES (10);":void 0,Gt:e.xi,Ro:e=>{yd.Gl(Fe.ie,{xi:e})},Aa:"executeSQL"}),Tn("div",{class:"mt-2",children:[Tn(Wh,{xi:n,Ce:async e=>{wa[6](n.ka.map((e=>e.q[0])).join("; ")).catch($a),n.Ic.vd?yd.Wl.xi({type:"custom query",customQuery:n.ka[0].q[0]}).catch($a):await n.Mc(e)}}),Tn(Dd,{}),Tn(q$,{Ee:"ml-2",yo:!0,Ce:()=>wa[12](),children:[Tn(Br,{St:Ur.et})," ",je("History")]})]})]})})},Symbol.toStringTag,{value:"Module"})),Nv=[/^(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})$/,/^(?:(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})(?<T>[T ]))?(?<hour>\d{2}):(?<minute>\d{2})(?::(?<second>\d{2})(?:\.(?<millisecond>\d+))?)?(?:(?<Z>Z)|(?<offset>[+-](?<offsetHour>\d{2}):(?<offsetMinute>\d{2})))?$/,/^(?<julianday>\d+(\.\d{1,10})?)(?:Z|(?<offset>[+-]\d{2}:\d{2}))?$/],Lv=e=>(e+"").padStart(2,"0"),Ov=[e=>e=>`${e.getUTCFullYear()}-${Lv(e.getUTCMonth()+1)}-${Lv(e.getUTCDate())}`,e=>t=>(void 0!==e.groups.offsetHour&&void 0!==e.groups.offsetMinute&&(t=new Date(t.getTime()+60*(60*+e.groups.offsetHour+ +e.groups.offsetMinute)*1e3)),`${void 0!==e.groups.year?`${t.getUTCFullYear()}-${Lv(t.getUTCMonth()+1)}-${Lv(t.getUTCDate())}${e.groups.T}`:""}${Lv(t.getUTCHours())}:${Lv(t.getUTCMinutes())}${void 0!==e.groups.second?`:${Lv(t.getUTCSeconds())}${void 0!==e.groups.millisecond?`.${(t.getUTCMilliseconds()+"").padEnd(e.groups.millisecond.length,"0").slice(0,e.groups.millisecond.length)}`:""}`:""}${e.groups.Z??e.groups.offset??""}`)],Av=Symbol("failed"),Dv=e=>{const t=e.length;{const n=e[1]-e[0];if(e.every(((t,r)=>void 0===e[r+1]||t+n===e[r+1])))return e[t-1]+n}if(0n!==e[0]&&e[1]%e[0]===0n){const n=e[1]/e[0];if(0n!==n&&1n!==n&&e.every(((t,r)=>void 0===e[r+1]||t*n===e[r+1])))return e[t-1]*n}if(t>=3&&e.every(((t,n)=>void 0===e[n+1]||void 0===e[n+2]||t+e[n+1]===e[n+2])))return e[t-2]+e[t-1];if(t>=4){const n=e[1]-e[0]-(e[2]-e[1]);if(e.every(((t,r)=>void 0===e[r+1]||void 0===e[r+2]||e[r+1]-t-(e[r+2]-e[r+1])===n)))return e[t-3]-3n*e[t-2]+3n*e[t-1]}{const n=Math.sqrt(Number(e[0]));if(Number.isFinite(n)){const r=BigInt(Math.round(n));if(e[0]===r**2n&&e.every(((e,t)=>e===(r+BigInt(t))**2n)))return(r+(BigInt(t)-1n))**2n}}return Av};class Fv extends Error{}const Uv=Fe.le,Bv=(e,t)=>{const n=new Map(t?Object.entries(t).flatMap((([t,n])=>{const r=Cu(e,t);if(!r)return[];if(0n!==r.hidden)return[];if(th(r))return[];const o=(e=>{if(e.length<2)return Av;const t=e;if(t.every((e=>"number"==typeof e))){const e=(e=>{const t=e.length;{const n=e[1]-e[0];if(e.every(((t,r)=>void 0===e[r+1]||t+n===e[r+1])))return e[t-1]+n}if(e.every((e=>Number.isInteger(e)))){const t=Dv(e.map((e=>BigInt(e))));if(t!==Av)return Number(t)}return Av})(t);if(e!==Av)return e}if(t.every((e=>"bigint"==typeof e))){const e=Dv(t);if(e!==Av)return e}if(t.every((e=>"string"==typeof e))){const e=(e=>{const t=e.map((e=>((e,t={})=>{if(""===e.trim())return null;for(const[n,r]of Nv.entries()){const o=r.exec(e);if(!o)continue;const{year:i=2e3,month:l=1,day:a=1,hour:s=0,minute:c=0,second:$=0,millisecond:u="0",offset:d,julianday:f}=o.groups||{};let h;if(void 0!==f&&""!==f){if(!(t.yd??1))continue;h=new Date(864e5*(+f-2440587.5))}else h=new Date(Date.UTC(+i,+l-1,+a,+s,+c,+$,1e3*+("0."+u.slice(0,3))));if(void 0!==d&&""!==d){const e=/([+-])(\d{2}):(\d{2})/.exec(d);if(!e)continue;const[t,n=0,r=0]=e.slice(1),o=6e4*(60*+n+ +r);h=new Date(h.getTime()-("+"===t?o:-o))}return Object.assign(h,{dateBuilder:Ov[n]?.(o)})}return null})(e,{yd:!1})));if(t.some((e=>null===e)))return Av;const n=t,r=t.at(-1)?.dateBuilder;if(!r)return Av;const o=Dv(n.map((e=>BigInt(+e))));return o!==Av?r(new Date(Number(o))):Av})(t);if(e!==Av)return e}return(e=>{const t=e.length;return t>=3&&e.every(((t,n)=>void 0===e[n+2]||t===e[n+2]))?e[t-2]:Av})(t)})(n);return o===Av?[]:[[t,o]]})):[]);return e.columns.filter((e=>0n===e.hidden)).map((e=>{const t=n.get(e.name);return void 0!==t?sh.Cs(t):{_s:{ks:"",Ss:new Uint8Array},Kl:gh({Kl:e.type,Ds:!e.notnull,Fs:null!==e.dflt_value,A:e.autoIncrement})}}))},zv=async e=>{const{vl:{Li:t}}=kd();if(void 0===e)return null;if("no table selected"!==t.type&&"broken schema"!==t.type&&null!==t.name&&e===t.name){const{xl:n}=kd().vl;return{S:e,Li:t,Mi:Bv(t,n)}}{const t=await va("table_schema",["main",e]);return null===t?null:{S:e,Li:t,Mi:Bv(t)}}},Pv=async e=>{Zh?.();const{kl:t,vl:{Li:n}}=kd();yd.kl({Bi:Uv,Rc:e??await zv(nh(n)[0]),xd:!1,Ed:t.Bi===Uv?t.Ed+1:0})};class Hv extends Error{}ma("f9bf6033-0457-43e5-ab89-f31ee7c0687c",13,(async e=>{null!==e&&await yd.Wl.xi({name:e}),await Pv(),Ih(),(await Ra("[data-value-editor] textarea"))?.focus()}));const Vv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>{const e=Sd((e=>e.kl.Bi===Uv));return Tn(cu,{jo:e,Ce:()=>Pv(),St:Tn(Nr,{}),Nt:"INSERT"})},vc:(e,t)=>{if(null===t.Rc)return{xi:""};const{Mi:n,S:r,Li:o}=t.Rc;try{const t=((e,t,n)=>{if(t.columns.filter((e=>0n===e.hidden)).length!==n.length)throw new Fv;let r;if(n.every((e=>e.Cd)))r="DEFAULT VALUES";else{const e=t.columns.filter((e=>0n===e.hidden)).flatMap((({name:e},t)=>n[t].Cd?[]:[e])).map((e=>ye(e))).join(", "),o=n.flatMap((e=>e.Cd?[]:["?"])).join(", ");r=`(${e}) VALUES (${o})`}const o=Hr(t,"rowid");if(null===o){const t=ye(e);return{Dc:`INSERT INTO ${t} ${r} RETURNING *`,Fc:n.flatMap((e=>e.Cd?[]:[e.Td()])),W:e=>{const n=Object.keys(e);return{xi:`DELETE FROM ${t} WHERE ${n.map((e=>`${ye(e)} IS ?`)).join(" AND ")}`,Ei:n.map((t=>{const n=e[t]?.[0];if(void 0===n)throw new Error(`No values were returned for key ${t}`);return n})),_d:1n}},kd:r}}{const t=ye(e);return{Dc:`INSERT INTO ${t} ${r} RETURNING ${o} as ${o}`,Fc:n.flatMap((e=>e.Cd?[]:[e.Td()])),W:e=>{const n=e[o]?.[0];if(void 0===n)throw new Error("Unexpected return value for a RETURNING clause.");return{xi:`DELETE FROM ${t} WHERE ${o} IS ?`,Ei:[n],_d:1n}},kd:r}}})(r,o,n.map((({_s:e,Kl:t})=>{if(t===vh.oo)return{Cd:!0};if(t===vh.As)throw new Hv;return{Cd:!1,Td:()=>hh.Ls(e,t)}})));return e.Te([t.Dc,t.Fc,"read_write",Oe],null,null,(e=>{const n=t.W(e);return[n.xi,n.Ei,"read_write",{...Oe,changes:n._d}]}),{gc:kg.Uc,Bc:!0}),{xi:t.kd}}catch(HE){if(HE instanceof Fv||HE instanceof Hv)return{xi:""};throw HE}},Ml:async()=>{const{kl:e}=kd();"no table selected"!==kd().vl.Li.type?e.Bi===Uv?yd.Gl(Fe.le,{Rc:null===e.Rc?null:await zv(e.Rc.S),Ed:e.Ed+1}):yd.Gl(Fe.le,{Rc:null,Ed:0}):await Ud()},Tc:e=>e.xd,ya:Pv,Bi:Uv,_c:(e,t,n)=>{const r=Sd((e=>e.Ol["insert.textareaLimit"])),o=Sd((e=>e.kl.Bi===Fe.le?e.kl.Ed:null)),[i,l]=Ri(!1),a=Sd((e=>"bottom"!==e.Ll)),s=Ai(!1),c=Sd((e=>e.vl.Li)),$=Sd((e=>e.vl.Li.name)),u=Sd((e=>e.vl.Li.type)),d=Sd((e=>"insert;"+e.vl.Li.name));if(null===e.Rc)return{kc:Tn(Zt,{children:Tn(Jh,{Nt:"INSERT INTO"})}),Sc:Tn(Zt,{children:"view"===u&&Tn("p",{class:"italic mt-2 text-neutral-700",children:je("To insert records into a view, the view must have an INSTEAD OF INSERT trigger.")})})};const{Mi:f,S:h,Li:p}=e.Rc,m=!i&&f.length>r,b=nh(c);return{kc:Tn(Zt,{children:[Tn(Jh,{Nt:"INSERT INTO"}),1===b.length?ye(h)+" ":Tn(xu,{Ee:"mr-1",Gt:h,ei:Object.fromEntries(b.map((e=>[e,{}]))),Ro:async t=>{yd.Gl(Fe.le,{Rc:await zv(t),Ed:e.Ed+1})}}),n.Ic.xi.length>300?n.Ic.xi.slice(0,300)+"…":n.Ic.xi]}),Sc:Tn(Zt,{children:[m&&Tn("div",{children:Tn(q$,{Ce:()=>l(!0),yo:!0,Ee:"w-full py-1 mb-1",children:[Tn(Br,{St:Ur.gt,Ee:"mr-2"}),je("Load Inputs")]})}),!m&&Tn("div",{children:[Tn("ul",{class:"list-none",children:p.columns.filter((e=>0n===e.hidden)).length===f.length&&p.columns.map((({name:e,hidden:t},n)=>{if(0n!==t)return Tn(Zt,{});const r=f[n];return r?Tn("li",{id:`insert-column${n+1}`,"data-testid":void 0,children:[Tn("div",{class:"mr-[1em]",children:Tn("code",{children:e})}),Tn(Ch,{P:e,Na:a?4:2,Kl:r.Kl,Li:p,_s:r._s,zs:e=>{const t=kd().kl;t.Bi===Uv&&yd.Gl(Fe.le,{Rc:H(t.Rc,(t=>{if(!t)return;const r=t.Mi[n];r&&(r._s=e)})),xd:t.xd||e.ks.trim().length>0||e.Ss.length>0})},Ps:e=>{const t=kd().kl;t.Bi===Uv&&yd.Gl(Fe.le,{Rc:H(t.Rc,(t=>{if(!t)return;const r=t.Mi[n];r&&(r.Kl=e)}))})},Aa:d+";"+e})]}):Tn("span",{class:"text-red-700",children:"error"})}))}),h!==$&&"view"===u&&Tn("p",{class:"italic mt-2 text-neutral-700",children:je("To insert records into a view, the view must have an INSTEAD OF INSERT trigger.")}),Tn(Wh,{Ee:"mt-2",xi:n,Ce:async e=>{const t=kd(),r=t.kl.Bi===Fe.le?t.kl.Ed:null;if(o===r&&!s.current){s.current=!0;try{await n.Mc(e)}finally{s.current=!1,yd.Gl(Fe.le,{xd:!1})}}}}),Tn(Dd,{})]})]})}}},Symbol.toStringTag,{value:"Module"})),jv=e=>Tn("div",{class:"mb-1",children:Tn(X$,{Ee:"opacity-80 cursor-pointer",Co:e.Co,Ro:t=>{e.Ro(t)},children:je('Legacy alter table (Check this if you\'re encountering errors such as "error in view: ...")')})}),Gv=Fe.ae,qv=async e=>{Zh?.();const{Li:t}=kd().vl;if(null===t.name)return;const n=await kb(Ma,t.name);let r=((e,t)=>{const n=e.tableInfo.schema.columns.find((e=>e.columnName.name===t));if(!n)throw new lb;return n.typeNameAndColumnConstraints})(n,e);r.startsWith(" ")&&(r=r.slice(1)),yd.kl({Bi:Gv,pu:n,P:e,S$:r,Sd:!1})},Wv=new ys("stmt.modifyColumnDefinition",(()=>kd().kl.Bi===Fe.ae),Id),Qv=Ss("focus.input.columnType",(e=>e.id===Ba.$n));Ds.Te(Os.xn,"Enter",(async()=>{await Ig()}),[Wv,Qv],!0);const Kv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),vc:(e,t)=>{try{const{xi:n,ru:r}=((e,t,n,r)=>{if(!e.tableInfo.schema.columns.some((e=>"constraint"!==e.kind&&e.columnName.name===t)))throw new lb;return e(xe({...e.tableInfo.schema,tableName:e.tableInfo.schema.tableName,columns:e.tableInfo.schema.columns.map((e=>"constraint"===e.kind?{text:e.text}:e.columnName.name===t?{text:`${e.beforeColumnName}${e.columnName.text} ${n.trimStart()}`}:{text:e.text}))}),r)})(t.pu,t.P,t.S$,t.Sd);if(r.length>0)throw new Error("Columns cannot be dropped with this feature.");return e.Cc([n,[],"script",Oe],{gc:kg.yc}),{xi:n,Ec:null}}catch(HE){return{xi:"",Ec:ee(HE)}}},Ml:()=>{const e=kd().kl;return qv(e.P)},Tc:()=>!1,ya:qv,Bi:Gv,_c:(e,t,n)=>({kc:Tn(Zt,{children:Tn(Jh,{Nt:je("Modify Column Definition")})}),Sc:Tn(Zt,{children:[je("New column definition"),Tn("div",{class:"mb-2",children:[Tn("pre",{class:"inline-block mr-1",children:e.P}),Tn("input",{class:"inline-block w-80",value:e.S$,onChange:e=>{yd.Gl(Fe.ae,{S$:e.currentTarget.value})}})]}),Tn(jv,{Co:e.Sd,Ro:e=>{yd.Gl(Fe.ae,{Sd:e})}}),Tn(hm,{w$:"pre",Ee:"select-text",Ue:n.Ic.xi}),null!==n.Ic.Ec&&Tn("pre",{class:"text-red-800",children:n.Ic.Ec}),Tn("div",{class:"mt-2",children:[Tn(Wh,{xi:n,mo:null!==n.Ic.Ec,Ce:async e=>{wa[6](n.ka.map((e=>e.q[0])).join("; ")).catch($a),await n.Mc(e),await Ud()}}),Tn(Dd,{})]})]})})},Symbol.toStringTag,{value:"Module"})),Yv=Fe.se,Jv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),vc:(e,t)=>{const{Li:n}=kd().vl,r=n.indexes.find((e=>e.name===t.g$));if(!r)return{xi:"",Ec:je("The index {{- name }} does not exist.",{name:t.g$})};try{const s=(i=t.g$,l=t.y$,a=null!==r.schema?r.schema:"CREATE "+eh(r,n.name??""),{Id:`BEGIN;\nDROP INDEX ${ye(i)};\n${ie((o={...de("CreateIndexStatement",a),indexName:{text:ye(l)}},`${pe(o)}${o.indexName.text}${me(o)}`))}\nCOMMIT;`,ud:`BEGIN;\nDROP INDEX ${ye(l)};\n${ie(a)}\nCOMMIT;`});return e.Te([s.Id,[],"script",Oe],null,null,[s.ud,[],"script",Oe],{gc:kg.yc}),{xi:s.Id,Ec:null}}catch(HE){return{xi:"",Ec:ee(HE)}}var o,i,l,a},Ml:()=>Ud(),Tc:()=>!1,ya:e=>{yd.kl({Bi:Yv,g$:e,y$:e})},Bi:Yv,_c:(e,t,n)=>({kc:Tn(Zt,{children:Tn(Jh,{Nt:"Rename Index"})}),Sc:Tn(Zt,{children:[je("New index name"),Tn("textarea",{autocomplete:"off",spellcheck:!1,class:Dt("mb-2 h-[5vh] text-[--data-string]",null!==n.Ic.Ec&&"bg-red-300"),value:e.y$,onChange:e=>{yd.Gl(Fe.se,{y$:e.currentTarget.value})}}),null===n.Ic.Ec&&Tn(hm,{w$:"pre",Ee:"select-text",Ue:n.Ic.xi}),null!==n.Ic.Ec&&Tn("pre",{class:"text-red-800",children:n.Ic.Ec}),Tn("div",{class:"mt-2",children:[Tn(Wh,{mo:null!==n.Ic.Ec,xi:n,Ce:async e=>{wa[6](n.ka.map((e=>e.q[0])).join("; ")).catch($a),await n.Mc(e)}}),Tn(Dd,{})]})]})})},Symbol.toStringTag,{value:"Module"})),Xv=Fe.ce,Zv=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),vc:(e,t)=>{const{Li:n}=kd().vl,r=n.triggers.find((e=>e.name===t.Md));if(!r)return{xi:"",Ec:je("The trigger {{- name }} does not exist.",{name:t.Md})};try{const n=(o=t.Md,i=t.Rd,l=r.sql,{Id:`BEGIN;\nDROP TRIGGER ${ye(o)};\n${Ee({...de("CreateTriggerStatement",l),triggerName:{text:ye(i)}})}\nCOMMIT;`,ud:`DROP TRIGGER ${ye(i)};\n`+l});return e.Te([n.Id,[],"script",Oe],null,null,[n.ud,[],"script",Oe],{gc:kg.yc}),{xi:n.Id,Ec:null}}catch(HE){return{xi:"",Ec:ee(HE)}}var o,i,l},Ml:()=>Ud(),Tc:()=>!1,ya:e=>{yd.kl({Bi:Xv,Md:e,Rd:e})},Bi:Xv,_c:(e,t,n)=>({kc:Tn(Zt,{children:Tn(Jh,{Nt:"Rename Trigger"})}),Sc:Tn(Zt,{children:[je("New trigger name"),Tn("textarea",{autocomplete:"off",spellcheck:!1,class:Dt("mb-2 h-[5vh] text-[--data-string]",null!==n.Ic.Ec&&"bg-red-300"),value:e.Rd,onChange:e=>{yd.Gl(Fe.ce,{Rd:e.currentTarget.value})}}),null===n.Ic.Ec&&Tn(hm,{w$:"pre",Ee:"select-text",Ue:n.Ic.xi}),null!==n.Ic.Ec&&Tn("pre",{class:"text-red-800",children:n.Ic.Ec}),Tn("div",{class:"mt-2",children:[Tn(Wh,{mo:null!==n.Ic.Ec,xi:n,Ce:async e=>{wa[6](n.ka.map((e=>e.q[0])).join("; ")).catch($a),await n.Mc(e)}}),Tn(Dd,{})]})]})})},Symbol.toStringTag,{value:"Module"})),eg=Fe.$e,tg=()=>{Zh?.();const{Li:e}=kd().vl;("view"===e.type||"broken schema"===e.type&&"view"===e.realType)&&null!==e.schema&&yd.kl({Bi:eg,Nd:e.name})},ng=new ys("stmt.renameView",(()=>kd().kl.Bi===Fe.$e),Id);Ds.Te(Os.En,"Enter",(async()=>{await Ig()}),[ng,dp],!0);const rg=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>{const e=Sd((e=>e.vl.Li)),t=Sd((e=>e.kl.Bi===eg));return"view"!==e.type&&("broken schema"!==e.type||"view"!==e.realType)||null===e.schema?Tn(Zt,{}):Tn(cu,{jo:t,Ce:()=>{tg()},St:Mr,Nt:"Rename View"})},vc:(e,t)=>{const{Li:n}=kd().vl;if("view"!==n.type&&("broken schema"!==n.type||"view"!==n.realType)||null===n.schema)return{xi:""};const r=((e,t,n)=>{const r=ye(t),o=de("CreateViewStatement",e),i=[];var l;i.push("BEGIN;"),i.push(`DROP VIEW ${ye(o.viewName.name)};`),i.push(`${(l={...o,viewName:{text:r}}).createView.text}${l.ifNotExists??""}${l.schemaName?.text??""}${l.viewName.text}${l.as}${ie(l.select)}`);for(const a of n){const e=de("CreateTriggerStatement",a.sql);i.push(Ee({...e,tableName:{text:ye(t)}}))}return i.push("COMMIT;"),{Id:i.join("\n"),ud:`DROP VIEW ${r};\n`+le(e,n)}})(n.schema,t.Nd,n.triggers);return e.Te([r.Id,[],"script",Oe],null,null,[r.ud,[],"script",Oe],{gc:kg.yc,xc:t.Nd}),{xi:r.Id}},Ml:()=>tg(),Tc:()=>!1,ya:tg,Bi:eg,_c:(e,t,n)=>({kc:Tn(Zt,{children:Tn(Jh,{Nt:"Rename View"})}),Sc:Tn(Zt,{children:[Tn("div",{class:"mb-2",children:[je("New view name: ")," ",Tn("input",{class:"w-80",autocomplete:"off",spellCheck:!1,value:e.Nd,onChange:e=>{yd.Gl(Fe.$e,{Nd:e.currentTarget.value})}})]}),Tn(hm,{w$:"pre",Ee:"select-text",Ue:n.Ic.xi}),Tn("div",{class:"mt-2",children:[Tn(Wh,{xi:n,Ce:e=>{n.Mc(e).catch($a)}}),Tn(Dd,{})]})]})})},Symbol.toStringTag,{value:"Module"})),og=Fe.ue,ig=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),vc:(e,t)=>{let n;try{n=JSON.parse(`[${t.Ld}]`)}catch{return{xi:"",Ec:je("Parse error")}}if(!Array.isArray(n)||!n.every((e=>"string"==typeof e)))return{xi:"",Ec:je("Parse error")};const{Li:r}=kd().vl;if(!((e,t)=>{if(e.length!==t.length)return!1;const n=new Set(e),r=new Set(t);return[...n].every((e=>r.has(e)))})(r.columns.map((e=>e.name)),n))return{xi:"",Ec:je("column list mismatch")};try{const{xi:r,ru:o}=((e,t,n)=>{if(!((e,t)=>JSON.stringify([...e].sort())===JSON.stringify([...t].sort()))(t,e.tableInfo.schema.columns.flatMap((e=>"constraint"!==e.kind?[e.columnName.name]:[]))))throw new ib;return e(xe({...e.tableInfo.schema,tableName:e.tableInfo.schema.tableName,columns:[...t.map((t=>{const n=e.tableInfo.schema.columns.find((e=>"constraint"!==e.kind&&e.columnName.name===t))?.text;if(void 0===n)throw new Error(`column ${t} does not exist: ${JSON.stringify(e.tableInfo.schema.columns.flatMap((e=>"constraint"!==e.kind?[e.columnName.name]:[])))}`);return{text:n}})),...e.tableInfo.schema.columns.flatMap((e=>"constraint"===e.kind?[{text:e.text}]:[]))]}),n)})(t.pu,n,t.Sd);if(o.length>0)throw new Error("Columns cannot be dropped with this feature.");return e.Cc([r,[],"script",Oe],{gc:kg.yc}),{xi:r,Ec:null}}catch(HE){return{xi:"",Ec:ee(HE)}}},Ml:()=>Ud(),Tc:()=>!1,ya:async e=>{const{vl:{Li:t}}=kd();null!==t.name&&(e??=t.columns.map((e=>e.name)),yd.kl({Bi:og,pu:await kb(Ma,t.name),Ld:JSON.stringify(e).slice(1,-1),Sd:!1}))},Bi:og,_c:(e,t,n)=>{const r=Tn(Zt,{children:Tn(Jh,{Nt:"Reorder Columns"})});let o;return o=null===t.name?Tn(Zt,{children:"Unsupported"}):Tn(Zt,{children:[je("New column order"),Tn("textarea",{autocomplete:"off",spellcheck:!1,class:Dt("mb-2 h-[5vh] text-[--data-string]",null!==n.Ic.Ec&&"bg-red-300"),value:e.Ld,onChange:e=>{yd.Gl(Fe.ue,{Ld:e.currentTarget.value})}}),Tn(jv,{Co:e.Sd,Ro:e=>{yd.Gl(Fe.ue,{Sd:e})}}),null===n.Ic.Ec&&Tn(hm,{w$:"pre",Ee:"select-text",Ue:n.Ic.xi}),null!==n.Ic.Ec&&Tn("pre",{class:"text-red-800",children:n.Ic.Ec}),Tn("div",{class:"mt-2",children:[Tn(Wh,{mo:null!==n.Ic.Ec,xi:n,Ce:async e=>{wa[6](n.ka.map((e=>e.q[0])).join("; ")).catch($a),await n.Mc(e)}}),Tn(Dd,{})]})]}),{kc:r,Sc:o}}},Symbol.toStringTag,{value:"Module"})),lg=Fe.de,ag=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),vc:(e,t)=>({}),Ml:()=>Ud(),Tc:()=>!1,ya:()=>{yd.kl({Bi:lg})},Bi:lg,_c:(e,t,n)=>({kc:Tn("div",{class:"font-normal",children:[Tn(Q$,{Ce:()=>pg[Fe.le].ya().catch($a),St:Tn(Nr,{Ee:"mr-0"}),children:"INSERT"}),Tn(Q$,{Ce:()=>pg[Fe.ee].ya(),St:Tn(fr,{Ee:"mr-0 translate-y-[-1.5px]"}),children:"CREATE TABLE"})]}),Sc:Tn("div",{class:"mb-1"})})},Symbol.toStringTag,{value:"Module"})),sg=Fe.he,cg=async()=>{Zh?.();const{vl:{Li:e}}=kd();"table"===e.type&&(yd.kl({Bi:sg,pu:await kb(Ma,e.name),Od:e.schema??"",Sd:!1}),yd.ia(!0))},$g=({kl:e,xi:t})=>Tn(Zt,{children:[Tn(jv,{Co:e.Sd,Ro:e=>{yd.Gl(Fe.he,{Sd:e})}}),Tn(hm,{w$:"pre",Ee:"mt-2 select-text overflow-x-auto",Ue:t.Ic.xi}),null!==t.Ic.Ec&&Tn("pre",{class:"text-red-800",children:t.Ic.Ec}),t.Ic.ru.length>0&&Tn("div",{class:"text-amber-50 bg-amber-700 px-1 my-2 py-1",children:[Tn(Br,{St:Ur._t,Ee:"mr-1"}),1===t.Ic.ru.length?je("Warning: Column {{column}} will be dropped.",{column:t.Ic.ru[0]??""}):je("Warning: Columns {{columns}} will be dropped.",{columns:new Intl.ListFormat(He,{style:"long",type:"conjunction"}).format(t.Ic.ru)})]}),Tn("div",{class:"mt-2",children:[Tn(Wh,{Xs:!0,mo:null!==t.Ic.Ec,xi:t,Ce:async e=>{wa[6](t.ka.map((e=>e.q[0])).join("; ")).catch($a),await t.Mc(e),e||await Ud()}}),Tn(Dd,{})]})]}),ug=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),C$:$g,vc:(e,t)=>{try{const{xi:n,ru:r}=t.pu(t.Od,t.Sd);return e.Cc([n,[],"script",Oe],{gc:kg.yc}),{xi:n,ru:r,Ec:null}}catch(HE){return{xi:"",ru:[],Ec:ee(HE)}}},Ml:()=>cg(),Tc:e=>e.Od!==kd().vl.Li.schema,ya:cg,Bi:sg,_c:(e,t,n)=>({kc:Tn(Zt,{children:Tn(Jh,{Nt:je("Update Table Schema")})}),Sc:Tn($g,{kl:e,xi:n})})},Symbol.toStringTag,{value:"Module"})),dg=Fe.be,fg=()=>{Zh?.();const{vl:{Li:e}}=kd();("view"===e.type||"broken schema"===e.type&&"view"===e.realType)&&null!==e.schema&&(yd.kl({Bi:dg,Li:e,Ad:e.schema}),yd.ia(!0))},hg=Object.freeze(Object.defineProperty({__proto__:null,ec:()=>Tn(Zt,{}),vc:(e,t)=>{const{Li:n}=t;if("view"!==n.type&&("broken schema"!==n.type||"view"!==n.realType)||null===n.schema)return{xi:"",Ec:null};try{const r=((e,t,n)=>{const r=de("CreateViewStatement",t).viewName,o=de("CreateViewStatement",e),i=[];i.push("BEGIN;"),i.push(`DROP VIEW ${ye(o.viewName.name)};`),i.push(ie(t));for(const l of n){const e=de("CreateTriggerStatement",l.sql);i.push(Ee({...e,tableName:r}))}return i.push("COMMIT;"),{Id:i.join("\n"),ud:`DROP VIEW ${r.text};\n`+le(e,n)}})(n.schema,t.Ad,n.triggers);return e.Te([r.Id,[],"script",Oe],null,null,[r.ud,[],"script",Oe],{gc:kg.yc}),{xi:r.Id,Ec:null}}catch(HE){return{xi:"",Ec:ee(HE)}}},Ml:()=>fg(),Tc:e=>e.Ad!==kd().vl.Li.schema,ya:fg,Bi:dg,_c:(e,t,n)=>({kc:Tn(Zt,{children:Tn(Jh,{Nt:je("Update View Schema")})}),Sc:Tn(Zt,{children:[Tn(hm,{w$:"pre",Ee:"mt-2 select-text overflow-x-auto",Ue:n.Ic.xi}),null!==n.Ic.Ec&&Tn("pre",{class:"text-red-800",children:n.Ic.Ec}),Tn("div",{class:"mt-2",children:[Tn(Wh,{xi:n,Ce:async e=>{wa[6](n.ka.map((e=>e.q[0])).join("; ")).catch($a),await n.Mc(e),await Ud()}}),Tn(Dd,{})]})]})})},Symbol.toStringTag,{value:"Module"})),pg={[Fe.K]:pp,[Fe.Y]:gp,[Fe.J]:iv,[Fe.X]:fv,[Fe.ee]:bv,[Fe.te]:Tb,[Fe.ne]:gv,[Fe.re]:Cv,[Fe.oe]:kv,[Fe.ie]:Rv,[Fe.le]:Vv,[Fe.ae]:Kv,[Fe.se]:Jv,[Fe.ce]:Zv,[Fe.$e]:rg,[Fe.ue]:ig,[Fe.de]:ag,[Fe.fe]:Zb,[Fe.he]:ug,[Fe.be]:hg},mg=()=>{const{kl:e}=kd();return pg[e.Bi].Tc(e)};yd.Sl({Rl:()=>{const{kl:e,vl:{Li:t}}=kd();if((e.Bi!==Fe.ee||!mg())&&e.Bi!==Fe.ie)if("no table selected"===t.type||"broken schema"===t.type)pg[Fe.ee].ya();else{if(!kd().Ol.minimizePanel)return pg[Fe.le].ya();pg[Fe.de].ya()}},Ml:e=>pg[kd().kl.Bi].Ml(e)});const bg=async e=>{const{records:t}=await pa('SELECT total(pgsize) as bytes FROM temp.dbstat("temp") WHERE name = ?',[e],"read_only",Oe);return t.bytes[0]},wg=Ll(0,{et:[],Dd:0n,Fd:0n},((e,t)=>{const n=async n=>{const r=kd().Ol["undo.memoryLimit"],o=kd().Ol["undo.diskLimit"],i=(e=>{let t=0n;for(const n of[...e.q[1],...e.W?.[1]??[]])"string"==typeof n?t+=BigInt(2*n.length):n instanceof Uint8Array?t+=BigInt(n.byteLength):t+="number"==typeof n||"bigint"==typeof n?8n:4n;return t})(n);let l=0n;if(null!==n.W)for(const e of n.K$)l+=BigInt(await bg(e));let a=t().Dd+i,s=t().Fd+l;const c=[...t().et,null===n.W?Object.assign(n,{Ud:i,Bd:0n}):Object.assign(n,{Ud:i,Bd:l})];for(;(a>BigInt(1024*r*1024)||s>BigInt(1024*o*1024))&&c.length>0;){const e=c.shift();a-=e.Ud,s-=e.Bd;for(const t of e.K$??[])await pa(`DROP TABLE IF EXISTS temp.${ye(t)}`,[],"read_write",Oe)}e({et:c,Dd:a,Fd:s})};return{Cc:async e=>{await n(e)},zd:async e=>{await n(e)},Pd:n=>{e(H(t(),(e=>{const t=e.et.find((e=>e.Ga===n.Ga));t&&(t.Hd=!0)})))}}})),vg=()=>{const e=wg((e=>Number(e.Dd)/1024/1024)),t=wg((e=>Number(e.Fd)/1024/1024)),n=Sd((e=>e.Ol["undo.memoryLimit"])),r=Sd((e=>e.Ol["undo.diskLimit"]));return Tn(Zt,{children:Tn("div",{class:"mx-6 my-2 no-focus-effect",onClick:e=>{e.target instanceof HTMLAnchorElement||e.stopPropagation()},dangerouslySetInnerHTML:{__html:je("Disk usage: {{- diskUsage }}/{{- diskLimit }}, Memory usage: {{- memoryUsage }}/{{- memoryLimit }}",{diskUsage:t.toFixed(2),diskLimit:`<a ${Fu} href="${ne(jd("workbench.action.openSettings","sqlite3-editor.ui.undo.diskLimit"))}">${ne(r+"")} MB</a>`,memoryUsage:e.toFixed(2),memoryLimit:`<a ${Fu} href="${ne(jd("workbench.action.openSettings","sqlite3-editor.ui.undo.memoryLimit"))}">${ne(n+"")} MB</a>`})}})})},gg=()=>{const e=wg((e=>e.et.length)),t=je("The editor history is not shared across VSCode tabs, and is cleared when the tab is closed. Not all actions are reversible. Older history entries are removed when #memory or disk limits# are reached.").split("#");return Tn("div",{class:"border-b pb-4 mb-6 px-2",children:[Tn("h2",{class:"mb-2 flex",children:[Tn("div",{children:[Tn(Br,{St:Ur.et,Ee:"mr-1 translate-y-[-1px] text-primary"}),Tn("span",{class:"mr-4 text-primary",children:je("History")}),Tn("span",{class:"italic opacity-70",children:[t[0],Tn("span",{class:"border-b border-dotted border-neutral-700 hover:text-primary cursor-pointer",onClick:e=>{iu(e,Tn(vg,{}))},children:t[1]}),t[2]]}),Tn("div",{children:Tn(Eg,{})})]}),Tn("div",{class:"flex-1 text-right",children:Tn(G$,{baseClass:"span",content:je("Close"),class:"pointer-outline rounded px-[3px]",onClick:()=>{_g.Dt({Ci:!1})},children:Tn(Br,{St:Ur.Fe})})})]}),Array.from(Array(e).keys()).reverse().map(((e,t,n)=>Tn(Tg,{Xa:e,Vd:n.length-1-e})))]})},yg=async e=>{if("string"==typeof e.W[0])await pa(e.W[0],e.W[1],e.W[2],{...e.W[3],allow_fewer_changes:!0});else{e.W[0].so;const t=e.W[1][0];if("string"!=typeof t)throw new Error("Invalid arguments for 'drop table if empty'");const{records:n}=await pa(`SELECT count(*) as count FROM ${ye(t)}`,[],"read_only",Oe);if(0n!==n.count?.[0])return void ca.Pt().Te(je("The table {{- name}} cannot be dropped with undo because it is not empty.",{name:ye(t)}));await pa(`DROP TABLE ${ye(t)}`,[],"read_write",Oe)}wg.Pt().Pd(e),await Td()},xg=async e=>{await pa(e.q[0],e.q[1],e.q[2],{...e.q[3],pre_stmt:null,allow_fewer_changes:!0}),await Td()},Eg=()=>{const e=wg((e=>e.et.findLastIndex((e=>null===e.W||!e.Hd)))),t=wg((e=>e.et.findLast((e=>null===e.W||!e.Hd))));return void 0===t||null===t.W?Tn(Zt,{}):Tn(q$,{Ee:"h-fit",yo:!0,po:`${ne(`Entry ${e+1}:`)}<div class="mt-1 italic opacity-70">${ne("string"==typeof t.W[0]?t.W[0]:`{${t.W[0].so}}`)}, [${t.W[1].map((e=>ge(e,10))).join(", ")}]</div> `,wo:!0,Ce:()=>{yg(t).catch($a)},children:[Tn(Rn,{}),je("Undo the last action")]})},Cg=e=>{const t=wg((t=>t.et[e.Xa]));return Tn(Zt,t?{children:[null!==t.W&&Tn(cu,{St:Tn(Rn,{}),Nt:je("Undo"),Ce:()=>{yg(t).catch($a)}}),null!==t.W&&t.Hd&&Tn(cu,{St:Tn(Nn,{}),Nt:je("Redo"),Ce:()=>{xg(t).catch($a)}}),Tn("hr",{}),Tn(cu,{St:Ur.Be,Nt:je("Copy Query and Parameters"),Ce:()=>{ga(Vd([t],void 0)).catch($a)}}),null!==t.W&&"string"==typeof t.W[0]&&Tn(cu,{St:Ur.Be,Nt:je("Copy Query and Parameters for Undo"),Ce:()=>{ga(Vd([{q:[t.W[0],t.W[1]]}],void 0)).catch($a)}})]}:{})},Tg=e=>{const[t,n]=Ri(!1),r=wg((t=>t.et[e.Xa]));if(void 0===r)return Tn(Zt,{});const o=t=>{const n=window.getSelection();n&&0!==n.rangeCount&&n.isCollapsed&&iu(t,Tn(Cg,{Xa:e.Xa}))};return Tn("div",{class:Dt("flex gap-3 mb-1 py-1 cursor-pointer border-b border-b-neutral-50 px-3 rounded-sm",t&&"bg-neutral-400 bg-opacity-[0.12]"),style:{background:`rgba(255, 255, 255, ${Math.max(1/4,1-e.Vd/2)})`},onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)},onClick:o,onContextMenu:o,children:[Tn("div",{class:"text-black text-opacity-50 align-top [font-size:90%]",children:e.Xa+1}),Tn(hm,{w$:"div",Ee:"flex-1 overflow-auto select-text",Ue:`${r.q[0]}, [${r.q[1].map((e=>ge(e,10))).join(", ")}]`}),Tn("span",{class:Dt(!t&&"invisible"),children:[null!==r.W&&Tn(q$,{Ee:"h-fit",yo:!0,po:`${ne(je("Undo"))} <div class="mt-1 italic opacity-70">${ne(`${"string"==typeof r.W[0]?r.W[0]:`{${r.W[0].so}}`}, [${r.W[1].map((e=>ge(e,10))).join(", ")}]`)}</div>`,wo:!0,Ce:()=>{yg(r).catch($a)},children:Tn(Rn,{Ee:"mr-0"})}),null!==r.W&&r.Hd&&Tn(q$,{Ee:"h-fit",yo:!0,po:je("Redo"),Ce:()=>{xg(r).catch($a)},children:Tn(Nn,{Ee:"mr-0"})})]})]})},_g=Nl(0,{Ci:!1});Ds.Te(Os.Or,["CtrlCmd + KeyZ","CtrlCmd + Shift + KeyZ","CtrlCmd + KeyY"],(()=>{_g.Dt((e=>({Ci:!e.Ci})))}),[_s(Is,ks(Ms,Ts(Vb)))]),Ds.Te(Os.Ar,[],(async()=>{const e=wg.Pt().et.findLast((e=>null===e.W||!e.Hd));e&&null!==e.W&&await yg(e)}),[_s(Is,ks(Ms,Ts(Vb)))]);var kg=(e=>(e[e.yc=0],e[e.Uc=1],e))(kg||{});class Sg{static x$(e,t){const n=new Sg;return n.Ic=pg[e.Bi].vc(n,e,t),n}constructor(){}#Z=[];#ee={gc:1};Cc(e,t){this.#Z.push({q:e,W:null,K$:null}),this.#ee=t}Te(e,t,n,r,o){this.#Z.push({q:[e[0],e[1],e[2],{...e[3],pre_stmt:t}],W:r,K$:n}),this.#ee=o}J$(e,t,n){this.#Z.push({q:[e[0],e[1],e[2],e[3]],X$:t}),this.#ee=n}Xt(){this.#Z.length=0}get Zs(){return 0===this.#Z.length}get ka(){return[...this.#Z]}get jd(){return this.#ee}Ic;async Mc(e){const{kl:t}=kd();for(const o of this.ka){let e,t,n;if("X$"in o){const r=await o.X$();e=[o.q[0],o.q[1],o.q[2],{...o.q[3],pre_stmt:r.X$}],t=r.W,n=r.K$}else e=o.q,t=o.W,n=o.K$;const r=await pa(...e);if(null===t)await wg.Pt().Cc({Ga:Date.now(),q:e,W:null,K$:null});else if("function"==typeof t){const o=t(r.records);await wg.Pt().zd({Ga:Date.now(),q:e,W:o,K$:n??[],Hd:!1})}else await wg.Pt().zd({Ga:Date.now(),q:e,W:t,K$:n??[],Hd:!1})}t.Bi===Fe.fe?yd.Gl(Fe.fe,{lc:!1}):t.Bi===Fe.le?await kd().Sl.Ml(!1):await Ud();let n=!1;if(t.Bi===Fe.fe&&!t.rc&&t.Kl!==vh.As&&t.Kl!==vh.oo){n=!0;const e=Number(t.cu-kd().vl.al.Oi);yd.vl(e,t.P,hh.Ls(t._s,t.Kl))}const r=async()=>{if(0===this.jd.gc)await Td(this.jd.xc);else if(await Cd(!0,!0),this.jd.Bc){const e=kd.Wl();"no table selected"!==e.type&&null===e.Ni&&await yd.Wl.al({Oi:Se([e.al.Ai.Fi-Ld()+1n,0n])})}await kd().Sl.Ml(e)};n?r().catch($a):await r()}}yd.Sl({Il:async e=>{if(!mg())return{Jl:!1,_u:!1};const[t,n]=await ub({D$:!0,Ri:!0});return t===cb.Cn?{Jl:!0}:t===cb.L$?(kd().kl.Bi===Fe.fe&&e||await kd().Sl.Ml(!1),{Jl:!1,_u:!0}):(await n.Mc(e),{Jl:!1,_u:!0})}});const Ig=async()=>{const[e,t]=await ub({D$:!0,Ri:!0});switch(e){case cb.Cn:return;case cb.L$:return void(await kd().Sl.Ml(!1));case cb.Mn:await t.Mc(!1),await kd().Sl.Rl()}},Mg=async()=>{const[e,t]=await ub({D$:!1,Ri:!0});switch(e){case cb.Cn:return void(await Ud());case cb.L$:return void(await kd().Sl.Ml(!1));case cb.Mn:await t.Mc(!1)}},Rg=Nl(0,{Gd:window.editorVariables[1],qd:!1}),Ng=()=>{const e=Rg((e=>e.Gd)),t=Rg((e=>e.qd));return e?Tn("div",{title:je("Open GitHub"),class:"inline-dialog transition duration-200 py-2 mt-2 mb-3 select-text",children:[Tn("h2",{class:"font-bold text-dialog-title border-b border-b-primary",children:["😊 ",je("Thank you for using this extension!")]}),Tn("p",{children:[je("If you have found it useful, please give "),Tn("span",{class:"text-primary hover:text-primary-hover border-b-primary border-b cursor-pointer",onClick:()=>{wa[4]("openGitHub").then((()=>{Rg.Dt({qd:!0})})).catch($a)},"data-testid":void 0,children:je("our GitHub repository")}),je(" a star ⭐.")]}),Tn("p",{children:je("We have put a lot of effort into developing this extension for you, and stars on GitHub will encourage us to continue improving this free software for you. Thank you for your support!")}),Tn("img",{class:"cursor-pointer starMeDialogButton inline-block mr-4 hover:scale-110 transition active:contrast-75",src:"https://img.shields.io/github/stars/yy0931/sqlite3-editor?style=social",onClick:()=>{wa[4]("openGitHub").then((()=>{Rg.Dt({qd:!0})})).catch($a)},draggable:!1,"data-testid":void 0}),t&&Tn("span",{onMouseDown:()=>{},class:"opacity-80",dangerouslySetInnerHTML:{__html:je("Please open {{- link}} manually if the button didn't open a browser.",{link:'<span class="select-all">https://github.com/yy0931/sqlite3-editor</span>'})}}),Tn(J$,{Ee:"starMeDialogButton",Ce:()=>{wa[4]("cancel").catch($a),Rg.Dt({Gd:!1})},"data-testid":void 0})]}):Tn(Zt,{})},Lg=Nl(0,{Hu:40,Ks:30,Wd:!0,Cu:!1}),Og=()=>{Lg.Dt({Wd:!0})},Ag=e=>{const t=Lg((e=>!e.Wd&&!e.Cu)),n=Fi((t=>((e,t)=>{if(!t)return;e.preventDefault(),document.body.classList.add("row-resize");const n=t.getBoundingClientRect().height/window.innerHeight*100,{pageY:r}=e;Lg.Dt({Cu:!0}),Pu((e=>{Lg.Dt({Wd:!1,Hu:Math.max(10,Math.min(60,n-(e.pageY-r)/window.innerHeight*100))})}),(()=>{document.body.classList.remove("row-resize"),Lg.Dt({Cu:!1})}))})(t,e.Qd)),[e.Qd]);return Tn(G$,{baseClass:"div",content:t?je("Double-click to autosize"):void 0,followCursor:!0,class:"h-2 cursor-row-resize select-none max-w-full hover:border-b-2 hover:border-b-cyan-500",onDblClick:Og,onMouseDown:n})},Dg=e=>{const t=!!e.Kd;return Tn("div",{class:"w-2 h-full cursor-col-resize select-none max-w-full hover:border-r-2 hover:border-r-cyan-500",onMouseDown:Fi((n=>((e,t,n=!1)=>{if(!t)return;e.preventDefault(),document.body.classList.add("col-resize");const r=t.getBoundingClientRect().width/window.innerWidth*100,{pageX:o}=e;Pu((e=>{Lg.Dt({Wd:!1,Ks:Math.max(5,Math.min(60,r-(e.pageX-o)*(n?-1:1)/window.innerWidth*100))})}),(()=>{document.body.classList.remove("col-resize")}))})(n,e.Qd,t)),[e.Qd,t])})},Fg=()=>{const e=Sd((e=>e.Ol.minimizePanel)),t=Sd((e=>e.Ol.movePanelIfSpaceAllows));return Tn(Zt,{children:[Tn(cu,{Nt:je("Always display panel at bottom (default)"),St:Ur.rt,Go:"bottom"===t,Ce:e=>{e.stopPropagation(),wa[17]("movePanelIfSpaceAllows","bottom","Global").catch($a)}}),Tn(cu,{Nt:je("Move panel right if space allows"),St:Ur.it,Go:"right"===t,Ce:e=>{e.stopPropagation(),wa[17]("movePanelIfSpaceAllows","right"===t?"bottom":"right","Global").catch($a)}}),Tn(cu,{Nt:je("Move panel left if space allows"),St:Ur.ot,Go:"left"===t,Ce:e=>{e.stopPropagation(),wa[17]("movePanelIfSpaceAllows","left"===t?"bottom":"left","Global").catch($a)}}),Tn("hr",{}),Tn(cu,{Nt:je("Minimize panel"),St:Ur.Ct,Co:e,Ce:async t=>{t.stopPropagation(),await wa[17]("minimizePanel",!e,"Global"),(await kd().Sl.Il(!1)).Jl||await Ud(!e)}})]})},Ug=()=>{const e=Sd((e=>e.kl)),t=Sd((e=>e.ul)),n=Sd((e=>e.vl.Li)),r=Sd((e=>e.cl===ud.Gi)),o=Sd((e=>"bottom"!==e.Ll)),i=_g((e=>e.Ci)),l=e.Bi===Fe.fe&&!e.rc;Oi((()=>{if(!l)return;const t=kd()._l;null!==t&&(null!==t.ac&&(t.ac.value=e._s.ks),yd._l({...t,fs:e.Kl===vh.As?null:Tn(sh.ss,{cs:"block",Gt:hh.Ls(e._s,e.Kl)})}))}),[l,e]);const a=e.Bi===Fe.fe&&e.rc;Oi((()=>{if(null===a||!1===a)return;const t=kd()._l;null!==t&&(null!==t.ac&&(t.ac.value="= "+e.oc),yd._l({...t,fs:Tn(Xh,{tc:e.oc})}))}),[a,e]);const s=Sd((e=>e.kl.Bi===Fe.de)),c=wg((e=>e.et.length>0)),$=Sg.x$(e,t),{kc:u,Sc:d}=((e,t,n,r)=>pg[e.Bi]._c(e,t,n,r))(e,n,$,o);return r||e.Bi===Fe.fe?Tn(Zt,{children:[i&&Tn(gg,{}),Tn("h2",{class:"px-2 font-bold text-neutral-700 code-font flex",onContextMenu:e=>{e.target===e.currentTarget&&iu(e,Tn(Hd,{ka:$.ka}))},children:[Tn("div",{children:u}),Tn("div",{class:"flex-1 text-right whitespace-nowrap pointer-events-none [&>*]:pointer-events-auto",children:[Tn(G$,{baseClass:"span",content:je("History")+Ds.fo(Os.Or),class:Dt("pointer-outline rounded",s?"px-2":"px-[3px]",!c&&"opacity-50"),onClick:()=>{_g.Dt({Ci:!i})},children:[Tn(Br,{Ee:s?"translate-y-[-1px]":"",St:Ur.et}),!o&&Tn("span",{class:"ml-1 font-normal",children:je("History")})]}),Tn(G$,{baseClass:"span",content:je("Configurations"),class:"pointer-outline rounded px-[3px] ml-2",onClick:e=>{iu(e,Tn(Fg,{}),!0)},children:Tn(Br,{St:Ur.Ge})})]})]}),Tn("div",{class:Dt("px-2",o&&"flex-1 flex flex-col-no-overflow"),children:d}),Tn("div",{class:"px-2",children:r&&Tn(Ng,{})})]}):Tn("div",{class:"mb-1 ml-2",children:Tn(Lb,{})})},Bg=new ys("stmt.unselected",(()=>kd().kl.Bi===Fe.de),Id);Ds.Te(Os.Cn,"Escape",(async()=>{(await kd().Sl.Il(!1)).Jl||await Ud()}),[Ts(Bg),Is],!0);const zg=Ll(0,{Ci:!1,Yd:""},((e,t)=>({Jd:()=>{t().Ci?e({Ci:!1,Yd:""}):e({Ci:!0})},Fe:()=>{e({Ci:!1,Yd:""})},Xd:t=>{e({Yd:t})}}))),Pg=(e,t)=>"__diff_type"===e||null===e||""!==t&&!e.includes(t),Hg=e=>{const t=Sd((t=>t.Cl.pi(e.Xc))),n=Sd((t=>Tu(t.vl.Li,e.Xc)));return Di((()=>Tn(X$,{Co:t,Ro:()=>(e=>{const t=kd().Cl,n=kd().vl.Li;kd().Cl.pi(e)?yd.Cl(t.Ye(n,(t=>t!==e))):yd.Cl(new ku(n,[...t,e]))})(e.Xc),Ee:"block hover:bg-neutral-300 cursor-pointer pl-4 focus-within:outline-0",children:Tn("span",{class:"inline-block overflow-hidden overflow-ellipsis w-[calc(100%-30px)] translate-y-[4px]",children:n})})),[t,n,e.Xc])},Vg=()=>{const e=Sd((e=>e.Cl.wi<e.vl.Li.columns.filter((e=>"__diff_type"!==e.name)).length)),t=Sd((e=>e.Cl.wi>0));return Tn("div",{class:"pl-4 pb-1 overflow-hidden",children:[Tn(q$,{Ce:()=>{yd.Cl(ku.li(kd().vl.Li))},Ee:"my-1 mr-1",yo:!0,vo:!0,mo:!e,"data-testid":void 0,children:[Tn(ir,{Ee:"mr-2 translate-y-[-2px]"}),je("Show All Columns")]}),Tn(q$,{Ce:()=>{yd.Cl(ku.ii())},Ee:"my-1",yo:!0,vo:!0,mo:!t,"data-testid":void 0,children:[Tn(Vn,{Ee:"mr-2 translate-y-[-2px]"}),je("Hide All Columns")]})]})},jg=()=>{const e=zg((e=>e.Ci)),t=Sd((e=>e.vl.Li.columns.length)),[n,r]=Ri(null),o=zg((e=>e.Yd)),i=Sd((e=>e.vl.Li.columns),Ku);return Oi((()=>{n&&(n.focus(),n.select())}),[n]),ea("blur",(()=>{ru()||zg.Pt().Fe()})),ea("mousedown",(e=>{e.target instanceof Element&&e.target.matches(".column-visibility-switches,.column-visibility-switches *, .column-list, .column-list *, .contextmenu, .contextmenu *")||zg.Pt().Fe()}),void 0,{capture:!0}),e?Tn("div",{class:"absolute left-1 mx-auto top-8 w-[min(50vw,400px)] z-[--z-column-visibility-switches] bg-body-bg shadow-lg select-none border border-neutral-300 column-visibility-switches rounded-lg","data-testid":void 0,children:[Tn("div",{class:"pr-4 pt-2 pl-4",children:Tn("input",{ref:r,class:"w-full block border-b !bg-white !bg-transparent !outline-none !pl-2 !pr-1 py-[2px] !border !border-neutral-300 rounded",value:o,onChange:e=>{zg.Pt().Xd(e.currentTarget.value)},autoComplete:"off",placeholder:je("Search..."),onKeyDown:e=>{if(""!==o&&"Enter"===e.code){e.preventDefault(),e.stopImmediatePropagation();const t=[],n=kd().vl.Li;for(const e of Array(n.columns.length).keys()){const r=Tu(n,e);Pg(r,o)||t.push(e)}yd.Cl(new ku(n,t)),zg.Pt().Fe()}}})}),Tn("div",{class:"flex flex-col-no-overflow mt-1",children:Tn("div",{class:"overflow-x-hidden overflow-y-auto medium-scrollbar-y max-h-60 pb-3",onWheel:e=>{e.preventDefault(),e.currentTarget.scrollTop+=e.deltaY/6},children:[Tn(Vg,{}),[...Array(t).keys()].filter((e=>!Pg(Tu({columns:i},e),o))).map((e=>Tn(Hg,{Xc:e},e)))]})})]}):Tn(Zt,{})},Gg=(e,t)=>{const n=new Set(e.columns.map((e=>e.name)));return n.delete("__diff_type"),n.size===t.wi?"*":t.C((t=>ye(Tu(e,t)??""))).join(", ")},qg=new ys("dom.columnVisibilitySwitches",(()=>zg.Pt().Ci),zg.Ht);Ds.Te(Os.Kr,"Escape",(()=>{zg.Pt().Fe()}),[qg]);const Wg=()=>{const e=ha((e=>e.an)),t=ha((e=>e.cn)),n=ha((e=>e.sn));return Tn(Zt,e&&0===t&&0===n?{}:{children:[Tn("div",{class:"select-none pointer-events-none absolute top-0 left-0 w-full h-[3px] z-[--z-connection-indicator] bg-neutral-900 opacity-90"}),Tn("div",{class:"absolute pl-2 pr-8 top-[3px] right-2 z-[--z-connection-indicator] bg-neutral-900 text-white text-opacity-90 bg-opacity-80",children:[!e&&je("The database file has been deleted."),t>0&&je("The table is locked (DatabaseLocked). Retrying{{- dots}}",{dots:Qg(t)}),n>0&&je("The database file is locked (DatabaseBusy). Retrying{{- dots}}",{dots:Qg(n)})]})]})},Qg=e=>e<5?".".repeat(e):`... (${e})`;ma("c30e0ee1-9bae-44cb-96d4-eec66e46f58b",16,(()=>{ha.Dt({an:!0})})),ma("240132d8-0cf1-4307-9f38-a6db1cbed32c",15,(()=>{ha.Dt({an:!1})}));const Kg=()=>{const e=ca((e=>[...e.qt].join("\n"))),t=ca((e=>[...e.Qt].join(" ")));return e?Tn("div",{class:"text-error-fg bg-error-bg [padding:10px] relative overflow-y-auto",children:[Tn("h2",{class:"border-b",children:[Tn(Br,{St:Ur.qe,Ee:"mr-1"}),je("Error Message")]}),!!t&&Tn("pre",{class:"whitespace-pre-wrap [font-size:inherit] select-text p-2 mb-2 bg-white bg-opacity-20 overflow-y-auto",children:[Tn(Br,{St:Ur._t,Ee:"translate-y-[-1px] mr-1"}),t]}),Tn("pre",{class:"whitespace-pre-wrap [font-size:inherit] overflow-auto h-28 select-text",children:e}),Tn(J$,{Ce:()=>ca.Pt().Xt(),po:!0,"data-testid":void 0})]}):Tn(Zt,{})},Yg=new ys("dom.errorMessage",(()=>ca.Pt().qt.size>0),ca.Ht);Ds.Te(Os.Fr,"Escape",(()=>{ca.Pt().Xt()}),[Yg],!0,As.Fr);const Jg=Nl(0,{Ci:!1}),Xg=()=>{const e=Jg((e=>e.Ci)),[t,n]=Ri(""),[r,o]=Ri(!1);return Li((()=>{e&&ts.Pt()?.focus()}),[e]),Tn(Zt,{})},Zg=new ys("dom.keybindings",(()=>Jg.Pt().Ci),Jg.Ht);Ds.Te(Os.Sn,"CtrlCmd + KeyF",(()=>{ts.Pt()?.focus()}),[Zg,Is],!0);const ey=Nl(0,{Ci:!1}),ty=e=>Tn("table",{class:Dt("viewer border-collapse table-fixed bg-table-bg border-l border-l-[--td-border-color]",e.Ee),children:[Tn("thead",{class:"text-neutral-800 bg-[--neutral-100]",children:e.thead}),Tn("tbody",{children:e.children})]}),ny=e=>Tn("tr",{children:[Tn("th",{}),Tn("th",{class:Dt("font-normal select-none relative clickable",1===e.Zd&&"whitespace-nowrap",e.Ee),children:Tn("code",{class:Dt("block [word-break:break-word] [color:inherit] [font-family:inherit] [font-size:inherit]",e.Zd>1&&"limit-lines-in-th",e.Zd<=1&&"w-[inherit] overflow-x-hidden text-ellipsis"),style:e.Zd>1?{webkitLineClamp:1===e.Zd?6:e.Zd,lineClamp:1===e.Zd?6:e.Zd}:{},children:e.S})}),Tn("th",{}),Tn("th",{})]}),ry=e=>{const t=Sd((e=>e.Ol.alignNumberRight));return Tn("tr",{children:[Tn("td",{}),Tn("td",{class:Dt("cell-data relative clickable",t&&("number"==typeof e.Gt||"bigint"==typeof e.Gt)&&"text-right",e.ef),children:Tn(sh.ss,{cs:"inline",Gt:e.Gt,us:void 0===e.tf||0===e.tf?void 0:new kh(`<span class="text-black italic whitespace-nowrap" style="opacity: ${ne(e.tf+"")}">column2:<span style="color: var(--data-string)">${ne("'value1'")}</span></span>`)})}),Tn("td",{}),Tn("td",{})]})},oy=e=>{const[t,n]=Ri(e.Gt+"");Li((()=>{n(e.Gt+"")}),[e.Gt]);const r=e=>+e.replace(/,/g,"."),o=t=>{n(t),Number.isFinite(r(t))&&e.nf(r(t))&&e.Ro(r(t))};return Tn(Zt,{children:[Tn("input",{autocomplete:"off",spellcheck:!1,class:Dt("border border-solid !border-neutral-300 pl-2 ml-1 focus-outline w-16 !text-[--data-number]",!(Number.isFinite(r(t))&&e.nf(r(t)))&&"!bg-red-100"),value:t,onChange:e=>{const t=e.currentTarget.value;o(t)}}),Tn(W$,{St:Ur.ze,Eo:je("Reduce"),Ce:()=>{o(Number.isFinite(r(t))?e.rf(r(t))+"":e.Gt+"")}}),Tn(W$,{St:Ur.Te,Eo:je("Increase"),ko:"scale-75",Ce:()=>{o(Number.isFinite(r(t))?e.if(r(t))+"":e.Gt+"")}})]})},iy=e=>Tn("div",{class:"grid grid-cols-2 gap-x-8",children:[Tn("div",{class:"ml-auto",children:e.Do}),Tn("div",{class:"mr-auto",children:e.Pu})]}),ly=e=>Tn("section",{class:"mb-6",children:[Tn("h3",{class:"border-b border-solid border-neutral-200 pl-2 mb-1",children:[e.Eo,Tn(W$,{St:Ur.$t,Eo:je("Reset"),Ee:"ml-1 reset-table-view-settings opacity-60",Ce:e.lf})]}),e.children]}),ay=()=>{const e=ey((e=>e.Ci)),t=Sd((e=>e.Ol),Ml);return e?Tn("div",{class:"absolute m-auto left-0 right-0 top-0 bottom-0 z-[--z-table-view-settings] rounded shadow border border-neutral-300 h-fit bg-neutral-50 w-[min(550px,90vw)]",children:[Tn("h2",{class:"px-6 pt-[0.4rem] pb-[0.1rem]",children:je("Table View Settings")}),Tn("hr",{class:"border-neutral-200"}),Tn("div",{class:"overflow-auto thin-scrollbar h-[min(600px,80vh)]",children:Tn("div",{class:"pt-3 px-6 pb-4 min-w-max",children:[Tn(ly,{Eo:je("Merge Identical Cells"),lf:()=>{wa[57]("mergeIdenticalCells","Global").catch($a)},children:Tn(iy,{Do:Tn(tu,{Co:!t.mergeIdenticalCells,Ro:e=>{e&&wa[17]("mergeIdenticalCells",!1,"Global").catch($a)},Bo:Tn(ty,{thead:Tn(ny,{Ee:"w-20",S:"column1",Zd:1}),children:[Tn(ry,{Gt:"value1"}),Tn(ry,{Gt:"value1"}),Tn(ry,{Gt:"value2"}),Tn(ry,{Gt:"value2"})]}),children:je("Do Not Merge Cells")}),Pu:Tn(tu,{Co:t.mergeIdenticalCells,Ro:e=>{e&&wa[17]("mergeIdenticalCells",!0,"Global").catch($a)},Bo:Tn(ty,{thead:Tn(ny,{Ee:"w-20",S:"column1",Zd:1}),children:[Tn(ry,{ef:"cell-below-has-same-value",Gt:"value1"}),Tn(ry,{ef:"cell-above-has-same-value",Gt:"value2"}),Tn(ry,{ef:"cell-below-has-same-value",Gt:"value2"}),Tn(ry,{ef:"cell-above-has-same-value",Gt:"value2"})]}),children:je("Merge Identical Cells")})})}),Tn(ly,{Eo:je("Number Alignment"),lf:()=>{wa[57]("alignNumberRight","Global").catch($a)},children:Tn(iy,{Do:Tn(tu,{Co:!t.alignNumberRight,Ro:e=>{e&&wa[17]("alignNumberRight",!1,"Global").catch($a)},Bo:Tn(ty,{thead:Tn(ny,{Ee:"w-20",S:"column1",Zd:1}),children:Tn(ry,{Gt:123.4,ef:"w-20 text-left"})}),children:je("Left Align")}),Pu:Tn(tu,{Co:t.alignNumberRight,Ro:e=>{e&&wa[17]("alignNumberRight",!0,"Global").catch($a)},Bo:Tn(ty,{thead:Tn(ny,{Ee:"w-20",S:"column1",Zd:1}),children:Tn(ry,{Gt:123.4,ef:"w-20 text-right"})}),children:je("Right Align")})})}),Tn(ly,{Eo:je("Foreign Key Preview"),lf:()=>{wa[57]("tableCellForeignKeyPreview.opacity","Global").catch($a)},children:[Tn(iy,{Do:Tn(tu,{Co:0!==t["tableCellForeignKeyPreview.opacity"],Ro:e=>{e&&0===t["tableCellForeignKeyPreview.opacity"]&&wa[17]("tableCellForeignKeyPreview.opacity",.5,"Global").catch($a)},Bo:Tn(ty,{thead:Tn(ny,{Ee:"w-20",S:"column1",Zd:1}),children:Tn(ry,{Gt:1n,ef:"w-40",tf:0===t["tableCellForeignKeyPreview.opacity"]?.5:t["tableCellForeignKeyPreview.opacity"]})}),children:je("Show Preview")}),Pu:Tn(tu,{Co:0===t["tableCellForeignKeyPreview.opacity"],Ro:e=>{e&&wa[17]("tableCellForeignKeyPreview.opacity",0,"Global").catch($a)},Bo:Tn(ty,{thead:Tn(ny,{Ee:"w-20",S:"column1",Zd:1}),children:Tn(ry,{Gt:1n,ef:"w-40"})}),children:je("Hide Preview")})}),0!==t["tableCellForeignKeyPreview.opacity"]&&Tn("div",{class:"ml-9 mt-2",children:[je("Opacity (0.1 - 1.0)"),Tn(oy,{Gt:t["tableCellForeignKeyPreview.opacity"],nf:e=>e>=.1&&e<=1,if:e=>Math.min(1,Math.round(10*e+2)/10),rf:e=>Math.max(.1,Math.round(10*e-2)/10),Ro:e=>{wa[17]("tableCellForeignKeyPreview.opacity",e,"Global").catch($a)}})]})]}),Tn(ly,{Eo:je("Table Header Text Wrapping"),lf:()=>{wa[57]("tableHeaderMaxLines","Global").catch($a)},children:[Tn(iy,{Do:Tn(tu,{Co:1!==t.tableHeaderMaxLines,Ro:e=>{e&&1===t.tableHeaderMaxLines&&wa[17]("tableHeaderMaxLines",6,"Global").catch($a)},Bo:Tn(ty,{thead:Tn(ny,{S:"header text ".repeat(30),Ee:"w-40",Zd:1===t.tableHeaderMaxLines?6:t.tableHeaderMaxLines}),children:Tn(ry,{Gt:"text"})}),children:je("Enable Wrapping")}),Pu:Tn(tu,{Co:1===t.tableHeaderMaxLines,Ro:e=>{e&&wa[17]("tableHeaderMaxLines",1,"Global").catch($a)},Bo:Tn(ty,{thead:Tn(ny,{S:"header text ".repeat(30),Ee:"w-40",Zd:1}),children:Tn(ry,{Gt:"text"})}),children:je("Disable Wrapping")})}),1!==t.tableHeaderMaxLines&&Tn("div",{class:"ml-4 mt-2",children:[je("Maximum Lines (2 or more)")," ",Tn(oy,{Gt:t.tableHeaderMaxLines,if:e=>e+1,rf:e=>Math.max(2,e-1),nf:e=>Number.isInteger(e)&&e>=2,Ro:e=>{wa[17]("tableHeaderMaxLines",e,"Global").catch($a)}})]})]}),Tn(ly,{Eo:je("Vertical Spacing"),lf:()=>{wa[57]("spacing","Global").catch($a)},children:Tn("div",{class:"ml-4 mt-2 mb-4",children:[je("Spacing Value (1 - 3)"),Tn(oy,{Gt:t.spacing,if:e=>Math.min(3,e+.5),rf:e=>Math.max(1,e-.5),nf:e=>e>=1&&e<=3,Ro:e=>{wa[17]("spacing",e,"Global").catch($a)}})]})})]})}),Tn(J$,{Ce:()=>{ey.Dt({Ci:!1})}})]}):Tn(Zt,{})},sy=new ys("dom.tableViewSettings",(()=>ey.Pt().Ci),ey.Ht);Ds.Te(Os.Yr,"Escape",(()=>{ey.Dt({Ci:!1})}),[sy],!0,As.Yr);const cy=()=>Tn(Q$,{St:Ur.xt,Ce:(e,t)=>iu(t,Tn(uy,{}),!0),xo:e=>iu(e,Tn(uy,{}),!0),children:je("Other Tools…")}),$y=Nl(0,{af:window.editorVariables[16]}),uy=()=>{const e=Sd((e=>e.vl.Li)),t=Sd((e=>e.Cl)),n=$y((e=>e.af)),r=Sd((e=>e.Ol["experimental.otherTools.compareDatabases"])),o=Sd((e=>e.Ol["otherTools.databaseFlags"])),i=[];return n?.sqliteCLI&&!window.editorVariables[15]&&i.push(Tn(cu,{Ce:()=>wa[27](),St:Ur.yt,Nt:je("Open in Command Line Shell")})),Tn(Zt,{children:[null===n?Tn(Zt,{children:[Tn(au,{Nt:je("External Tools")}),Tn("div",{class:"px-4 text-center opacity-60 italic",children:[Tn("div",{class:"lds-ring",children:[Tn("div",{}),Tn("div",{}),Tn("div",{}),Tn("div",{})]}),Tn("span",{class:"pl-2",children:je("Finding Commands...")})]}),Tn("hr",{})]}):i.length>0&&Tn(Zt,{children:[Tn(au,{Nt:je("External Tools")}),i,Tn("hr",{})]}),Tn(au,{Nt:je("Export")+" / "+je("Import")}),!("no table selected"===e.type||"broken schema"===e.type)&&Tn(su,{St:Ur._e,Nt:je("Export"),children:[Tn(cu,{Nt:"XLSX",Ee:"!px-2",Ce:()=>fa(52,{nn:!0})("custom query"===e.type?e.customQuery:`SELECT * FROM ${ye(e.name)}`,dy())}),Tn(cu,{Nt:"CSV",Ee:"!px-2",Ce:()=>fa(53,{nn:!0})("custom query"===e.type?e.customQuery:`SELECT ${Gg(e,t)} FROM ${ye(e.name)}`)}),Tn(cu,{Nt:"JSON",Ee:"!px-2",Ce:()=>fa(54,{nn:!0})("custom query"===e.type?e.customQuery:`SELECT ${Gg(e,t)} FROM ${ye(e.name)}`)}),n?.sqliteCLI&&Tn(cu,{Nt:"SQL",Ee:"!px-2",Ce:()=>wa[5](["sqlite3 {{database-filepath}} .dump > out.sql"])})]}),Tn(su,{St:Tn(dr,{}),Nt:je("Import"),children:[Tn(cu,{Nt:"CSV",Ee:"!px-2",Ce:()=>fa(55,{nn:!0})()}),Tn(cu,{Nt:"JSON",Ee:"!px-2",Ce:()=>fa(56,{nn:!0})()}),n?.sqliteCLI&&Tn(cu,{Nt:"SQL",Ee:"!px-2",Ce:()=>wa[5](["sqlite3 {{database-filepath}} < input.sql"])})]}),o&&Tn(Zt,{children:[Tn("hr",{}),Tn(au,{Nt:je("Database Flags")}),Tn(cu,{Ce:async()=>{await yd.Wl.xi({type:"custom query",customQuery:"SELECT * FROM pragma_journal_mode",name:e.name})},St:Ur.xt,Nt:je("Show Journal Mode")}),Tn(cu,{Ce:async()=>{await pg[Fe.ie].ya("PRAGMA journal_mode=WAL;")},St:Ur.xt,Nt:je("Enable WAL Mode…")}),Tn(cu,{Ce:async()=>{await yd.Wl.xi({type:"custom query",customQuery:"SELECT * FROM pragma_synchronous",name:e.name})},St:Ur.xt,Nt:je("Show Synchronous Flag")}),Tn(cu,{Ce:async()=>{await pg[Fe.ie].ya("PRAGMA synchronous=...;  -- https://www.sqlite.org/pragma.html#pragma_synchronous")},St:Ur.xt,Nt:je("Set Synchronous Flag…")})]}),r&&Tn(Zt,{children:[Tn("hr",{}),Tn(au,{Nt:je("Compare Databases")}),Tn(cu,{Ce:async()=>{await fa(22,{nn:!0})()},St:Tn(Kn,{Ee:"[font-size:110%]"}),Nt:je("Compare Active Database With…")})]}),Tn("hr",{}),Tn(cu,{Ce:()=>{ey.Dt({Ci:!0})},St:Tn(Sn,{Ee:"[font-size:110%]"}),Nt:je("Table View Settings")}),!1]})},dy=()=>{const{kl:e,vl:{Li:t},Cl:n}=kd(),r=new Set(n),o=kd.Wl();return{hidden_columns:t.columns.filter(((e,t)=>!r.has(t))).map(((e,t)=>t)),selection:(()=>{switch(e.Bi){case Fe.fe:{const n=_u(t,e.P);return null===n?null:[Number(e.cu),n,Number(e.cu),n]}case Fe.J:{const t=e.ku[0];if(void 0===t)return null;const n=[Number(t.jo.cu),Number(t.su.cu)],r=[Number(t.jo.P),Number(t.su.P)];return[Math.min(...n),Math.min(...r),Math.max(...n),Math.max(...r)]}default:return null}})(),top_left:"no table selected"===o.type?null:[Number(o.al.Oi),0],wrap_text:!0,all_tables:!1,active_sheet:t.name}},fy=()=>{const e=Ai(null),t=Ai(0),n=Ai(Date.now());return Li((()=>{if(null===e.current)return;let r=!1;const o=()=>{r||(document.body.classList.contains("querying")?(e.current.style.left=`${t.current}px`,t.current=(Date.now()-n.current)%(window.innerWidth+200)-200,e.current.style.opacity="1"):e.current.style.opacity="0",requestAnimationFrame(o))};return o(),()=>{r=!0}}),[]),Tn("div",{class:"progressbar inline-block select-none pointer-events-none absolute top-0 z-[--z-loading-indicator] h-[3px] bg-primary opacity-0 [transition:opacity_0.5s_cubic-bezier(1.000,0.060,0.955,-0.120)]",ref:e,style:{width:"200px"}})},hy=new Set,py=()=>{const e=Sd((e=>e.Ol.performanceNotice)),t=Sd((e=>e.Tl));if(null===t||!e)return Tn(Zt,{});const n=t.slice(0,t.indexOf(":")),r=t.slice(t.indexOf(":")+1);return hy.has(n)?Tn(Zt,{}):Tn("div",{class:"bg-orange-100 bg-opacity-50 border-t border-t-gray-300 pl-2 text-orange-800 relative",children:[Tn("span",{dangerouslySetInnerHTML:{__html:r}}),Tn(J$,{Oo:!0,Ce:()=>{hy.add(n),yd.ra()}})]})},my=()=>{const[e,t]=Ri(!1);return ba(17,(()=>{t(!0)})),ba(18,(()=>{t(!1)})),e?Tn("div",{class:"absolute right-2 w-fit top-2 z-[--z-interruption-button] rounded-lg",children:Tn(q$,{Ee:"px-4 py-[0.15rem] rounded shadow-xl bg-neutral-50",yo:!0,Ce:()=>{wa[32]().catch($a)},children:[Tn(Br,{St:Ur.He,Ee:"mr-1"}),je("Interrupt")]})}):Tn(Zt,{})},by=(e,t,n)=>(e.has(t)||e.set(t,new n),e.get(t)),wy=e=>{const t=new Map;for(const[n,r]of Object.entries(e))t.set(r,n);return t},vy=wy({SQLITE_OK:0n,SQLITE_ERROR:1n,SQLITE_INTERNAL:2n,SQLITE_PERM:3n,SQLITE_ABORT:4n,SQLITE_BUSY:5n,SQLITE_LOCKED:6n,SQLITE_NOMEM:7n,SQLITE_READONLY:8n,SQLITE_INTERRUPT:9n,SQLITE_IOERR:10n,SQLITE_CORRUPT:11n,SQLITE_NOTFOUND:12n,SQLITE_FULL:13n,SQLITE_CANTOPEN:14n,SQLITE_PROTOCOL:15n,SQLITE_EMPTY:16n,SQLITE_SCHEMA:17n,SQLITE_TOOBIG:18n,SQLITE_CONSTRAINT:19n,SQLITE_MISMATCH:20n,SQLITE_MISUSE:21n,SQLITE_NOLFS:22n,SQLITE_AUTH:23n,SQLITE_FORMAT:24n,SQLITE_RANGE:25n,SQLITE_NOTADB:26n,SQLITE_NOTICE:27n,SQLITE_WARNING:28n,SQLITE_ROW:100n,SQLITE_DONE:101n}),gy=wy({free_page_count:0n,schema_version:1n,file_format:2n,default_cache_size:3n,largest_root_page:4n,text_encoding:5n,user_version:6n,incr_vacuum:7n,application_id:8n}),yy={current:null},xy=e=>[{Nt:e,Vl:yy.current??new Set}],Ey=e=>e.map((e=>e.Nt)).join(""),Cy=e=>e.every((e=>""===e.Nt)),Ty=e=>e.flatMap((e=>"string"==typeof e?xy(e):e)),_y=(e,t)=>e.flatMap(((e,n,r)=>n===r.length-1?e:[...e,{Nt:t,Vl:new Set}])),ky=(e,t)=>e.size===t.size&&[...e].every((e=>t.has(e))),Sy=e=>{if(0===e.length)return[];const t=[];let n=e[0];for(const r of e.slice(1))ky(n.Vl,r.Vl)?n={Nt:n.Nt+r.Nt,Vl:n.Vl}:(t.push(n),n=r);return t.push(n),t};class Iy{#te;#ne;#re;constructor(e,t,n=!1){this.#te=e,this.#ne=t??Ty(["not ",n?e:Iy.#oe(e)]),this.#re=n}static#oe(e){return/^[a-zA-Z0-9_\[\].]+$/.test(Ey(e))||/^not [a-zA-Z0-9_\[\].]+$/.test(Ey(e))?e:Ty(["(",e,")"])}#ie(){return this.#re||/^[a-zA-Z0-9_\[\].]+(?:\s(is(?: not)?|==|!=|<=?|>=?)\s[a-zA-Z0-9_\[\].]+)?$/.test(Ey(this.#te))||/^not\s+[a-zA-Z0-9_\[\].]+$/.test(Ey(this.#te))?this.#te:Ty(["(",this.#te,")"])}gi(e){return new Iy(Ty([this.#ie()," and ",e.#ie()]),Ty([this.sf().#ie()," or ",e.sf().#ie()]))}cf(e){return new Iy(Ty([this.#ie()," or ",e.#ie()]),Ty([this.sf().#ie()," and ",e.sf().#ie()]))}sf(){return new Iy(this.#ne,this.#te,this.#re)}$f(e){return new Iy(this.#te.map((t=>({Nt:e(t.Nt),Vl:t.Vl}))),this.#ne.map((t=>({Nt:e(t.Nt),Vl:t.Vl}))))}uf(){return[this,this.sf()]}df(){return this.#te}}const My=e=>"object"==typeof e&&"ff"in e;class Ry{#le=[];#h=new Map;addPositionalArg(e){this.#le.push(e)}get(e){return this.#h.get(e)}set(e,t){this.#h.set(e,t)}stringify(){return[...this.#le,...Array.from(this.#h.entries(),(([e,t])=>`${e}=${t}`))].join(", ")}}class Ny{#ae;registerUsages=new Map;cursorUsages=new Map;#se;#ce=0;get onceVariableCounter(){return this.#ce}constructor(e){this.#ae=e}#$e(e,t){return void 0!==t&&by(this.registerUsages,e,Array).push(t),`reg[${e}]`}#ue(e,t){if("bigint"==typeof e&&"bigint"==typeof t&&t-e<=15n){const n=[];for(let r=e;r<t;r++)n.push(`reg[${r}]`);return`[${n.join(", ")}]`}return`reg[${e}:${t}]`}#de(e,t){return void 0!==t&&by(this.cursorUsages,e,Array).push(t),`cur[${e}]`}#fe(e){return 0n===e?"main_db":1n===e?"temp_db":"attached_db_"+(e-2n)}translate({addr:e,opcode:t,p1:n,p2:r,p3:o,p4:i,p5:l},a,s){const c=e=>new Iy(xy(e)),$=e=>new Iy(xy(e),void 0,!0),u=(e,t,n,r)=>new Iy(xy(`${e} ${t} ${r}`),xy(`${e} ${n} ${r}`)),d=(e,t)=>u(e,"is","is not",t),f=(e,t)=>u(e,"==","!=",t),h=(e,t)=>u(e,"!=","==",t),p=(e,t)=>u(e,"<",">=",t),m=(e,t)=>u(e,"<=",">",t),b=(e,t)=>u(e,">","<=",t),w=(e,t)=>u(e,">=","<",t),v=`${t.padEnd(13)} ${[n,r,o,i,l].map((e=>(null===e?"null":e+"").padStart(4))).join(", ")}`;switch(t){case"Init":case"Goto":return{ff:r};case"Integer":return`${this.#$e(r,`int_${n}`)} = ${n}`;case"ResultRow":return`result_rows.append(${this.#ue(n,n+r)})`;case"Halt":{const e=new Ry;if(e.set("result_code",vy.get(n)??n+""),0n!==n){switch(r){case 3n:e.set("rollback","False");break;case 1n:e.set("rollback","True");break;case 2n:e.set("rollback","Abort (do not rollback the transaction but back out all changes that occurred during this execution)");break;default:e.set("rollback",r+"")}if(0n===o&&null!==i){if(!/^\d+$/.test(i))return v;e.set("error_message",this.#$e(BigInt(i)))}const t=new Map([[1n,"NOT NULL constraint failed"],[2n,"UNIQUE constraint failed"],[3n,"CHECK constraint failed"],[4n,"FOREIGN KEY constraint failed"]]);t.has(l)&&(void 0===e.get("error_message")?e.set("error_message",JSON.stringify(t.get(l))):e.set("error_message",`${JSON.stringify(t.get(l)+": ")} + ${e.get("error_message")}`))}return{hf:`halt(${e.stringify()})`}}case"Transaction":{const e=new Ry;if(0n===r&&e.set("readonly","True"),0n!==l){if(e.set("schema_cookie",o+""),null===i)return v;e.set("schema_generation_counter",i)}return`${this.#fe(n)}.start_transaction(${e.stringify()})\nif ${this.#fe(n)}.schema_version != ${o} or ${this.#fe(n)}.schema_generation_counter != ${i}:\n    halt(result_code=SQLITE_SCHEMA, error_message="database schema has changed")`}case"ReadCookie":{const e=gy.get(o);return void 0!==e?`${this.#$e(r,e)} = ${this.#fe(n)}.${e}`:v}case"SetCookie":{const e=gy.get(r);return void 0!==e?`${1n===r&&0n!=l?`${this.#fe(n)}.internal.schema_version = ${o-l}  # cause a schema reset\n`:""}${this.#fe(n)}.${e} = ${o}`:v}case"Insert":{const e=new Ry;return e.set("rowid",this.#$e(o,"rowid")),e.set("data",this.#$e(r,"record")),null!==i&&e.set("table_structure",i),0x01n&l&&e.set("increment_row_change_count","True"),0x04n&l&&e.set("is_update","True"),`${this.#de(n,"insert")}.insert(${e.stringify()})`}case"CreateBtree":switch(o){case 1n:return`${this.#$e(r,"b_tree")} = ${this.#fe(n)}.create_b_tree(is_rowid_table=True).root_page_number`;case 2n:return`${this.#$e(r,"b_tree")} = ${this.#fe(n)}.create_b_tree(is_rowid_table=False).root_page_number`;default:return v}case"Once":{const e=++this.#ce;return[{pf:c(`initialized_${e}`),ff:r},`initialized_${e} = True`]}case"If":return 0n!==o?{pf:d(this.#$e(n),"NULL").cf(d(this.#$e(n),"numeric").gi(h(this.#$e(n),"0"))),ff:r}:{pf:d(this.#$e(n),"numeric").gi(h(this.#$e(n),"0")),ff:r};case"IfNot":return 0n!==o?{pf:d(this.#$e(n),"NULL").cf(d(this.#$e(n),"numeric").gi(f(this.#$e(n),"0"))),ff:r}:{pf:d(this.#$e(n),"numeric").gi(f(this.#$e(n),"0")),ff:r};case"IsType":{const e=[];0x01n&l&&e.push("INTEGER"),0x02n&l&&e.push("FLOAT"),0x04n&l&&e.push("TEXT"),0x08n&l&&e.push("BLOB"),0x10n&l&&e.push("NULL");const t=1===e.length?`== ${e[0]}`:`in (${e.join(", ")})`;return-1n===n?{pf:c(`type(${this.#$e(o)}) ${t}`),ff:r}:null!==i&&/^\d+$/.test(i)&&BigInt(i)&l?{pf:$(`${this.#de(n)}.has_column(${o})`).sf().cf(c(`${this.#de(n)}.get_column_type(${o}) ${t}`)),ff:r}:{pf:$(`${this.#de(n)}.has_column(${o})`).gi(c(`${this.#de(n)}.get_column_type(${o}) ${t}`)),ff:r}}case"IsNull":return{pf:d(this.#$e(n),"NULL"),ff:r};case"NotNull":return{pf:d(this.#$e(n),"not NULL"),ff:r};case"IfNullRow":return{pf:$(`${this.#de(n)}.is_open()`).gi($(`${this.#de(n)}.is_pointing_at_NULL_row()`)),ff:r};case"SequenceTest":return[`${this.#de(n)}.sequence_counter += 1`,{pf:f(`${this.#de(n)}.sequence_counter`,"1"),ff:r}];case"ReopenIdx":case"OpenRead":{const e=0x02n&l,a=new Ry;let s;return 1n===r?s="sqlite_schema":this.#ae.has(r)&&(s=this.#ae.get(r)),a.set("root_page_number",void 0!==s?`${r} (${s})`:r+""),null===i?v:(/^\d+$/.test(i)?a.set("num_columns",i):a.set("key_info",JSON.stringify(i)),e&&a.set("used_only_for_equality_lookups","True"),"ReopenIdx"===t&&a.set("skip_if_already_open","True"),`${this.#de(n,s??`page_${r}`)} = ${this.#fe(o)}.open_read(${a.stringify()})`)}case"OpenWrite":{const e=0x02n&l,t=0x08n&l,a=0x10n&l,s=new Ry;let c;return a||(1n===r?c="sqlite_schema":this.#ae.has(r)&&(c=this.#ae.get(r))),s.set("root_page_number",a?this.#$e(r):void 0!==c?`${r} (${c})`:r+""),null===i?v:(/^\d+$/.test(i)?s.set("num_columns",i):s.set("key_info",JSON.stringify(i)),e&&s.set("used_only_for_equality_lookups","True"),t&&s.set("used_only_to_delete_entries","True"),`${this.#de(n,c??`page_${r}`)} = ${this.#fe(o)}.open_write(${s.stringify()})`)}case"Blob":return null===i?`${this.#$e(r,"blob")} = zero_filled_blob(length=${n})`:`${this.#$e(r,"blob")} = blob(${JSON.stringify(i)}, length=${n})  # Warning: This string is a lossy representation of the actual blob.`;case"String8":return`${this.#$e(r,"str")} = ${JSON.stringify(i)}`;case"NewRowid":return 0n===o?`${this.#$e(r,"rowid")} = ${this.#de(n)}.new_rowid()`:`${this.#$e(r,"rowid")} = ${this.#de(n)}.new_rowid(root_frame.${this.#$e(o)})`;case"Rewind":return 0n===r?`${this.#de(n)}.point_to_first_entry()`:[{pf:$(`${this.#de(n)}.is_table_empty()`),ff:r},`${this.#de(n)}.point_to_first_entry()`];case"Copy":return 0n===o?0x0002n&l?`${this.#$e(r,"copy")} = ${this.#$e(n)}  # deep copy\nclear_subtype(${this.#$e(r)})`:`${this.#$e(r,"copy")} = ${this.#$e(n)}  # deep copy`:0x0002n&l?`${this.#ue(r,r+o+1n)} = ${this.#ue(n,n+o+1n)}}  # deep copy\nclear_subtype(${this.#ue(r,r+o+1n)})`:`${this.#ue(r,r+o+1n)} = ${this.#ue(n,n+o+1n)}}  # deep copy`;case"MakeRecord":{const e=new Ry;return e.set("values",this.#ue(n,n+r)),null!==i&&e.set("column_affinities",JSON.stringify(i)),`${this.#$e(o,"record")} = make_record(${e.stringify()})`}case"SeekRowid":return 0n===r?[`if not (${this.#$e(o)} is integer and ${this.#de(n)}.has_rowid(${this.#$e(o)})):\n    halt(result_code=SQLITE_CORRUPT)`,`${this.#de(n)}.point_to(rowid=${this.#$e(o,"rowid")})`]:[{pf:d(this.#$e(o),"integer").gi($(`${this.#de(n)}.has_rowid(${this.#$e(o)})`)).sf(),ff:r},`${this.#de(n)}.point_to(rowid=${this.#$e(o,"rowid")})`];case"Rowid":return`${this.#$e(r,"rowid")} = ${this.#de(n)}.rowid`;case"Close":return`${this.#de(n)}.close_if_exists()`;case"Noop":case"Explain":return"";case"Next":return{pf:$(`${this.#de(n)}.has_next_row()`),mf:`${this.#de(n)}.point_to_next_row()`,ff:r};case"VNext":return[{pf:$(`${this.#de(n)}.has_next_row()`),mf:`${this.#de(n)}.point_to_next_row()`,ff:r}];case"Prev":return{pf:$(`${this.#de(n)}.has_previous_row()`),mf:`${this.#de(n)}.point_to_previous_row()`,ff:r};case"Column":{let e="";return 0x40n&l&&(e+=", used_only_for_length_fn=True"),0x80n&l&&(e+=", used_only_for_typeof=True"),`${this.#$e(o,`col${r}`)} = ${this.#de(n)}.get_column(${r}${e}) if ${this.#de(n)}.has_column(${r}) else ${i??"NULL"}`}case"VColumn":return`${this.#$e(o,`v_col${r}`)} = ${this.#de(n)}.get_column(${r})`;case"Null":case"BeginSubrtn":return r<o?`${this.#ue(r,o+1n)} = NULL`:`${this.#$e(r,"null")} = NULL`;case"FilterAdd":return null!==i&&/^\d+$/.test(i)?`filter_add(filter=${this.#$e(n,"filter")}, hash=hash(${this.#ue(o,o+BigInt(i))}))`:v;case"Filter":return null!==i&&/^\d+$/.test(i)?{pf:$(`filter_contains(filter=${this.#$e(n,"filter")}, hash=hash(${this.#ue(o,o+BigInt(i))}))`).sf(),ff:r}:v;case"OpenEphemeral":case"OpenAutoindex":return"0"===i?`${this.#de(n,"transient_table")} = new_transient_table(num_columns=${r}, flags=${l})  # Open a transient table that is deleted automatically when the cursor is closed.`:null===i?`${this.#de(n,"transient_index")} = new_transient_index(num_columns=${r}, flags=${l})  # Open a transient table that is deleted automatically when the cursor is closed.`:`${this.#de(n,"transient_index")} = new_transient_index(num_columns=${r}, key_info=${JSON.stringify(i)}, flags=${l})  # Open a transient table that is deleted automatically when the cursor is closed.`;case"Add":return`${this.#$e(o,"add")} = NULL if ${this.#$e(r)} is NULL or ${this.#$e(n)} is NULL else ${this.#$e(r)} + ${this.#$e(n)}`;case"Multiply":return`${this.#$e(o,"multiply")} = NULL if ${this.#$e(r)} is NULL or ${this.#$e(n)} is NULL else ${this.#$e(r)} * ${this.#$e(n)}`;case"Subtract":return`${this.#$e(o,"subtract")} = NULL if ${this.#$e(r)} is NULL or ${this.#$e(n)} is NULL else ${this.#$e(r)} - ${this.#$e(n)}`;case"Divide":return`${this.#$e(o,"divide")} = NULL if ${this.#$e(r)} is NULL or ${this.#$e(n)} is NULL or ${this.#$e(r)} == 0 else ${this.#$e(r)} / ${this.#$e(n)}`;case"Remainder":return`${this.#$e(o,"remainder")} = NULL if ${this.#$e(r)} is NULL or ${this.#$e(n)} is NULL or ${this.#$e(r)} == 0 else ${this.#$e(r)} % ${this.#$e(n)}`;case"BitAnd":return`${this.#$e(o,"and")} = NULL if ${this.#$e(r)} is NULL or ${this.#$e(n)} is NULL else ${this.#$e(r)} & ${this.#$e(n)}  # bitwise and`;case"BitOr":return`${this.#$e(o,"or")} = NULL if ${this.#$e(r)} is NULL or ${this.#$e(n)} is NULL else ${this.#$e(r)} | ${this.#$e(n)}  # bitwise or`;case"ShiftLeft":return`${this.#$e(o,"shift_left")} = NULL if ${this.#$e(r)} is NULL or ${this.#$e(n)} is NULL else ${this.#$e(r)} << ${this.#$e(n)}`;case"ShiftRight":return`${this.#$e(o,"shift_right")} = NULL if ${this.#$e(r)} is NULL or ${this.#$e(n)} is NULL else ${this.#$e(r)} >> ${this.#$e(n)}`;case"AddImm":return`${this.#$e(n,"add")} = int(${this.#$e(n)}) + ${r}  # The result is always an integer.`;case"Eq":return this.#se=f(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),{pf:f(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),ff:r};case"Ne":return this.#se=f(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),{pf:h(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),ff:r};case"Lt":return this.#se=f(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),{pf:p(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),ff:r};case"Le":return this.#se=f(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),{pf:m(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),ff:r};case"Gt":return this.#se=f(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),{pf:b(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),ff:r};case"Ge":return this.#se=f(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),{pf:w(this.#$e(o),`${this.#$e(n)} (collate=${JSON.stringify(i)}, flags=${l})`),ff:r};case"ElseEq":return void 0===this.#se?v:{pf:this.#se,ff:r};case"IfSizeBetween":return[{pf:c(`${o} <= (10 * log_2(${this.#de(n)}.approximate_number_of_rows) if ${this.#de(n)}.approximate_number_of_rows > 0 else -1) <= ${parseInt(i)}`),ff:r}];case"SeekScan":{const e=s[a+1];return"SeekGE"!==e?.opcode?v:null===e.p4||/^\d+$/.test(e.p4)?[{pf:$(`${this.#de(e.p1)}.is_pointing_to_valid_row()`).sf(),ff:e.addr},`step_ahead_result = ${this.#de(e.p1)}.position_cursor_on_or_after_target_row(target_key=${this.#ue(e.p3,e.p3+BigInt(e.p4))}, max_steps=${n})`,{pf:$("step_ahead_result.is_past_target"),ff:0n===l?e.p2:r},{pf:$("step_ahead_result.is_on_target"),ff:r}]:v}case"NotExists":return[0n!==r?{pf:$(`${this.#de(n)}.has_rowid(${this.#$e(o,"rowid")})`).sf(),ff:r}:`if not ${this.#de(n)}.has_rowid(${this.#$e(o,"rowid")}):\n    halt(result_code=SQLITE_CORRUPT)`,`${this.#de(n)}.point_to(rowid=${this.#$e(o,"rowid")})`];case"InitCoroutine":return 0n!==r?[`coroutine_${n}_state = L${o}  # reset coroutine_${n}`,{ff:r},`# ==== Begin coroutine_${n} ====`]:`coroutine_${n}_state = L${o}  # reset coroutine_${n}`;case"EndCoroutine":return[`coroutine_${n}_state = L${e}  # return from coroutine_${n}`,{bf:new Set(s.filter((e=>"Yield"===e.opcode&&e.p1===n&&0n!==e.p2)).map((e=>e.p2))),Ue:"goto *caller"},`# ==== End coroutine_${n} ====`];case"Yield":{const t=s.filter((e=>"Yield"===e.opcode&&e.p1===n&&0n!==e.p2));if(0n!==r){const r=new Set;for(const e of s)"InitCoroutine"===e.opcode&&e.p1===n&&0n!==e.p2||"Yield"===e.opcode&&e.p1===n&&0n===e.p2?r.add(e.addr+1n):"EndCoroutine"===e.opcode&&e.p1===n&&r.add(e.addr);return[...1===t.length?[]:[`coroutine_${n}_caller = L${e+1n}  # call coroutine_${n}`],{bf:r,Ue:`goto *coroutine_${n}_state`}]}return[`coroutine_${n}_state = L${e+1n}  # yield coroutine_${n}`,1===t.length?{ff:t[0].addr+1n}:{bf:new Set(t.map((e=>e.addr+1n))),Ue:`goto *coroutine_${n}_caller`}]}case"Gosub":{const t=s.filter((e=>"Gosub"===e.opcode&&e.p1===n)),o=s.find((e=>"Return"===e.opcode&&e.p1===n&&1n===e.p3));return[...1!==t.length||o?[`subroutine_${n}_caller = ${e+1n}`]:[],{ff:r}]}case"Return":{const e=s.filter((e=>"Gosub"===e.opcode&&e.p1===n));return 0n===o?{Ue:`goto *subroutine_${n}_caller`,bf:new Set(e.map((e=>e.addr+1n)))}:1n===o?{pf:d(`subroutine_${n}_caller`,"integer"),Ue:`goto *subroutine_${n}_caller`,bf:new Set(e.map((e=>e.addr+1n)))}:v}case"Function":case"PureFunc":if(null===i)return v;let u;const g=new Ry;return(u=/^([\w+\->]+)\((\d+)\)$/.exec(i))&&+u[2]>=0?(g.addPositionalArg(JSON.stringify(u[1])),g.set("args",this.#ue(r,r+BigInt(u[2])))):(g.addPositionalArg(JSON.stringify(i)),g.set("args","(not listed in explain's output)")),"PureFunc"===t&&g.set("pure","True"),`${this.#$e(o)} = call_function(${g.stringify()})`;case"HaltIfNull":{const e=new Ry;return e.set("result_code",vy.get(n)??n+""),e.set("rollback",0n===r?"no rollback":1n===r?"rollback":String(r)),e.set("error_message",null!==i?JSON.stringify(i):"NULL"),`if ${this.#$e(o)} is NULL:\n    halt(${e.stringify()})`}case"Int64":return null!==i?`${this.#$e(r,"int")} = ${i}  # int64 literal`:`${this.#$e(r,"int")} = NULL  # no int64 literal provided`;case"Real":return null!==i?`${this.#$e(r,"real")} = ${i}  # real literal`:`${this.#$e(r,"real")} = NULL  # no real literal provided`;case"String":{const e=0n!==o?`if ${this.#$e(o)} == ${l}:\n    cast_to_blob(${this.#$e(r)})\n`:"";return`${this.#$e(r,"str")} = ${JSON.stringify(i)}  # string literal${e?"\n"+e:""}`}case"SoftNull":return`set_soft_null(${this.#$e(n)})  # mark register as NULL without freeing any associated string/blob data`;case"Variable":return`${this.#$e(r,`param${n}`)} = parameters[${n}]  # transfer bound parameter`;case"Move":return`${this.#ue(r,r+o)} = ${this.#ue(n,n+o)}  # move (deep move)\n${this.#ue(n,n+o)} = NULL`;case"SCopy":return`${this.#$e(r)} = shallow_copy(${this.#$e(n)})  # shallow copy; references original memory`;case"IntCopy":return`${this.#$e(r,"int")} = int(${this.#$e(n)})  # copy integer value`;case"FkCheck":return"foreign_key_check_or_halt()  # halt if there are unresolved foreign key constraint violations";case"Concat":return`${this.#$e(o,"concat")} = ${this.#$e(r)} + ${this.#$e(n)}  # concatenate strings; NULL if either operand is NULL`;case"CollSeq":return`${0n!==n?`${this.#$e(n)} = 0\n`:""}set_collation_sequence(${JSON.stringify(i)})`;case"MustBeInt":return 0n===r?[`if not is_integer(${this.#$e(n)}):\n    halt(result_code=SQLITE_MISMATCH)`,`${this.#$e(n)} = int(${this.#$e(n)})`]:[{pf:$(`is_integer(${this.#$e(n)})`).sf(),ff:r},`${this.#$e(n)} = int(${this.#$e(n)})`];case"RealAffinity":return`if is_integer(${this.#$e(n)}): ${this.#$e(n)} = real(${this.#$e(n)})  # convert integer to real`;case"Cast":return`cast(${this.#$e(n)}, affinity=${JSON.stringify(String.fromCharCode(Number(r)))})`;case"Compare":return`cmp1 = ${this.#ue(n,n+o)}\ncmp2 = ${this.#ue(r,r+o)}\ncomparison_result = compare_vectors(cmp1, cmp2, key_info=${JSON.stringify(i)}, permute=${0n!==(0x01n&l)})`;case"Jump":return[{pf:p("comparison_result","0"),ff:n},{pf:f("comparison_result","0"),ff:r},{ff:o}];case"And":return`${this.#$e(o,"and")} = logical_and(${this.#$e(n)}, ${this.#$e(r)})`;case"Or":return`${this.#$e(o,"or")} = logical_or(${this.#$e(n)}, ${this.#$e(r)})`;case"IsTrue":return`${this.#$e(r,0n===o?"is_true":"is_false")} = (${n} IS ${0n===o?"TRUE":"FALSE"})${"0"===i?"":" XOR 1"}  # NULL treated as ${o}`;case"Not":return`${this.#$e(r,"not")} = NOT ${this.#$e(n)}  # NULL input produces NULL output`;case"BitNot":return`${this.#$e(r,"not")} = NULL if ${this.#$e(n)} is NULL else ~${this.#$e(n)}  # bitwise NOT`;case"ZeroOrNull":return`${this.#$e(r,"zero_or_null")} = NULL if (${this.#$e(n)} is NULL or ${this.#$e(o)} is NULL) else 0`;case"Offset":return`${this.#$e(o,"offset")} = ${this.#de(n)}.get_payload_offset()  # offset of the current entry; NULL if invalid cursor or no position`;case"TypeCheck":return null===i?v:`type_check(${this.#ue(n,n+r)}, table=${JSON.stringify(i)}, check_generated_columns=${0n===o})`;case"Affinity":return null===i?v:`apply_affinity(${this.#ue(n,n+BigInt(i.length))}, ${JSON.stringify(i)})`;case"Count":return`${this.#$e(r,"count")} = ${this.#de(n)}.row_count(${0n===o?"exact=True":"exact=False (estimate)"})`;case"Savepoint":return null===i?v:`savepoint(${0n===n?"BEGIN":1n===n?"RELEASE":"ROLLBACK"}, ${JSON.stringify(i)})`;case"AutoCommit":return`${0n!==r?"rollback_and_":""}set_autocommit(${n})  # switch database auto-commit state`;case"OpenDup":return`${this.#de(n,"ephemeral")} = ${this.#de(r)}.duplicate_ephemeral()`;case"SorterOpen":return`${this.#de(n,"sorter")} = open_sorter(num_columns=${r}, stable_sort_prefix=${o}, key_info=${JSON.stringify(i)})`;case"OpenPseudo":return`${this.#de(n,"pseudo")} = pseudo_this.#cursor(partial_row_data=${this.#$e(r)}, num_fields=${o})`;case"ColumnsUsed":return`${this.#de(n)}.columns_used_mask = ${i}`;case"SeekLT":case"SeekLE":case"SeekGE":case"SeekGT":return[`found = ${this.#de(n)}.seek(${t.slice(-2)}, key=${this.#ue(o,o+BigInt(parseInt(i??"0",10)))})`,0n!==r?{pf:$("found").sf(),ff:r}:"if not found:\n    halt(result_code=SQLITE_CORRUPT)"];case"SeekHit":return`${this.#de(n)}.seek_hit = clamp(${this.#de(n)}.seek_hit, ${r}, ${o})`;case"IfNotOpen":return{pf:$(`${this.#de(n)}.is_open()`).sf().cf($(`${this.#de(n)}.is_pointing_at_NULL_row()`)),ff:r};case"Found":{const e=null===i||0===parseInt(i)?this.#$e(o):this.#ue(o,o+BigInt(parseInt(i)));return{pf:$(`${this.#de(n)}.find_key_prefix(${e})`),ff:r}}case"NotFound":{const e=null===i||0===parseInt(i)?this.#$e(o):this.#ue(o,o+BigInt(parseInt(i)));return{pf:$(`${this.#de(n)}.find_key_prefix(${e})`).sf(),ff:r}}case"IfNoHope":{const e=null===i||0===parseInt(i)?this.#$e(o):this.#ue(o,o+BigInt(parseInt(i)));return[{pf:p(`${this.#de(n)}.seek_hit`,`${i}`).gi($(`${this.#de(n)}.find_key_prefix(${e})`).sf()),ff:r},`${this.#de(n)}.seek_hit = ${i}`]}case"NoConflict":{const e=null===i||0===parseInt(i)?this.#$e(o):this.#ue(o,o+BigInt(parseInt(i)));return{pf:$(`${e}.has_any_null()`).cf($(`${this.#de(n)}.find_key_prefix(${e})`).sf()),ff:r}}case"Sequence":return`${this.#$e(r)} = ${this.#de(n)}.next_sequence_value()`;case"RowCell":return`${this.#de(n)}.transfer_row_from(${this.#de(r)}, ${0n!==o?this.#$e(o):"NULL"})`;case"Delete":{const e=new Ry;return 0n!==(0x01n&r)&&e.set("increment_row_change_count","True"),0n!==(0x40n&r)&&e.set("is_noop_delete","True"),0n!==(0x04n&r)&&0n!==o&&e.set("new_rowid_value",this.#$e(o)),0n!==(0x02n&l)&&e.set("save_cursor_position","True"),0n!==(0x04n&l)&&e.set("auxiliary_delete","True"),null!==i&&e.set("table_structure",i),`${this.#de(n)}.delete(${e.stringify()})`}case"ResetCount":return"reset_row_change_counter()";case"SorterCompare":return{pf:$(`${this.#de(n,"sorter")}.key_differs_from(${this.#$e(o)}, num_fields=${parseInt(i)})`),ff:r};case"SorterData":return`${this.#$e(r)} = ${this.#de(n,"sorter")}.current_row_data()\n${this.#de(o)}.clear_cache()`;case"RowData":return`${this.#$e(r)} = ${this.#de(n)}.row_data(ephemeral=${0n!==o?"True":"False"})`;case"NullRow":return`${this.#de(n)}.point_to_null_row()`;case"SeekEnd":return`${this.#de(n)}.point_to_end()  # cursor set for appending`;case"Last":return 0n!==r?{pf:d(`${this.#de(n)}.point_to_last_entry()`,"False"),ff:r}:`${this.#de(n)}.point_to_last_entry()`;case"SorterSort":case"Sort":return[`there_were_no_records_to_be_sorted = ${this.#de(n)}.sort_and_rewind()`,{pf:$("there_were_no_records_to_be_sorted"),ff:r}];case"SorterNext":return[`found_next = ${this.#de(n,"sorter")}.advance_to_next_sorted()`,{pf:$("found_next"),ff:r}];case"IdxInsert":{const e=new Ry;return e.set("key",this.#$e(r)),null!==i&&0!==parseInt(i)&&e.set("unpacked_key",this.#ue(o,o+BigInt(parseInt(i)))),0n!==(0x04n&l)&&e.set("append_hint","True"),0n!==(0x01n&l)&&e.set("increment_row_change_count","True"),0n!==(0x02n&l)&&e.set("use_previous_seek_result","True"),`${this.#de(n)}.idx_insert(${e.stringify()})`}case"SorterInsert":return`${this.#de(n,"sorter")}.insert(${this.#$e(r)})`;case"IdxDelete":return`${this.#de(n)}.idx_delete(${this.#ue(r,r+o)}, raise_if_not_found=${0n!==l?"True":"False"})`;case"DeferredSeek":return`${this.#de(o)}.deferred_seek_from(${this.#de(n)}, alt_map=${i??"null"})`;case"IdxRowid":return`${this.#$e(r,"rowid")} = ${this.#de(n)}.indexed_rowid()`;case"FinishSeek":return`${this.#de(n)}.finish_deferred_seek_if_needed()`;case"IdxLE":return{pf:m(`${this.#de(n)}.compare_key(${this.#ue(o,o+BigInt(parseInt(i)))}, ignore_rowid=True)`,"0"),ff:r};case"IdxLT":return{pf:p(`${this.#de(n)}.compare_key(${this.#ue(o,o+BigInt(parseInt(i)))}, ignore_rowid=True)`,"0"),ff:r};case"IdxGE":return{pf:w(`${this.#de(n)}.compare_key(${this.#ue(o,o+BigInt(parseInt(i)))}, ignore_rowid=True)`,"0"),ff:r};case"IdxGT":return{pf:b(`${this.#de(n)}.compare_key(${this.#ue(o,o+BigInt(parseInt(i)))}, ignore_rowid=True)`,"0"),ff:r};case"Destroy":return`${this.#$e(r)} = ${this.#fe(o)}.destroy_btree(root_page=${n})`;case"Clear":{const e=new Ry;return e.set("root_page_number",this.#ae.has(n)?`${n} (${this.#ae.get(n)})`:n+""),0n!==o&&e.set("row_change_register",this.#$e(o)),`${this.#fe(r)}.clear_table_or_index(${e.stringify()})`}case"ResetSorter":return`if ${this.#de(n)}.is_sorter():\n    ${this.#de(n)}.reset_sorter()\nelse:\n    ${this.#de(n)}.clear_table()`;case"SqlExec":{const e=new Ry;return 0x0001n&n&&e.set("disable_auth_and_trace_callbacks","True"),0x0002n&n&&e.set("analysis_limit",`${r}`),`exec_sql(${JSON.stringify(i)}${Object.keys(e).length?`, ${e.stringify()}`:""})`}case"ParseSchema":{const e=new Ry;return null!==i?e.set("where_clause",JSON.stringify(i)):e.set("reparse_entire_schema","True"),`${this.#fe(n)}.parse_schema(${e.stringify()})`}case"LoadAnalysis":return`${this.#fe(n)}.load_analysis()`;case"DropTable":return null===i?v:`${this.#fe(n)}.drop_table_internal(${JSON.stringify(i)})`;case"DropIndex":return null===i?v:`${this.#fe(n)}.drop_index_internal(${JSON.stringify(i)})`;case"DropTrigger":return null===i?v:`${this.#fe(n)}.drop_trigger_internal(${JSON.stringify(i)})`;case"IntegrityCk":return`${this.#$e(n,"integrity_error")} = ${this.#fe(l)}.integrity_check(max_errors=${this.#$e(n)}, root_pages=${i})`;case"RowSetAdd":return`rowset(${this.#$e(n)}).insert(${this.#$e(r)})`;case"RowSetRead":return[{pf:$(`rowset(${this.#$e(n)}).is_empty()`),ff:r},`${this.#$e(o)} = rowset(${this.#$e(n)}).pop_smallest()`];case"RowSetTest":{const e=null===i?0:parseInt(i,10);return e>=0?[{pf:$(`rowset(${this.#$e(n)}).contains(${this.#$e(o)}, set_id=${e})`),ff:r},`rowset(${this.#$e(n)}).insert(${this.#$e(o)}, set_id=${e})`]:{pf:$(`rowset(${this.#$e(n)}).contains(${this.#$e(o)}, set_id=${e})`),ff:r}}case"Program":{const e=new Ry;return e.set("args_start",`${n}`),e.set("frame_allocator_mem",this.#$e(o)),e.set("trigger_program",i??"null"),0n!==l&&e.set("allow_recursive_invocation","True"),0n===r?`execute_trigger_program(${e.stringify()})`:[`result = execute_trigger_program(${e.stringify()})`,{pf:f("result","raised IGNORE"),ff:r}]}case"Param":return`${this.#$e(r)} = parent_frame.reg[parent_frame.invocation_args_start + ${n}]`;case"FkCounter":return 0n!==n?`database.foreign_key_constraint_counter += ${r}`:`statement.foreign_key_constraint_counter += ${r}`;case"FkIfZero":return 0n!==n?{pf:f("database.foreign_key_constraint_counter","0"),ff:r}:{pf:f("statement.foreign_key_constraint_counter","0"),ff:r};case"MemMax":return`root_frame.${this.#$e(n)} = max(root_frame.${this.#$e(n)}, ${this.#$e(r)})`;case"IfPos":return{pf:b(this.#$e(n),"0"),mf:`${this.#$e(n)} -= ${o}`,ff:r};case"OffsetLimit":return`if ${this.#$e(n)} <= 0:\n    ${this.#$e(r)} = -1\nelse:\n    ${this.#$e(r)} = ${this.#$e(n)} + max(0, ${this.#$e(o)})`;case"IfNotZero":return{pf:h(this.#$e(n),"0"),mf:`${this.#$e(n)} = max(0, ${this.#$e(n)} - 1)`,ff:r};case"DecrJumpZero":return[`${this.#$e(n)} -= 1`,{pf:f(this.#$e(n),"0"),ff:r}];case"AggStep":case"AggInverse":case"AggStep1":return`aggregate_${"AggInverse"===t?"inverse_step":"step"}(accum=${this.#$e(o)}, function=${JSON.stringify(i)}, args=${this.#ue(r,r+l)})`;case"AggFinal":case"AggValue":return`aggregate_finalize(target=${"AggValue"===t?this.#$e(o):this.#$e(n)}, accumulator=${this.#$e(n)}, function=${JSON.stringify(i)})`;case"Checkpoint":{const e=["PASSIVE","FULL","RESTART","TRUNCATE"][Number(r)]??`unknown (${r})`;return`${this.#$e(o)} = ${this.#fe(n)}.checkpoint(mode=${JSON.stringify(e)})\n# ${this.#$e(o)} is 1 if the checkpoint returned SQLITE_BUSY, or 0 otherwise.\n# if success: ${this.#$e(o+1n)} = WAL_size_after_checkpoint, ${this.#$e(o+2n)} = pages_checkpointed\n# if error: ${this.#$e(o+1n)} = -1, ${this.#$e(o+2n)} = -1`}case"JournalMode":{const e=["DELETE","PERSIST","OFF","TRUNCATE","MEMORY","WAL","QUERY"][Number(o)]??`unknown (${o})`;return`${this.#$e(r)} = ${this.#fe(n)}.set_journal_mode(${JSON.stringify(e)})\n# ${this.#$e(r)} contains the final journal mode as a string.`}case"Vacuum":{const e=0n===r?"original database file":`${this.#$e(r)} (destination filepath)`;return`${this.#fe(n)}.vacuum(target=${e})`}case"IncrVacuum":return{pf:$(`${this.#fe(n)}.incremental_vacuum_step_is_done()`),ff:r};case"Expire":return 0n===n?`expire_all_statements(allow_running_statements_to_finish=${1n===r?"True":"False"})`:`current_statement.expire(allow_running_statements_to_finish=${1n===r?"True":"False"})`;case"CursorLock":return`${this.#de(n)}.lock_to_prevent_other_writes()`;case"CursorUnlock":return`${this.#de(n)}.unlock_to_allow_other_writes()`;case"TableLock":return`${this.#fe(n)}.table_lock(root_page_number=${r}, write_lock=${1n===o?"True":"False"}, table_name=${JSON.stringify(i)})`;case"VBegin":return`virtual_table(${JSON.stringify(i)}).begin()`;case"VCreate":return`virtual_table(${this.#fe(n)}).create(table_name=${this.#$e(r,"table_name")})`;case"VDestroy":return`virtual_table(${this.#fe(n)}).destroy(table_name=${JSON.stringify(i)})`;case"VOpen":return`${this.#de(n)} = virtual_table(${JSON.stringify(i)}).open_this.#cursor()`;case"VCheck":return`${this.#$e(r,"integrity_error")} = virtual_table_integrity_check(${this.#fe(n)}, table=${JSON.stringify(i)}, arg=${o})  # NULL if no error, error message otherwise`;case"VInitIn":return`${this.#$e(r,"value_list")} = new_virtual_table_value_list(cursor=${n}, cache_register=${o}, output_register=${o+1n})`;case"VFilter":return[`${this.#de(n)}.virtual_table_filter(index_number=${this.#$e(o)}, query_plan=${JSON.stringify(i)}, argv=reg[${o+2n}:${o+1n}+${this.#$e(o+1n)}])`,{pf:$(`${this.#de(n)}.is_eof()`),ff:r}];case"VRename":return`virtual_table(${JSON.stringify(i)}).rename(new_name=${this.#$e(n,"table_name")})`;case"VUpdate":return`virtual_table(${JSON.stringify(i)}).update(argv=${this.#ue(o,o+r)})${0n!==n?"database.set_last_insert_rowid_if_successful()\n":""}\n# constraint_error_behavior=${l}`;case"Pagecount":return`${this.#$e(r,"page_count")} = ${this.#fe(n)}.page_count()`;case"MaxPgcnt":return`${this.#$e(r)} = ${this.#fe(n)}.set_max_page_count(${0n===o?"NO_CHANGE":`${o}`})`;case"ClrSubtype":return`clear_subtype(${this.#$e(n)})`;case"GetSubtype":return`${this.#$e(r,"subtype")} = get_subtype_or_null(${this.#$e(n)})`;case"SetSubtype":return`set_subtype(${this.#$e(r)}, subtype=${this.#$e(n,"subtype")})`;case"CursorHint":return`${this.#de(n)}.set_hint(${JSON.stringify(i)})`;case"Trace":return`trace(${JSON.stringify(i)})`;default:return v}}}const Ly=(e,t,n=null)=>{const r=t.map((t=>"string"==typeof t?e.getNode(t).Ue:t.code)).filter((e=>!Cy(e)));return{Ue:_y(r,"\n"),wf:n}},Oy=e=>{if("string"==typeof e&&(e=xy(e)),Cy(e))return e;{const t=((e,t)=>{const n=[];let r=[];for(const o of e)for(const[e,t]of o.Nt.split("\n").entries())0===e?r.push({Nt:t,Vl:o.Vl}):(r.length>0&&n.push(r),r=[{Nt:t,Vl:o.Vl}]);return r.length>0&&n.push(r),n})(e).map((e=>/^L[\w.]+:$/.test(Ey(e))?e:Ty([[{Nt:"    ",Vl:new Set}],e])));return _y(t,"\n")}};class Ay extends Error{constructor(e){super(`Logic Error: ${e}`)}}function Dy(e,t){if(!e)throw new Ay(`Invalid operation on the CFG: ${t}`)}const Fy=e=>void 0!==e&&"vf"in e&&"string"==typeof e.vf,Uy=e=>void 0!==e&&"vf"in e&&"object"==typeof e.vf,By=e=>void 0!==e&&"gf"in e&&"object"==typeof e.gf;class zy{constructor(e,t,n){this.entryPoint=n,this.#he=e,this.#pe=t,Dy(this.#he.has(this.entryPoint),`The entry point ${JSON.stringify(this.entryPoint)} is not present.`)}#he=new Map;#pe=new Map;#me;#be;#we=!0;#ve=0;#ge(){this.#ve++,this.#we=!0,this.#me=void 0,this.#be=void 0}static fromPseudocodeLines(e,t){const n=new Map,r=new Map;for(const[o,i]of e.entries())for(const[t,l]of i.yf.entries()){const a=0===t?`${i.xf}`:`${i.xf}.${t}`,s=t<i.yf.length-1?`${i.xf}.${t+1}`:o<e.length-1?`${i.xf+1n}`:void 0;if("string"==typeof l)n.set(a,{Ue:[{Nt:l,Vl:new Set([i.xf])}],wf:null}),void 0!==s&&r.set(a,{vf:s});else if("pf"in l&&"mf"in l&&"ff"in l){if(void 0===s)throw new Ay("Invalid instantiation of the CFG: Conditional branching cannot occur at the end of a program.");n.set(a,{Ue:[{Nt:"",Vl:new Set([i.xf])}],wf:null});const e=`${i.xf}.${BigInt(t)}.then`;r.set(a,{Ef:l.pf.uf(),vf:[e,s]}),n.set(e,{Ue:[{Nt:l.mf,Vl:new Set([i.xf])}],wf:null}),r.set(e,{vf:`${l.ff}`})}else if("pf"in l&&"ff"in l){if(void 0===s)throw new Ay("Invalid instantiation of the CFG: Conditional branching cannot occur at the end of a program.");n.set(a,{Ue:[{Nt:"",Vl:new Set([i.xf])}],wf:null}),r.set(a,{Ef:l.pf.uf(),vf:[`${l.ff}`,s]})}else if("ff"in l)n.set(a,{Ue:[{Nt:"",Vl:new Set([i.xf])}],wf:null}),r.set(a,{vf:`${l.ff}`});else if("pf"in l&&"bf"in l){if(void 0===s)throw new Ay("Invalid instantiation of the CFG: Conditional branching cannot occur at the end of a program.");n.set(a,{Ue:[{Nt:"",Vl:new Set([i.xf])}],wf:null});const e=`${i.xf}.${BigInt(t)}.then`;r.set(a,{Ef:l.pf.uf(),vf:[e,s]}),n.set(e,{Ue:[{Nt:"",Vl:new Set([i.xf])}],wf:null}),r.set(e,{gf:new Set(Array.from(l.bf,(e=>`${e}`))),Ue:l.Ue})}else"bf"in l?(n.set(a,{Ue:[{Nt:"",Vl:new Set([i.xf])}],wf:null}),r.set(a,{gf:new Set(Array.from(l.bf,(e=>`${e}`))),Ue:l.Ue})):n.set(a,{Ue:[{Nt:l.hf,Vl:new Set([i.xf])}],wf:"halt"})}return new zy(n,r,t)}get reversedEdges(){if(void 0===this.#me){const e=new Map;for(const[t,n]of this.#pe)if(Fy(n))by(e,n.vf,Set).add(t);else if(Uy(n))by(e,n.vf[0],Set).add(t),by(e,n.vf[1],Set).add(t);else for(const r of n.gf)by(e,r,Set).add(t);this.#me=e}return this.#me}findNodesThatJumpTo(e){return this.reversedEdges.get(e)??new Set}get edges(){return this.#pe}get nodes(){return this.#he}get version(){return this.#ve}getNode(e){return this.#he.get(e)}getEdge(e){return this.#pe.get(e)}get bottom(){if(void 0!==this.#be)return this.#be;for(const[e,t]of this.#he)if("bottom"===t.wf)return this.#be=e}setNodeAndEdges(e,t,n){if(void 0===t)Dy(e!==this.entryPoint,"The entry point cannot be deleted."),this.#he.delete(e);else if(this.#he.set(e,t),void 0===n?this.#pe.delete(e):this.#pe.set(e,n),[...this.#pe.values()].some((e=>void 0===e)))throw new Error("error");this.#ge()}findReachableNodes(e,t){const n=new Set,r=[e];for(;r.length>0;){const e=r.pop();if(!this.#he.has(e))continue;if(n.has(e))continue;if(n.add(e),e===t)continue;const o=this.#pe.get(e);if(Fy(o))r.push(o.vf);else if(Uy(o))r.push(o.vf[1]),r.push(o.vf[0]);else if(void 0!==o)for(const t of o.gf)r.push(t)}return n}removeUnreachableNodesAndEdges(){if(!this.#we)return;const e=this.findReachableNodes(this.entryPoint);for(const t of this.#he.keys())e.has(t)||(this.#he.delete(t),this.#ge());for(const t of this.#pe.keys())if(!e.has(t)){if(this.#pe.delete(t),[...this.#pe.values()].some((e=>void 0===e)))throw new Error("error");this.#ge()}this.#we=!1;for(const[t,n]of this.#he)Dy(!("halt"===n.wf&&this.#pe.has(t)),"There shouldn't be a edge starting from a a halt node.");Dy([...this.#he].filter((([e,t])=>"bottom"===t.wf)).length<=1,"There shouldn't be multiple nodes that have the 'bottom' attribute.");for(const[t,n]of this.#pe)if(Fy(n))Dy(this.#he.has(n.vf),`Edge from ${t} points to non-existent node ${n.vf}.`);else if(Uy(n))Dy(this.#he.has(n.vf[0]),`Conditional edge from ${t} points to non-existent node ${n.vf[0]}.`),Dy(this.#he.has(n.vf[1]),`Conditional edge from ${t} points to non-existent node ${n.vf[1]}.`);else for(const e of n.gf)Dy(this.#he.has(e),`Conditional edge from ${t} points to non-existent node ${e}.`)}}const Py=(e,t=[Hy,Vy,jy,Gy,qy,Wy,Qy,Ky])=>{let n;e.removeUnreachableNodesAndEdges();do{n=e.version;for(const r of t)if(r(e),e.removeUnreachableNodesAndEdges(),e.version!==n)break}while(e.version!==n)},Hy=e=>{for(const[t,n]of e.edges)if(Uy(n))n.vf[0]===n.vf[1]&&e.setNodeAndEdges(t,e.getNode(t),{vf:n.vf[0]});else if(By(n))switch(n.gf.size){case 0:e.setNodeAndEdges(t,e.getNode(t));break;case 1:e.setNodeAndEdges(t,e.getNode(t),{vf:n.gf.values().next().value})}},Vy=e=>{for(const[t,n]of e.edges)Fy(n)&&1===e.findNodesThatJumpTo(n.vf).size&&e.setNodeAndEdges(t,Ly(e,[t,n.vf],"bottom"===e.getNode(n.vf).wf?"bottom":null),e.getEdge(n.vf))},jy=e=>{for(const[t,n]of e.edges)if(Fy(n))"halt"===e.getNode(n.vf).wf&&e.setNodeAndEdges(t,Ly(e,[t,n.vf]));else if(Uy(n))for(const[r,o]of[[0,1],[1,0]])if("halt"===e.getNode(n.vf[r]).wf){e.setNodeAndEdges(t,Ly(e,[t,{code:Ty(["if ",n.Ef[r].df(),":\n",Oy(e.getNode(n.vf[r]).Ue)])}]),{vf:n.vf[o]});break}},Gy=e=>{for(const[t,n]of e.edges)if(Uy(n))for(const[r,o]of[[0,1],[1,0]]){const i=n.vf[r],l=n.vf[o];if(!Cy(e.getNode(i).Ue))continue;const a=e.getEdge(i);if(void 0!==a&&Uy(a))for(const[s,c]of[[0,1],[1,0]])if(a.vf[c]===l)return void e.setNodeAndEdges(t,e.getNode(t),{Ef:n.Ef[r].gi(a.Ef[s]).uf(),vf:[a.vf[s],n.vf[o]]})}},qy=e=>{for(const[t,n]of e.edges)if(Uy(n))for(const[r,o]of[[0,1],[1,0]]){if(n.vf[o]!==t)continue;const i=Ly(e,[t,{code:Ty(["if ",n.Ef[r].df(),":\n    break"])}]);return void e.setNodeAndEdges(t,{...i,Ue:Ty(["while True:\n",Oy(i.Ue)])},{vf:n.vf[r]})}},Wy=e=>{for(const[t,n]of e.edges)if(Uy(n))for(const[r,o]of[[0,1],[1,0]]){const i=n.vf[o];if(1!==e.findNodesThatJumpTo(i).size)continue;const l=e.edges.get(i);if(Fy(l)&&l.vf===t){const o=Ly(e,[t,{code:Ty(["if ",n.Ef[r].df(),":\n    break"])},i]);return void e.setNodeAndEdges(t,{...o,Ue:Ty(["while True:\n",Oy(o.Ue)])},{vf:n.vf[r]})}}},Qy=e=>{for(const[t,n]of e.edges){if(!Fy(n))continue;if(n.vf!==t)continue;const r=e.getNode(t);return void e.setNodeAndEdges(t,{Ue:Ty(["while True:\n",Oy(r.Ue)]),wf:"bottom"===r.wf?"bottom":null})}},Ky=e=>{for(const[t,n]of e.edges)if(Uy(n))for(const[r,o]of[[0,1],[1,0]]){const i=n.vf[r];if(1!==e.findNodesThatJumpTo(i).size)continue;const l=e.edges.get(i);if(Fy(l)&&l.vf===n.vf[o])return void e.setNodeAndEdges(t,Ly(e,[t,{code:Ty(["if ",n.Ef[r].df(),":\n",Oy(e.nodes.get(i).Ue)])}]),{vf:n.vf[o]})}},Yy=e=>{const t=new Map;for(const[n,r]of e.nodes){if(0===e.findNodesThatJumpTo(n).size)continue;const r=e.edges.get(n),o=t=>{const r=[...t].filter((e=>e!==n)),o=r.every((n=>[...e.findNodesThatJumpTo(n)].every((e=>t.has(e))))),i=[...e.findNodesThatJumpTo(n)].some((e=>r.includes(e)));return o&&i};if(Fy(r))o(e.findReachableNodes(n))&&t.set(n,null);else if(Uy(r))if(o(e.findReachableNodes(n)))t.set(n,null);else for(const i of[0,1])o(e.findReachableNodes(r.vf[i],n))&&by(t,n,Set).add(i)}return t},Jy=(e,t)=>{let n;do{n=e.version;const r=Yy(e);if(0===r.size)return t(e);const[o,i]=r.entries().next().value,l=e.getEdge(o);if(Fy(l)||null===i){const n=e.findReachableNodes(o),r=new Map(Array.from(n,(t=>[t,e.getNode(t)]))),i=new Map(Array.from(n,(t=>void 0===e.getEdge(t)?[]:[[t,e.getEdge(t)]])).flat()),l=`${o}.loopEnd`,a=new zy(r,i,o);a.setNodeAndEdges(l,{Ue:[],wf:"bottom"});for(const e of a.findNodesThatJumpTo(o)){const t=a.getNode(e),n=a.getEdge(e);Fy(n)?a.setNodeAndEdges(e,t,{vf:l}):Uy(n)?a.setNodeAndEdges(e,t,{...n,vf:[n.vf[0]===o?l:n.vf[0],n.vf[1]===o?l:n.vf[1]]}):a.setNodeAndEdges(e,t,{...n,gf:new Set(Array.from(n.gf,(e=>e===o?l:e)))})}a.removeUnreachableNodesAndEdges(),Py(a),Dy(void 0!==a.bottom,"The node with the 'bottom' attribute was removed without transferring the attribute to another node."),e.setNodeAndEdges(o,{Ue:Ty([xy("while True:\n"),Jy(a,t)]),wf:null}),e.removeUnreachableNodesAndEdges(),Py(e)}}while(e.version!==n);return t(e)},Xy=(e,t,n)=>{const r=e.length,o=Date.now()+n;let i=[...e],l=t(i);const a=(n,s)=>{if(Date.now()>=o)return;if(n.length===r){const e=t(n);return void(e<l&&(i=[...n],l=e))}const c=[];for(let o=0;o<r;o++)if(!s.has(o)){n.push(e[o]);const r=t(n);n.pop(),c.push({index:o,element:e[o],heuristicCost:r})}c.sort(((e,t)=>e.heuristicCost-t.heuristicCost));for(const e of c){if(Date.now()>=o)return;s.add(e.index),n.push(e.element),a(n,s),n.pop(),s.delete(e.index)}};return a([],new Set),i},Zy=(e,t)=>{let n=0;for(const[r,o]of t.entries()){const i=t[r+1],l=e.getEdge(o);if(Fy(l))l.vf!==i&&n++;else if(Uy(l))l.vf[0]===i&&l.vf[1]===i||(l.vf[0]===i||l.vf[1]===i?n++:n+=2);else if(void 0!==l)for(const e of l.gf)e!==i&&n++}return n},ex=e=>t=>{let n=[t.entryPoint,...Array.from(t.nodes,(([e])=>e)).filter((e=>e!==t.entryPoint&&e!==t.bottom))];void 0!==t.bottom&&n.push(t.bottom),n=void 0===t.bottom?[t.entryPoint,...Xy(n.slice(1),(e=>Zy(t,[t.entryPoint,...e])),e)]:[t.entryPoint,...Xy(n.slice(1,-1),(e=>Zy(t,[t.entryPoint,...e,t.bottom])),e),t.bottom];const r=[],o=((e,t)=>{const n=new Set;for(const[r,o]of t.entries()){const i=t[r+1],l=e.getEdge(o);if(Fy(l))l.vf!==i&&n.add(l.vf);else if(Uy(l))l.vf[0]===i&&l.vf[1]===i||(l.vf[0]===i?n.add(l.vf[1]):l.vf[1]===i?n.add(l.vf[0]):(n.add(l.vf[0]),n.add(l.vf[1])));else if(void 0!==l)for(const e of l.gf)n.add(e)}return n})(t,n);for(const[e,i]of n.entries()){yy.current=new Set([...t.getNode(i).Ue.flatMap((e=>[...e.Vl]))]);try{const l=n[e+1];o.has(i)&&r.push(xy(`L${i}:`));const a=Oy(t.getNode(i).Ue);Cy(a)||r.push(a);const s=t.getEdge(i);if(Fy(s))s.vf!==l&&r.push(Oy(`goto L${s.vf}`));else if(Uy(s))s.vf[0]===l&&s.vf[1]===l||(s.vf[0]===l?r.push(Oy(Ty(["if ",s.Ef[1].df(),":\n",Oy(`goto L${s.vf[1]}`)]))):s.vf[1]===l?r.push(Oy(Ty(["if ",s.Ef[0].df(),":\n",Oy(`goto L${s.vf[0]}`)]))):r.push(Oy(Ty(["if ",s.Ef[0].df(),":\n",Oy(`goto L${s.vf[0]}`),"\nelse:\n",Oy(`goto L${s.vf[1]}`)]))));else if(void 0!==s){const e=[...s.gf].sort().map((e=>`L${e}`)).join(", ");r.push(Oy(`${s.Ue} # goto ${1===s.gf.size?"":"one of "}${e}`))}}finally{yy.current=null}}return _y(r,"\n")},tx=e=>"object"==typeof e&&null!==e&&"addr"in e&&"bigint"==typeof e.addr&&"opcode"in e&&"string"==typeof e.opcode&&"p1"in e&&"bigint"==typeof e.p1&&"p2"in e&&"bigint"==typeof e.p2&&"p3"in e&&"bigint"==typeof e.p3&&"p4"in e&&("string"==typeof e.p4||null===e.p4)&&"p5"in e&&"bigint"==typeof e.p5&&"comment"in e&&("string"==typeof e.comment||null===e.comment)&&(e.addr,e.opcode,e.p1,e.p2,e.p3,e.p4,e.p5,e.comment,!0),nx=()=>Tn("div",{class:"absolute z-[--z-button] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:[Tn("div",{class:"lds-ring",children:[Tn("div",{}),Tn("div",{}),Tn("div",{}),Tn("div",{})]}),Tn("span",{class:"select-text ml-1",children:je("Loading...")})]});Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript;const rx=Ll(0,{Ci:!1,xi:null,Cf:null,yf:null,Tf:null,_f:!0,qe:null,kf:null,column1Width:33,column2Width:33,Sf:!0},((e,t)=>{const n=async n=>{e({xi:n,_f:!1,qe:null});try{const{records:r}=await pa(`EXPLAIN QUERY PLAN ${n}`,[],"read_only",Oe,{rn:!1});if(t().xi!==n)return;const{records:o}=await pa(`EXPLAIN ${n}`,[],"read_only",Oe,{rn:!1});if(t().xi!==n)return;const i=await(async e=>new Map((await e("SELECT rootpage, name FROM sqlite_master",[])).map((({rootpage:e,name:t})=>[e,t]))))(Ma);if(t().xi!==n)return;const l=jr(o);for(const e of l)tx(e)||console.log("Invalid instruction record",e);const a=((e,t)=>{const n=new Ny(t),r=e.map(((t,r)=>{yy.current=new Set([t.addr]);try{const o=n.translate(t,r,e);return{xf:t.addr,yf:Array.isArray(o)?o:[o]}}finally{yy.current=null}}));r.length>0&&n.onceVariableCounter>0&&r[0].yf.unshift(Array(n.onceVariableCounter).fill(0).map(((e,t)=>`initialized_${t+1} = False`)).join("\n"));const o=new Map,i=new Set,l=e=>e.replace(/\b(?:reg|cur)\[(\d+)\]/g,((e,t)=>{if(o.has(e))return o.get(e);const r=e.startsWith("reg"),l=(r?n.registerUsages:n.cursorUsages).get(BigInt(t));if(void 0===l||0===l.length)return e;let a=`${r?"reg":"cur"}_${[...new Set(l)].join("_")}`;if(i.has(a)){let e=2;for(;i.has(`${a}_${e}`);)e++;a=`${a}_${e}`}return i.add(a),o.set(e,a),a})),a=r.map((e=>({xf:e.xf,yf:e.yf.map((e=>"string"==typeof e?l(e):"pf"in e&&"mf"in e&&"ff"in e?{pf:e.pf.$f(l),mf:l(e.mf),ff:e.ff}:"pf"in e&&"ff"in e?{pf:e.pf.$f(l),ff:e.ff}:"ff"in e?e:"pf"in e&&"bf"in e?{pf:e.pf.$f(l),bf:e.bf,Ue:l(e.Ue)}:"bf"in e?{bf:e.bf,Ue:l(e.Ue)}:{hf:l(e.hf)}))})));return a.push({xf:(r.at(-1)?.xf??-1n)+1n,yf:[{hf:"halt(result_code=SQLITE_OK)"}]}),a})(l,i),s=zy.fromPseudocodeLines(a,"0");let c;t().Sf?(Py(s),c=Sy(Jy(s,ex(500)))):c=Sy(ex(0)(s)),e({_f:!0,Cf:l.map(((e,t)=>{let n=null;if(void 0!==a[t]&&a[t].yf.some(My))n="var(--data-keyword-control)";else switch(e.opcode){case"Int64":case"Integer":case"Real":n="var(--data-number)";break;case"Null":case"Blob":n="var(--data-null)";break;case"String":case"String8":n="var(--data-string)";break;default:n="var(--data-variable)"}return Object.assign(e,{color:n})})),yf:c,Tf:ox(jr(r)),qe:null})}catch(HE){const n=ee(HE);console.error(n),e({_f:!1,qe:n})}};return{If:(t,r=!0)=>{if(e({Ci:t}),t&&r){const{Li:t}=kd().vl;null!==t.customQuery?n(t.customQuery).catch($a):e({xi:null})}},Mf:n,Rf:t=>{e({kf:t})},Nf:async r=>{e({Sf:r});const{xi:o}=t();if(null!==o)return n(o)},Lf:n=>{const r=Math.min(Math.max(n,10),80),o=Math.min(Math.max(t().column2Width-(r-t().column1Width),10),100-r-10);e({column1Width:r,column2Width:o})},Of:n=>{const r=100-t().column1Width-t().column2Width,o=Math.min(Math.max(n,10),80),i=Math.min(Math.max(t().column2Width-(o-r),10),100-o-10);e({column1Width:100-i-o,column2Width:i})}}})),ox=e=>{const t=[],n=new Map;for(const o of e){const e={$n:o.id,Nt:o.detail,Af:[]};n.set(o.id,e),0n===o.parent&&t.push(e)}for(const o of e){const e=n.get(o.id);if(0n===o.parent)continue;const t=n.get(o.parent);if(void 0===t)return"Error: Unexpected output from EXPLAIN QUERY PLAN";t.Af.push(e)}let r="";for(const[o,i]of t.entries()){const e=o===t.length-1;r+=`${e?"└─":"├─"}${i.Nt}\n`;const n=[];for(const[t,r]of[...i.Af].reverse().entries())n.push({Df:r,Ff:t===i.Af.length-1,Uf:e?"  ":"│ "});const l=new Set;for(;;){const e=n.pop();if(void 0===e)break;if(l.has(e.Df.$n))return"Error: Detected cycle in query plan";l.add(e.Df.$n);const t=e.Ff;r+=`${e.Uf}${t?" └─":" ├─"}${e.Df.Nt}\n`;const o=e.Uf+(t?"   ":" │ ");for(const[r,i]of[...e.Df.Af].reverse().entries())n.push({Df:i,Ff:r===e.Df.Af.length-1,Uf:o})}}return r.trimEnd()},ix=e=>{e.preventDefault(),document.body.classList.add("column-resize");const t=rx.Pt().column1Width,{pageX:n}=e;Pu((e=>{rx.Pt().Lf(t+(e.pageX-n)/window.innerWidth*100)}),(()=>{document.body.classList.remove("column-resize")}))},lx=e=>{e.preventDefault(),document.body.classList.add("column-resize");const t=100-rx.Pt().column1Width-rx.Pt().column2Width,{pageX:n}=e;Pu((e=>{rx.Pt().Of(t-(e.pageX-n)/window.innerWidth*100)}),(()=>{document.body.classList.remove("column-resize")}))},ax=()=>{const e=rx((e=>e.Ci)),t=Sd((e=>e.isQueryPlanHelpClosed)),n=rx((e=>e.column1Width)),r=rx((e=>e.column2Width));return Li((()=>{Id(((e,t)=>{rx.Pt().Ci&&null!==e.vl.Li.customQuery&&e.vl.Li.customQuery!==t.vl.Li.customQuery&&rx.Pt().Mf(e.vl.Li.customQuery).catch($a)}))}),[]),ba(24,(e=>{rx.Pt().Ci||rx.Pt().If(!0,!1),rx.Pt().Mf(e).catch($a)})),e?Tn("div",{class:"z-[--z-query-plan] absolute left-1 top-[40px] pt-1 w-[calc(100%-0.5rem)] h-[calc(100%-50px)] shadow border border-neutral-300 rounded flex flex-row bg-white min-h-0",children:[Tn("div",{class:"min-w-0 flex flex-col px-2",style:{width:n+"%"},children:[Tn("div",{class:"text-center py-1 mb-3 border-b border-b-neutral-300",children:je("Query Plan")}),Tn(sx,{}),Tn("div",{class:"border-t border-t-neutral-300 relative",children:[Tn("div",{class:Dt("text-center pt-1",t&&"hover:bg-opacity-10 hover:bg-neutral-500 cursor-pointer"),onClick:()=>{yd.da(!1)},children:[Tn(Br,{St:Ur.tt,Ee:"text-[140%] mr-[2px] translate-y-[-1.3px]"}),Tn("span",{class:"text-[120%]",children:je("Help")})]}),!t&&Tn(Zt,{children:[Tn("div",{class:"whitespace-pre-wrap [&_li]:ml-4 [&_li]:mt-0 leading-5 [&_li]:list-disc [&_div]:mb-[0.4rem]",dangerouslySetInnerHTML:{__html:je("<div>In the query plan viewer, you can inspect two types of output for SQL statements executed in the Query Editor:<ul><li>The query plan (<b>EXPLAIN QUERY PLAN</b> output)</li><li>The bytecode (<b>EXPLAIN</b> output)</li></ul></div><div>To inspect these outputs:<ul><li><b>SELECT statements:</b> Execute the statement directly in the Query Editor.</li><li><b>Non-SELECT statements:</b> Add the keyword EXPLAIN before the statement, then execute it in the Query Editor.</li></ul></div><div>The viewer also includes an experimental translator that converts bytecode into a Pseudocode Representation of the Bytecode. Although this translator is still rough and does not attempt to capture every detail of the bytecode, it can be helpful for understanding bytecode behavior.</div>")}}),Tn(J$,{Ce:()=>{yd.da(!0)}})]})]})]}),Tn("div",{class:"w-2 h-full cursor-col-resize select-none max-w-full border-r border-neutral-300 hover:border-r-2 hover:border-r-cyan-500",onMouseDown:ix}),Tn("div",{class:"min-w-0 flex flex-col px-2",style:{width:r+"%"},children:[Tn("div",{class:"text-center py-1 mb-3 border-b border-b-neutral-300",children:je("Pseudocode Representation of the Bytecode")}),Tn($x,{})]}),Tn("div",{class:"w-2 h-full cursor-col-resize select-none max-w-full border-r border-neutral-300 hover:border-r-2 hover:border-r-cyan-500",onMouseDown:lx}),Tn("div",{class:"flex-1 min-w-0 flex flex-col px-2",children:[Tn("div",{class:"text-center py-1 mb-3 border-b border-b-neutral-300",children:je("Bytecode")}),Tn(cx,{})]}),Tn(J$,{Ee:"bg-neutral-50 bg-opacity-80",Ce:()=>{rx.Pt().If(!1)},po:!0})]}):Tn(Zt,{})},sx=()=>{const e=rx((e=>e.xi)),t=rx((e=>e.Tf));return Tn("div",{class:"h-full overflow-auto whitespace-pre pl-4 code-font select-text",children:[Tn(hm,{w$:"div",Ue:e??""}),Tn("div",{class:"mt-2",children:t})]})},cx=()=>{const e=rx((e=>e.Cf)),t=rx((e=>null===e.yf||null===e.kf?null:e.kf));return null===e?Tn(nx,{}):Tn("div",{class:"select-text whitespace-pre code-font bg-white h-full overflow-auto min-h-0",children:e.map((({addr:e,opcode:n,p1:r,p2:o,p3:i,p4:l,p5:a,color:s})=>Tn("div",{class:Dt("cursor-text",t?.has(e)&&"bg-blue-500 bg-opacity-40"),onMouseEnter:()=>{rx.Pt().Rf(new Set([e]))},onMouseLeave:()=>{rx.Pt().Rf(null)},children:[Tn("div",{class:"inline-block text-[var(--vscode-editorLineNumber-foreground,#6e7681)] select-none cursor-default",children:(e+"").padEnd(5," ")}),Tn("div",{class:"inline-block",style:{color:s},children:(n+"").padEnd(13," ")}),Tn("div",{class:"inline-block",style:{color:s},children:(r+", ").padEnd(4," ")}),Tn("div",{class:"inline-block",style:{color:s},children:(o+", ").padEnd(4," ")}),Tn("div",{class:"inline-block",style:{color:s},children:(i+", ").padEnd(4," ")}),Tn("div",{class:"inline-block",style:{color:s},children:(l+", ").padEnd(13," ")}),Tn("div",{class:"inline-block",style:{color:s},children:a})]})))})},$x=()=>{const e=rx((e=>e.yf)),t=rx((e=>e.kf)),n=rx((e=>e.Sf)),r=rx((e=>null!==e.xi)),o=rx((e=>e.qe));if(!r)return Tn("div",{children:je("Execute the SELECT or EXPLAIN statement for which you want to see the query plan in the query editor.")});if(null!==o)return Tn("div",{class:"text-red-500",children:o});if(null===e)return Tn(nx,{});if(!fm.languages.javascript)throw new Error("Prism.languages.javascript is not loaded.");return Tn("div",{class:"whitespace-pre code-font bg-white font-[12px] leading-[18px] flex-1 flex flex-col min-h-0 relative",children:[Tn(G$,{baseClass:"span",content:je("When enabled, the code is reordered to reduce jumps."),class:"text-right overflow-hidden",children:Tn(X$,{Co:n,Ro:e=>{rx.Pt().Nf(e).catch($a)},children:je("Optimize pseudocode")})}),Tn("div",{class:"select-text overflow-auto flex-1",children:e.map((({Nt:e,Vl:n})=>Tn("span",{class:Dt("py-[2.3px] prism-color",null!==t&&n.size>0&&[...t].some((e=>n.has(e)))&&"bg-blue-500 bg-opacity-40"),onMouseEnter:()=>{rx.Pt().Rf(n)},onMouseLeave:()=>{rx.Pt().Rf(null)},dangerouslySetInnerHTML:{__html:fm.highlight(e,fm.languages.javascript,"javascript")}})))})]})},ux=new ys("dom.queryPlanView",(()=>rx.Pt().Ci),rx.Ht);Ds.Te(Os.ro,"Escape",(()=>{rx.Pt().If(!1)}),[ux],!0,As.ro);const dx=()=>{const e=Sd((e=>e.vl.al.Ai.Di)),t=Sd((e=>e.vl.al.Ai.Fi));return e?Tn(Zt,{}):Tn("div",{class:"bg-red-100 bg-opacity-50 border-t border-t-gray-300 pl-2 text-red-800",children:[Tn(G$,{baseClass:"span",class:"mr-2",content:je("We need to know the total number of records to display the scrollbar, but counting records is slow on large tables. To prevent performance degradation, the counting was halted."),children:[je("Counting of records stopped at {{int}}.",{int:new Intl.NumberFormat(He).format(t)})," ",Tn("span",{class:"opacity-60 italic",children:je("Hover for more information.")})]}),Tn("button",{class:"underline hover:text-red-600",onClick:()=>yd.Wl.il(!1),children:je("Count All Records")}),Tn("a",{class:"underline hover:text-red-600 ml-2",href:jd("workbench.action.openSettings","sqlite3-editor.ui.recordCountingLimit"),children:je("Increase Limit")})]})},fx=(e,t)=>{const n=e.Qo(t)?.trim().split("\n")[0]?.trim()??null;return""===n?null:n};let hx=!1;const px=()=>{const e=Sd.wa(),[t,n]=Ri(!window.editorVariables[13]);if(null===e)return Tn(Zt,{});const r=Tn("span",{children:[Tn("a",{class:"text-sky-800 hover:text-sky-900 underline",href:jd("workbench.action.openSettings","sqlite3-editor.comment.filepath"),children:je("Configure file location")}),": ",Tn("code",{children:e.zl})]});return e.Bl?(window.editorVariables[13]||hx||(hx=!0,wa[36]().catch($a)),Tn("div",{class:"px-2 pb-4",id:za.$n,children:[Tn(cm,{Ee:"whitespace-nowrap",Nt:je("Comment"),St:Tn(tr,{}),children:[Tn("span",{class:"ml-2 [font-size:80%] opacity-70 translate-y-[-1px] inline-block",children:Ds.fo(Os.kn)}),Tn(Qn,{Ee:"ml-2 translate-y-[-1px] hover:text-black pointer-outline rounded-lg",Ce:()=>{n((e=>!e)),t&&mx().catch($a)}}),""===e.va&&Tn($m,{St:Ur.Fe,Ce:()=>{yd.$a(!1)},children:je("Hide")})]}),t&&Tn("div",{class:"inline-dialog relative mb-1 py-1 max-w-fit",children:[Tn("div",{class:"flex",children:[Tn("div",{children:Tn(Qn,{Ee:"[font-size:150%]"})}),Tn("div",{class:"flex-1",children:[je("You can write a comment for the currently visible table here. This may be useful for explaining obscure table names, what a complex VIEW does, or documenting other relevant information. The first line of the comment is displayed in the dropdown (see the image below). Your comment will be saved to an external file in Markdown format."),Tn("div",{class:"w-32 outline outline-neutral-400 [color:#ddd] outline-1 rounded-lg overflow-hidden mt-1 hover:w-80 [transition:width_0.25s_ease-in-out_0s] relative",children:Tn("img",{src:window.tableCommentsBalloonSrc,class:"block rounded-sm",draggable:!1})}),Tn("p",{class:"mt-1",children:r})]})]}),Tn(J$,{Ce:()=>{n(!1),mx().catch($a)}})]}),Tn(Wf,{Gt:e.va,Ro:t=>{yd.ca(e.ga,t)},Na:Math.min(e.va.split("\n").length,10),Aa:`comment:${e.ga}`,Da:"markdown",Kl:"--string",Pa:!1,La:""!==e.va?void 0:je("The description of {{- name }}. The first line is displayed in the dropdown.",{name:e.ga}),Fa:!0,Ha:!0,Va:!0,za:!0})]})):Tn("div",{class:"px-2 pb-4",id:za.$n,children:[Tn(cm,{Ee:"whitespace-nowrap",Nt:je("Comment"),St:Tn(tr,{})}),Tn("p",{class:"text-red-700",children:e.qe}),Tn("p",{children:r})]})},mx=async()=>{const e=await Ra(`#${za.$n} .monaco-editor`);e&&(e.querySelector("textarea")?.focus(),e.querySelector("textarea")?.select())};Ds.Te(Os.kn,"CtrlCmd + Slash",(async()=>{yd.ia(!0),yd.$a(!0),await mx()}),[Ns]),Ds.Te(Os.kn,"CtrlCmd + Slash",(()=>{yd.ia(!1)}),[Ls]);var bx=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var l=i[o];if(!e(t[l],n[l]))return!1}return!0}return t!=t&&n!=n};const wx=Fl(bx),vx=e=>{e.Bf?yd.Wl.xi({type:"custom query",customQuery:e.Gt}).catch($a):yd.Wl.xi({name:e.Gt}).catch($a)},gx=Ll(0,{zf:!1,Pf:null,Po:"",Hf:null},((e,t)=>{const n=t=>e(t);return{ou:()=>{const{Li:e}=kd().vl;null!==e.customQuery?n({zf:!0,Pf:{Bf:!0,Gt:e.customQuery},Po:"",Hf:new Set}):null!==e.name?n({zf:!0,Pf:{Bf:!1,Gt:e.name},Po:"",Hf:new Set}):n({zf:!0,Pf:null,Po:"",Hf:new Set})},Vf:()=>{ss.Pt().focus(),ss.Pt().dispatchEvent(new MouseEvent("mouseleave"))},Fe:()=>{t().zf&&(n({zf:!1,Pf:null,Po:"",Hf:null}),ss.Pt().focus(),ss.Pt().dispatchEvent(new MouseEvent("mouseleave")))},jf:(e,r)=>{const o=t();if(!o.zf)return;const i={zf:o.zf,Pf:e,Po:r?"":o.Po,Hf:o.Hf};wx(i,o)||n(i)},Gf:e=>{const r=t();r.zf,n({...r,Po:r.Po+e})},qf:e=>{const r=t();if(null===r.Hf)return;const o=new Set(r.Hf);o.has(e)?o.delete(e):o.add(e),n({...r,Hf:o})}}})),yx=(e,t,n)=>(n||(e=e.filter((([e,t])=>"shadow"!==e))),null!==t?[["custom query",[t]],...e]:e),xx=e=>{const t=Sd((t=>t.ul.find((t=>t.name.toLowerCase()===e.ga.toLowerCase()))?.type)),n=async()=>{await yd.Wl.xi({name:e.ga}),e.Wf()},r=async()=>{await n(),await pg[Fe.re].ya(),Ih()};return Tn(Zt,{children:[!e.Bf&&Tn(cu,{Ce:()=>{xa(e.ga).catch($a)},St:Tn(Ar,{}),Nt:je("Open Table In New Tab"),Vo:je("middle click")}),e.children,Tn("hr",{}),void 0!==t&&Nu(t)&&Tn(cu,{Ce:async()=>{await n(),pg[Fe.K].ya(void 0,rp.sc),Ih()},St:Mr,Nt:je("Rename Table"),Vo:Ds.do(Os.Zr)}),"view"===t&&Tn(cu,{Ce:async()=>{await n(),pg[Fe.$e].ya(),Ih()},St:Mr,Nt:je("Rename View")}),("table"===t||"virtual"===t)&&Tn(cu,{Ce:()=>r().catch($a),St:Ur.Et,Nt:je("Drop Table")}),"view"===t&&Tn(cu,{Ce:()=>r().catch($a),St:Ur.Et,Nt:je("Drop View")}),Tn("hr",{}),Tn(cu,{Ce:async()=>{await ga(e.ga)},St:Ur.Be,Nt:je("Copy Table Name")})]})},Ex=async()=>{const{vl:{Li:e},Cl:t}=kd();"no table selected"===e.type||"broken schema"===e.type||("custom query"===e.type?await ga(e.customQuery):await ga(`SELECT ${Gg(e,t)} FROM ${e.name}`))},Cx=()=>{const e=Sd((e=>kd.Wl(e).customQuery)),t=Sd((e=>kd.Wl(e).name)),n=Sd((e=>e.kl.Bi===Fe.K&&e.kl.dc===rp.sc?e.kl.Hi:null)),r=Sd((e=>e.kl.Bi===Fe.$e?e.kl.Nd:null));let o,i=!1;if(null!==n)o=Tn(um,{$n:cs.$n,Gt:n,Ro:e=>{yd.Gl(Fe.K,{Hi:e.currentTarget.value})},ja:!0,p$:{background:"transparent",color:"white"}});else if(null!==r)o=Tn(um,{$n:cs.$n,Gt:r,Ro:e=>{yd.Gl(Fe.$e,{Nd:e.currentTarget.value})},ja:!0,p$:{background:"transparent",color:"white"}});else if(null!==e){const{Nt:t}=Ix(e);o=Tn("span",{children:[Tn(Bn,{Ee:"mr-3"}),t]}),i=!0}else o=t;return Tn("span",{class:"whitespace-nowrap",children:[Tn(G$,{baseClass:"span",content:je("Select a table{{- key }}",{key:Ds.fo(Os.Fn)}),id:ss.$n,class:Dt("pr-8 pointer-outline text-fg-primary pt-[1.5px] pb-[1.7px] shadow whitespace-nowrap focus-within:outline-0 relative",i?"pl-3 bg-secondary [body:has(.table-selector:hover)_&]:bg-secondary-hover hover:bg-secondary-hover rounded-l-sm fix-pointer-outline-z-ordering":"pl-5 bg-primary [body:has(.table-selector:hover)_&]:bg-primary-hover hover:bg-primary-hover rounded-sm"),onKeyDown:e=>{if(null!==n&&e.target instanceof Element&&e.target.matches(`#${cs.$n}, #${cs.$n} *`))return;if(null!==r&&e.target instanceof Element&&e.target.matches(`#${cs.$n}, #${cs.$n} *`))return;if(null!==ds.Pt())return;const{zf:t,Pf:o}=gx.Pt();if(t)if(!e.ctrlKey&&!e.shiftKey&&!e.altKey&&"Enter"===e.code||"Tab"===e.code||e.altKey&&"ArrowDown"===e.code||e.altKey&&"ArrowUp"===e.code)e.preventDefault(),e.stopImmediatePropagation(),gx.Pt().Fe(),null!==o&&vx(o);else if("ArrowDown"===e.code||"ArrowUp"===e.code||"ArrowRight"===e.code||"ArrowLeft"===e.code||"PageUp"===e.code||"PageDown"===e.code||"Home"===e.code||"End"===e.code){const t=kx(e.code,o?.Gt??null);if(void 0===t)return;gx.Pt().jf(t,!0)}else if("Escape"===e.code)gx.Pt().Fe();else if(1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)(ms?e.metaKey:e.ctrlKey)&&"KeyL"===e.code&&(gx.Pt().Fe(),e.stopImmediatePropagation(),e.preventDefault());else{const t=_x(e.key);if(void 0===t)return;gx.Pt().jf(t,!1)}else if(!e.ctrlKey&&!e.shiftKey&&!e.altKey&&"Enter"===e.code||"Space"===e.code||e.altKey&&"ArrowDown"===e.code||e.altKey&&"ArrowUp"===e.code)e.preventDefault(),e.stopImmediatePropagation(),gx.Pt().ou();else if("ArrowDown"===e.code||"ArrowUp"===e.code||"ArrowRight"===e.code||"ArrowLeft"===e.code||"PageUp"===e.code||"PageDown"===e.code||"Home"===e.code||"End"===e.code){const{vl:{Li:{name:t}}}=kd(),n=kx(e.code,t);if(void 0===n)return;vx(n)}else if(1===e.key.length&&!e.ctrlKey&&!e.metaKey&&!e.altKey){const t=_x(e.key);if(void 0===t)return;vx(t)}},onMouseDown:e=>{var t;if(!(null!==n&&e.target instanceof Element&&e.target.matches(`#${cs.$n}, #${cs.$n} *`)||null!==r&&e.target instanceof Element&&e.target.matches(`#${cs.$n}, #${cs.$n} *`)||2===e.button))if(gx.Pt().zf)gx.Pt().Fe();else{const e=ps.Pt();null!==e?((t=e).classList.remove("flash-no-outline"),setTimeout((()=>{t.classList.add("flash-no-outline")}),50)):gx.Pt().ou()}},tabIndex:0,onContextMenu:e=>iu(e,Tn(Mx,{})),children:[o,Tn(Fn,{Ee:"absolute right-1 top-[0.25em] pointer-events-none select-none mr-0",xe:"3.5"})]}),i&&Tn(Zt,{children:[Tn(G$,{baseClass:"span",content:je("Save Query as a View"),class:"border-l border-l-neutral-400 px-[0.2rem] bg-secondary [body:has(.table-selector:hover)_&]:bg-secondary-hover hover:bg-secondary-hover pointer-outline text-fg-secondary pt-[1.5px] pb-[1.7px] shadow whitespace-nowrap focus-within:outline-0 relative fix-pointer-outline-z-ordering",onMouseDown:e=>{2!==e.button&&Sx().catch($a)},onContextMenu:e=>iu(e,Tn(Mx,{})),children:Tn(Br,{St:Ur.dt})}),Tn(G$,{baseClass:"span",content:je("Close"),class:"border-l border-l-neutral-400 px-[0.2rem] bg-secondary [body:has(.table-selector:hover)_&]:bg-secondary-hover hover:bg-secondary-hover pointer-outline text-fg-secondary rounded-r-sm pt-[1.5px] pb-[1.7px] shadow whitespace-nowrap focus-within:outline-0 relative fix-pointer-outline-z-ordering",onMouseDown:e=>{2!==e.button&&yd.Wl.xi({type:"table-like"}).catch($a)},onContextMenu:e=>iu(e,Tn(Mx,{})),children:Tn(Br,{St:Ur.Fe})})]})]})},Tx=()=>{const{vl:{Li:e}}=kd(),t=Sd((e=>e.cl===ud.Gi));return Tn(Zt,{children:[Tn(au,{St:Tn(ur,{}),Nt:je("Table Management")}),Tn(cu,{Ce:()=>{yd.ia(!kd().isSchemaPaneOpen)},St:Ur.Je,Nt:je("Show Table Schema and Indexes")}),t&&Nu(e.type)&&Tn(cu,{Ce:()=>{pg[Fe.K].ya(void 0,rp.sc),Ih()},St:Mr,Nt:je("Rename Table")}),t&&("view"===e.type||"broken schema"===e.type&&"view"===e.realType)&&Tn(cu,{Ce:()=>{pg[Fe.$e].ya(),Ih()},St:Mr,Nt:je("Rename View")}),t&&("table"===e.type||"virtual"===e.type)&&Tn(cu,{Ce:async()=>{await pg[Fe.re].ya(),Ih()},St:Ur.Et,Nt:je("Drop Table")}),t&&("view"===e.type||"broken schema"===e.type&&"view"===e.realType)&&Tn(cu,{Ce:async()=>{await pg[Fe.re].ya(),Ih()},St:Ur.Et,Nt:je("Drop View")}),t&&"table"===e.type&&Tn(cu,{Ce:async()=>{await pg[Fe.he].ya(),Ih()},St:Ur.je,Nt:je("Edit Table Schema")}),t&&"table"===e.type&&null!==e.schema&&Tn(cu,{Ce:async()=>{if("table"!==e.type||null===e.schema)return;const t=await fa(8,{nn:!0})({prompt:je("Input a new table name."),value:`${e.name}-copy`,placeHolder:""});void 0!==t&&await pg[Fe.ie].ya(xe({...de("CreateTableStatement",e.schema),tableName:{text:ye(t)}})+`\nINSERT INTO ${ye(t)} SELECT * FROM ${ye(e.name)};`)},St:Lr,Nt:je("Duplicate Table…")}),t&&Tn(cu,{Ce:()=>{pg[Fe.ee].ya(),Ih()},St:Tn(fr,{}),Nt:je("Create Table")}),t&&Ru(e.type)&&Tn(cu,{Ce:()=>{pg[Fe.X].ya(),Ih()},St:Tn(lr,{}),Nt:je("Create Index")})]})},_x=e=>{gx.Pt().Gf(e);const t=gx.Pt().Po.toLowerCase();for(const[n,r]of yx(kd().wl,kd().vl.Li.customQuery,kd().Ol["tableSelector.displayShadowTables"]))for(const e of r)if(e.toLowerCase().startsWith(t))return{Bf:"custom query"===n,Gt:e}},kx=(e,t)=>{const n=kd().Ol["tableSelector.displayShadowTables"],r=yx(kd().wl,kd().vl.Li.customQuery,!0),o=[];let i=null;for(const[a,s]of r)if("shadow"!==a||n)for(const e of s)o.push({Bf:"custom query"===a,Gt:e});else null!==t&&s.includes(t)&&(i=o.length-.5);null!==t&&(i??=o.findIndex((e=>e.Gt===t)));const l=e=>{const n=o[Math.max(0,Math.min(o.length-1,e))];return n?.Gt===t?void 0:n};if(null===i)switch(e){case"ArrowDown":case"ArrowRight":case"ArrowUp":case"ArrowLeft":case"PageUp":case"Home":return l(0);case"PageDown":return l(19);case"End":return l(o.length-1)}else switch(e){case"ArrowDown":case"ArrowRight":return l(Math.floor(i)+1);case"ArrowUp":case"ArrowLeft":return l(Math.ceil(i)-1);case"PageUp":return l(Math.ceil(i)-20);case"PageDown":return l(Math.floor(i)+20);case"Home":return l(0);case"End":return l(o.length-1)}},Sx=async()=>{const e=kd.Wl();if("custom query"!==e.type)return;let t=0n;for(const{name:r}of kd().ul){const e=/^view(\d+)$/.exec(r);null!==e&&(t=Se([t,BigInt(e[1])]))}const n=await fa(8,{nn:!0})({prompt:je("Enter a name for the new view"),value:`view${t+1n}`,placeHolder:""});if(void 0!==n){await pa(`CREATE VIEW ${ye(n)} AS ${e.customQuery}`,[],"read_write",Oe);for(let e=0;e<100;e++){if(kd().ul.some((e=>e.name===n)))return void(await yd.Wl.xi({type:"table-like",name:n}));await new Promise((e=>setTimeout(e,100)))}}},Ix=e=>{const t=/^\s*SELECT\s*\*\s*FROM\b\s*/i;return t.test(e)?{Qf:!0,Nt:oe(e.replace(t,""),{$:50,C:e=>e})}:{Qf:!1,Nt:oe(e,{$:50,C:e=>e})}},Mx=()=>{const e=Sd((e=>e.vl.Li));return"no table selected"===e.type||"broken schema"===e.type?Tn(Zt,{}):Tn(Zt,{children:[Tn(Tx,{}),Tn("hr",{}),null!==e.name&&Tn(cu,{Ce:async()=>{await ga(e.name)},St:Ur.Be,Nt:je("Copy Table Name")}),"custom query"!==e.type?Tn(cu,{Ce:Ex,St:Ur.Be,Nt:je("Copy SELECT statement")}):Tn(Zt,{children:[Tn(cu,{St:Ur.Be,Nt:je("Copy Query"),Ce:()=>ga(e.customQuery)}),Tn(cu,{St:Ur.je,Nt:je("Edit Query"),Ce:()=>pg[Fe.ie].ya(pg[Fe.ie].gd.bd).catch($a)}),Tn(cu,{St:Ur.dt,Nt:je("Save Query as a View"),Ce:()=>Sx().catch($a)})]})]})},Rx=new ys("dom.tableSelectorMenu",(()=>gx.Pt().zf),gx.Ht);Ds.Te(Os.no,[bs],(()=>{}),[Rx],void 0,As.no,!1),Ds.Te(Os.Fn,"CtrlCmd + KeyL",(()=>{gx.Pt().ou(),ss.Pt().focus(),ss.Pt().dispatchEvent(new MouseEvent("mouseleave"))}),[]);const Nx=Ss("focus.tableSelector",(e=>e.id===ss.$n));Ds.Te(Os.Zr,"F2",(()=>{pg[Fe.K].ya(void 0,rp.sc),Ih()}),[Nx],void 0,As.Zr);const Lx=()=>{const e=Sd((e=>e.vl.Li)),t=Sd((e=>e.kl.Bi===Fe.he||e.kl.Bi===Fe.be)),n=Sd((e=>e.cl===ud.Gi)),r=Sd.wa(),o=Fi((e=>{if(e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLInputElement)return;const t=window.getSelection();t&&0!==t.rangeCount&&t.isCollapsed&&iu(e,Tn(Ax,{}))}),[]);return Tn("div",{class:"px-2 pb-2",children:[Tn(cm,{Nt:"Schema",St:Tn(ur,{}),children:[n&&("table"===e.type||"view"===e.type||"broken schema"===e.type&&("table"===e.realType||"view"===e.realType))&&Tn($m,{$n:ja.$n,Eo:je("Edit Table Schema"),St:t?Ur.Fe:Ur.je,Ce:async()=>{if(t)await Ud();else if("table"===e.type||"broken schema"===e.type&&"table"===e.realType){if((await kd().Sl.Il(!1)).Jl)return;await pg[Fe.he].ya()}else if("view"===e.type||"broken schema"===e.type&&"view"===e.realType){if((await kd().Sl.Il(!1)).Jl)return;pg[Fe.be].ya()}else e.type},"data-testid":void 0,children:je(t?"Cancel":"Edit")}),null===r&&Tn($m,{St:Tn(tr,{}),Eo:je("Open the section to write a description of the table.")+Ds.fo(Os.kn),Ce:()=>{yd.$a()},children:je("Comment")})]}),!t&&Tn("div",{class:"hover:bg-neutral-400 hover:bg-opacity-[0.12] cursor-pointer relative table-schema",onClick:o,onContextMenu:o,children:[Tn(hm,{w$:"pre",Ee:"[font-size:inherit] overflow-x-auto px-2 mb-2 select-text whitespace-pre-wrap break-all",Ue:e.schema??""}),n&&("table"===e.type||"virtual"===e.type)&&Tn(J$,{Oo:!0,Eo:je("Drop Table"),Ee:"hidden table-close-button",Ce:async e=>{e.stopImmediatePropagation(),await pg[Fe.re].ya(),Mg().catch($a)}}),n&&("view"===e.type||"broken schema"===e.type&&"view"===e.realType)&&Tn(J$,{Oo:!0,Eo:je("Drop View"),Ee:"hidden table-close-button",Ce:async e=>{e.stopImmediatePropagation(),await pg[Fe.re].ya(),Mg().catch($a)}})]}),t&&Tn(Ox,{})]})},Ox=()=>{const e=Sd((e=>e.kl.Bi===Fe.he||e.kl.Bi===Fe.be?e.kl:null)),t=Sd((e=>e.ul));if(null===e)return Tn(Zt,{});if(e.Bi===Fe.he){const n=Sg.x$(e,t),{C$:r}=pg[Fe.he];return Tn(sm,{Ee:"p-2",children:[Tn(Wf,{Na:8,Kl:"--string",Da:"sql",Gt:e.Od,Ro:e=>{yd.Gl(Fe.he,{Od:e})},Oa:()=>{Ih()},Ba:!0,Aa:"schema"}),Tn(r,{kl:e,xi:n})]})}return e.Bi,Tn(sm,{Ee:"p-2",children:Tn(Wf,{Na:8,Kl:"--string",Da:"sql",Gt:e.Ad,Ro:e=>{yd.Gl(Fe.be,{Ad:e})},Oa:()=>{Ih()},Ba:!0,Aa:"schema"})})},Ax=()=>{const e=Sd((e=>e.vl.Li.name)),t=Sd((e=>e.vl.Li.schema));return Tn(Zt,{children:[Tn(Tx,{}),Tn("hr",{}),null!==e&&Tn(cu,{Ce:async()=>{await ga(e)},St:Ur.Be,Nt:je("Copy Table Name")}),null!==t&&Tn(cu,{Ce:async()=>{await ga(t)},St:Ur.Be,Nt:je("Copy Table Schema")})]})},Dx=e=>{const t=Sd((e=>e.vl.Li)),[n,r]=Ri(null);let[o,i]=Ri(null);const[l,a]=Ri([]);if(null===t.name)return Tn(Zt,{});const s=()=>null!==n?null!==o?"UPDATE"===o&&l.length>0?`trigger_${n.toLowerCase().replaceAll(" ","_")}_${o.toLowerCase()}_${t.name}_${l.join("_")}`:`trigger_${n.toLowerCase().replaceAll(" ","_")}_${o.toLowerCase()}_${t.name}`:`trigger_${n.toLowerCase().replaceAll(" ","_")}_`:"<trigger-name>",c=()=>{let r;switch(o){case"DELETE":r="    -- OLD references are valid\n";break;case"INSERT":r="    -- NEW references are valid\n";break;case"UPDATE":r="    -- NEW and OLD references are valid\n";break;case null:r=""}pg[Fe.ie].ya(`CREATE TRIGGER ${ye(s())} ${n} ${o}${"UPDATE"===o&&l.length>0?` OF ${l.map((e=>ye(e))).join(", ")}`:""} ON ${ye(t.name)} BEGIN\n${r}END;`).catch($a),e.Kf()};return Tn(sm,{Ee:"flex gap-2 whitespace-nowrap p-1 overflow-x-auto mb-6 code-font",children:[Tn(hm,{w$:"div",Ue:"CREATE TRIGGER"}),ye(s()),Tn("div",{children:[..."table"===t.type?[["BEFORE",Tn(rr,{Ee:"rotate-180"})]]:[],..."table"===t.type?[["AFTER",Tn(rr,{})]]:[],..."view"===t.type?[["INSTEAD OF",Tn(nr,{})]]:[]].map((([e,t],o,i)=>Tn(Q$,{Ee:Dt("block border-neutral-300 bg-button-secondary",n===e&&"bg-primary text-fg-primary",0!==o&&"rounded-t-none",o<i.length-1&&"border-b-0 rounded-b-none"),St:t,Ce:()=>{r(e)},children:e})))}),Tn("div",{children:[["DELETE",Ur.Et],["INSERT",Ur.Te],["UPDATE",Ur.je]].map((([e,t],n,r)=>Tn(Q$,{Ee:Dt("block border-neutral-300 bg-button-secondary",o===e&&"bg-primary text-fg-primary",0!==n&&"rounded-t-none",n<r.length-1&&"border-b-0 rounded-b-none"),St:t,Ce:()=>{o=e,i(e),"UPDATE"!==e&&c()},children:e})))}),"UPDATE"===o&&Tn("span",{children:[Tn("span",{class:l.length>0?"":"opacity-50 italic",children:"OF "}),Tn(am,{Mi:t.columns.map((e=>e.name)),Gt:l,Ce:e=>{a(H(l,(t=>{const n=t.indexOf(e);-1===n?t.push(e):t.splice(n,1)})))}}),Tn(lv,{Gt:l,Ro:e=>{a(e)},La:"column"}),Tn(W$,{Ee:"bg-primary hover:bg-primary active:bg-primary pointer-outline text-fg-primary rounded ml-2",St:Ur.Le,Eo:je("Confirm"),Ce:()=>{c()}})]}),Tn(hm,{w$:"div",Ue:`ON ${ye(t.name)} BEGIN ... END;`})]})},Fx=()=>{const[e,t]=Ri(!1),n=Sd((e=>e.vl.Li)),r=Sd((e=>e.cl===ud.Gi));return Tn("div",{class:"px-2",children:("table"===n.type||"view"===n.type||n.triggers.length>0)&&Tn("section",{children:[Tn(cm,{Nt:"Trigger",St:Tn(Hn,{}),children:r&&Tn($m,{Eo:je("Create Trigger"),Ce:()=>{t((e=>!e))},St:e?Ur.Fe:Ur.Te,"data-testid":void 0,children:je(e?"Close":"Add")})}),e&&Tn(Dx,{Kf:()=>{t(!1)}}),Tn("div",{children:n.triggers.map(((e,t)=>Tn(Ux,{Yf:e},t)))})]})})},Ux=({Yf:e})=>{const t=Sd((t=>t.kl.Bi===Fe.ce&&t.kl.Md===e.name?t.kl.Rd:null)),n=Fi((t=>{if(t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLInputElement)return;const n=window.getSelection();n&&0!==n.rangeCount&&n.isCollapsed&&iu(t,Tn(Bx,{Yf:e}))}),[e]),r=Di((()=>fe("CreateTriggerStatement",e.sql)),[e.sql]);return Tn("div",{class:"relative trigger hover:bg-neutral-400 hover:bg-opacity-[0.12] cursor-pointer",onClick:n,onContextMenu:n,children:[Tn("pre",{class:"px-2 select-text overflow-x-auto",children:null===r?Tn(hm,{w$:"span",Ue:e.sql}):Tn(Zt,{children:[Tn(hm,{w$:"span",Ue:be(r)}),null!==t?Tn(um,{$n:is.$n,Gt:t,Ro:e=>{yd.Gl(Fe.ce,{Rd:e.currentTarget.value})},ja:!0}):Tn(G$,{baseClass:"span",content:je("Click to rename"),onClick:t=>{t.stopImmediatePropagation(),pg[Fe.ce].ya(e.name)},children:Tn(hm,{w$:"span",Ee:"select-text inline underline decoration-dotted hover:decoration-solid cursor-pointer",Ue:r.triggerName.text})}),Tn(hm,{w$:"span",Ue:we(r)})]})}),Tn(J$,{Oo:!0,Eo:je("Drop Trigger"),Ee:"hidden trigger-close-button",Ce:async t=>{t.stopImmediatePropagation(),await pg[Fe.oe].ya(e.name),Mg().catch($a)}})]})},Bx=e=>{const t=Sd((e=>e.cl===ud.Gi));return Tn(Zt,{children:[Tn(au,{St:Tn(Hn,{}),Nt:je("Trigger")}),t&&Tn(cu,{St:Mr,Nt:je("Rename"),Ce:()=>{pg[Fe.ce].ya(e.Yf.name)}}),t&&Tn(cu,{St:Ur.Et,Nt:je("Drop"),Ce:async()=>{await pg[Fe.oe].ya(e.Yf.name),Mg().catch($a)}}),Tn("hr",{}),Tn(cu,{St:Ur.Be,Nt:je("Copy Trigger Name"),Ce:()=>{ga(e.Yf.name).catch($a)}}),Tn(cu,{St:Ur.Be,Nt:je("Copy Trigger Schema"),Ce:()=>{ga(e.Yf.sql).catch($a)}})]})},zx=new ys("stmt.renameTrigger",(()=>kd().kl.Bi===Fe.ce),Id),Px=Ss("focus.input.triggerName",(e=>e.id===is.$n));Ds.Te(Os.wn,"Enter",(async()=>{await Ig()}),[zx,Px],!0);const Hx=()=>{const e=Sd((e=>e.vl.Li)),t=Sd((e=>e.isSchemaPaneOpen));return"no table selected"===e.type||"custom query"===e.type?Tn(Zt,{}):Tn(Q$,{Ee:"rounded-l-sm",xo:e=>iu(e,Tn(Ax,{})),St:t?Ur.Fe:Ur.ht,Eo:je(t?"Hide Table Schema and Indexes":"Show Table Schema and Indexes"),Co:t,Ce:()=>yd.ia(!kd().isSchemaPaneOpen),"data-testid":void 0,children:je("Schema")})},Vx=()=>{const e=Sd((e=>e.isSchemaPaneOpen));return e?Tn("div",{children:[" ",Tn("div",{class:"relative bg-card-bg border-b border-t my-1 pt-[0.35rem] pb-2 max-h-[40vh] overflow-y-auto",children:[Tn(px,{}),Tn(Lx,{}),Tn(pm,{}),Tn(Fx,{}),Tn(J$,{Ee:"px-[0.4em]",Ce:()=>{yd.ia(!1)}})]})]}):Tn(Zt,{})};ma("af3d9c3e-13e4-4a3b-afc2-1d14499b6cb8",5,(()=>{yd.ia(!kd().isSchemaPaneOpen)}));const jx=getComputedStyle(document.body).getPropertyValue("--vscode-font-family"),Gx=Ol(0,{visible:!0},{zt:"g:23514221-0d60-4e30-9d98-746a9ac94497",Bt:ka(),Ft:["visible"]});var qx=(e=>(e[e.Hover=0]="Hover",e[e.Maximized=1]="Maximized",e))(qx||{});const Wx=Nl(0,{Jf:{0:0,1:0},Xf:{0:0,1:0},Zf:{0:1,1:1},eh:{0:null,1:null},th:!1,ds:()=>{},nh:null,rh:null,oh:!1,ih:new Map}),Qx=e=>0===e?1:1.5,Kx=(e,t,n,r,o)=>(new DOMMatrix).scale(devicePixelRatio,devicePixelRatio).translate(e.width/2,e.height/2).scale(r,r).translate(-e.width/2,-e.height/2).scale(Qx(o),Qx(o)).translate(t,n),Yx=e=>{const t=`8px ${jx.trim()||"sans-serif"}`;e.font=t,e.textAlign="left",e.textBaseline="middle",e.font.startsWith("8px")||console.warn(`Invalid font: ${JSON.stringify(t)}`)},Jx=(e,t,n,r)=>{r?(e.strokeStyle=e.fillStyle=n?ad.sky[600]:ad.sky[800],e.lineWidth=2):(e.strokeStyle=e.fillStyle=n?ad.neutral[100]:ad.neutral[600],e.lineWidth=1);for(const o of t.sections??[]){let t=o.bendPoints??[],n=o.startPoint,r=o.endPoint;t=[...t].reverse(),[n,r]=[r,n];const i=t.at(-1)??n,l=r,a=Math.atan2(l.y-i.y,l.x-i.x);e.beginPath(),e.moveTo(n.x,n.y);for(const o of t)e.lineTo(o.x,o.y);e.lineTo(r.x+3*Math.cos(a+Math.PI),r.y+3*Math.sin(a+Math.PI)),e.stroke(),e.beginPath(),e.moveTo(l.x,l.y),e.lineTo(l.x+6*Math.cos(a+.83*Math.PI),l.y+6*Math.sin(a+.83*Math.PI)),e.lineTo(l.x+6*Math.cos(a-.83*Math.PI),l.y+6*Math.sin(a-.83*Math.PI)),e.closePath(),e.fill(),e.beginPath()}for(const o of t.labels??[])void 0!==o.text&&""!==o.text&&e.fillText(o.text,o.x+0,o.y+o.height/2)},Xx=new Map,Zx=(e,t)=>{if(Xx.has(t))return Xx.get(t);const n=e.measureText(t),r={Ks:n.width,Hu:n.fontBoundingBoxAscent+n.fontBoundingBoxDescent};return Xx.set(t,r),r},eE=(e,t,n,r,o)=>{e.fillStyle=r?n?o?ad.neutral[500]:ad.neutral[800]:o?ad.neutral[500]:ad.neutral[600]:n?o?ad.sky[500]:ad.sky[600]:o?ad.sky[500]:ad.sky[800],e.beginPath(),e.roundRect(t.x,t.y,t.width,t.height,2),e.fill(),r&&!n&&o&&(e.lineWidth=1,e.strokeStyle=ad.sky[500],e.stroke()),e.fillStyle="#eee",e.beginPath();let i=t.y+1;{const n=Zx(e,t.id).Hu;e.fillText(t.id,t.x+12,i+n/2),i+=n}e.fillStyle="#eeec";for(const l of t.commentLines??[]){const n=Zx(e,l).Hu;e.fillText(l,t.x+12,i+n/2),i+=n}},tE=e=>{const[t,n]=Ri(null),r=Sd((e=>e.Dl)),[o,i]=Ri(window.devicePixelRatio),l=Sd((e=>e.ul)),a=Wx((e=>e.oh)),s=Sd((e=>e.Ul));ta((()=>{i(window.devicePixelRatio)}),1e3);{const n=Sd((e=>e.hl)),r=Sd((e=>e.bl),((e,t)=>e.size===t.size&&[...e].every((e=>t.has(e))))),o=Sd((e=>e.Ol["erDiagram.displayReferencingColumns"]));Oi((()=>{if(!t)return;const i=Wx.Pt().eh[e.Kl];if(i&&i.bl===r&&i.hl===n&&i.ah===o)return;const l=t.getContext("2d");if(!l)return;Yx(l);const a=[];for(const e of r){let{Ks:t,Hu:n}=Zx(l,e);const r=s.Bl?fx(s.Gt,e):null;if(null!==r){const e=Zx(l,r);t=Math.max(t,e.Ks),n+=e.Hu}a.push({id:e,width:t+24,height:n+2,commentLines:null===r?[]:[r]})}const c=[];{const e=new Set,t=(t,n)=>{const r=JSON.stringify([n.Vl,n.jl]);e.has(r)||(e.add(r),c.push({id:`e${t}`,sources:[n.Vl],targets:[n.jl]}))};if(o)for(const[r,o]of n.entries())if(null!==o.P){const e=Zx(l,o.P);c.push({id:`e${r}`,sources:[o.Vl],targets:[o.jl],labels:[{id:`l${r}`,width:e.Ks+0,height:e.Hu+0,text:o.P}]})}else t(r,o);else for(const[r,o]of n.entries())t(r,o)}const $=ze((()=>import("./elk.bundled-DMETb7nP.js").then((e=>e.e))),[],import.meta.url);Wx.Dt({eh:H(Wx.Pt().eh,(t=>{t[e.Kl]={$h:new kh($.then((e=>(Wx.Dt({th:!0}),(new e.default).layout({id:"root",children:a,edges:c,layoutOptions:{"elk.algorithm":"layered"}}))))),bl:r,hl:[...n],ah:o}}))})}),[r,n,o,t,e.Kl,s])}{const{ga:n,uh:i,Ks:a,Hu:s}=e,c=Wx((t=>t.eh[e.Kl]?.$h));Oi((()=>{if(Wx.Dt({ds:()=>{},nh:null}),!c)return;if(!t)return;const o=t.getContext("2d");if(!o)return;const a=a=>{Wx.Dt({ds:()=>{const{Jf:s,Xf:c,Zf:$,nh:u}=Wx.Pt(),d=new Set(l.filter((e=>"main"===e.database.toLowerCase()&&"view"===e.type)).map((e=>e.name.toLowerCase()))),f=n,h=a.children?.find((e=>u&&e.x<=u.Jf&&u.Jf<e.x+e.width&&e.y<=u.Xf&&u.Xf<e.y+e.height))??null;if(o.resetTransform(),o.clearRect(0,0,t.width,t.height),o.setTransform(Kx(t,s[e.Kl],c[e.Kl],$[e.Kl],e.Kl)),((e,t,n,r,o)=>{e.lineJoin="round",Yx(e);const i=new Set;for(const l of n.edges??[])r.has(l.sources[0])||r.has(l.targets[0])?i.add(l):Jx(e,l,o,!1);for(const l of i)Jx(e,l,o,!0);for(const l of n.children??[])eE(e,l,o,t.has(l.id.toLowerCase()),r.has(l.id))})(o,d,a,0===e.Kl?new Set([f]):new Set([f,h?.id??null]),r),null===h)t.style.cursor="default",Wx.Dt({rh:null});else{t.style.cursor="pointer";const e={$n:h.id,dh:h.x,fh:h.y};wx(Wx.Pt().rh,e)||Wx.Dt({rh:e}),i?.(h.id)}}}),Wx.Pt().ds()},s=c.Pt();if(!s.ys){let e=!1;return s.Gt.then((t=>{e||a(t)})).catch($a),()=>{e=!0}}a(s.Gt)}),[c,r,t,o,l,n,i,e.Kl,a,s])}const c=Wx((t=>0===t.Jf[e.Kl]&&0===t.Xf[e.Kl]&&1===t.Zf[e.Kl]));return Tn("div",{class:Dt("relative",e.Ee),onWheel:t=>{t.preventDefault();const{Zf:n}=Wx.Pt();t.deltaY>0?Wx.Dt({Zf:H(n,(t=>{t[e.Kl]=n[e.Kl]/1.1}))}):t.deltaY<0&&Wx.Dt({Zf:H(n,(t=>{t[e.Kl]=1.1*n[e.Kl]}))}),Wx.Pt().ds()},children:[null!==t&&Tn(oE,{hh:t,Kl:e.Kl}),Tn("canvas",{ref:n,class:"[image-rendering:pixelated]",width:Math.ceil(e.Ks*o),height:Math.ceil(e.Hu*o),style:{width:e.Ks,height:e.Hu},onMouseDown:t=>{if(ms?t.metaKey:t.ctrlKey)return void rE();if(2===t.button)return;const n=t.currentTarget.getBoundingClientRect(),r=n.width/e.Ks,o=n.height/e.Hu;let i=t.clientX,l=t.clientY,a=!1;Pu((t=>{a=!0;const{Jf:n,Xf:s,Zf:c,ds:$}=Wx.Pt();Wx.Dt({Jf:H(n,(o=>{o[e.Kl]=n[e.Kl]+(t.clientX-i)*r/c[e.Kl]/Qx(e.Kl)})),Xf:H(s,(n=>{n[e.Kl]=s[e.Kl]+(t.clientY-l)*o/c[e.Kl]/Qx(e.Kl)}))}),i=t.clientX,l=t.clientY,$()}),(()=>{if(!a){const{rh:n}=Wx.Pt();null!==n&&e.ph?.(n.$n,1===t.button)}}))},onContextMenu:t=>{const{rh:n}=Wx.Pt();iu(t,null!==n?Tn(nE,{ga:n.$n,Wf:e.Wf,rh:Wx.Pt().rh}):Tn(aE,{}))},onMouseMove:n=>{const r=n.currentTarget.getBoundingClientRect(),{Jf:o,Xf:i,Zf:l}=Wx.Pt();if(!t)return;const{e:a,f:s}=Kx(t,o[e.Kl],i[e.Kl],l[e.Kl],e.Kl).inverse().translate((n.clientX-r.left)/r.width*n.currentTarget.width,(n.clientY-r.top)/r.height*n.currentTarget.height);Wx.Dt({nh:{Jf:a,Xf:s}}),Wx.Pt().ds()},onMouseLeave:()=>{Wx.Dt({nh:null}),Wx.Pt().ds()}}),Tn("div",{class:"absolute z-[--z-button] left-1 bottom-1 flex whitespace-nowrap",children:!c&&Tn(q$,{Ee:"mr-4",Ce:()=>{Wx.Dt(H(Wx.Pt(),(t=>{t.Jf[e.Kl]=0,t.Xf[e.Kl]=0,t.Zf[e.Kl]=1}))),Wx.Pt().ds()},yo:!0,children:[Tn(Br,{St:Ur.$t,Ee:"mr-1"}),je("Reset position")]})}),!1,Tn(sE,{}),!a&&Tn(G$,{baseClass:"div",content:je("Maximize"),class:"absolute z-[--z-button] right-8 bg-neutral-50 bg-opacity-80 hover:bg-slate-400 hover:bg-opacity-30 rounded-sm pl-1 cursor-pointer top-1 py-[0.15rem]",onClick:()=>{gx.Pt().Fe(),Wx.Dt({oh:!a})},children:Tn(wr,{})}),Tn(J$,{Ee:"z-[--z-button] bg-neutral-50 bg-opacity-80",Ce:e.Wf,po:!0})]})},nE=e=>Tn(xx,{Bf:!1,ga:e.ga,Wf:e.Wf,children:null!==e.rh&&Tn(cu,{St:Tn(Pn,{Ee:"rotate-90"}),Nt:je("Display Columns"),Vo:ws("CtrlCmd + Click"),Ce:()=>{rE(e.rh)}})}),rE=(e=Wx.Pt().rh)=>{const{ih:t}=Wx.Pt();if(null===e)return;const n=new Map(t);n.has(e.$n)?n.delete(e.$n):n.set(e.$n,{$n:e.$n,dh:e.dh,fh:e.fh-5,cu:0}),Wx.Dt({ih:n})},oE=e=>{const t=Wx((e=>e.ih)),n=new Map(t);return Tn(Zt,{children:[...n.keys()].sort(((e,t)=>e.localeCompare(t))).map((t=>Tn(iE,{hh:e.hh,Kl:e.Kl,N:n.get(t).$n,dh:n.get(t).dh,fh:n.get(t).fh,cu:n.get(t).cu},t)))})},iE=e=>{const t=Wx((e=>e.Zf)),n=Wx((e=>e.Jf)),r=Wx((e=>e.Xf)),o=Wx((e=>e.Zf)),[i,l]=Ri(null);Li((()=>{Promise.all([va("table_schema",["main",e.N],Oe,{rn:!1}),pa(`SELECT * FROM ${ye(e.N)} LIMIT 1 OFFSET ?`,[e.cu],"read_only",Oe,{rn:!1})]).then((([t,n])=>{l(null!==t?{qe:null,N:e.N,Li:t,Eu:n.records}:{N:e.N,qe:"Failed to fetch table schema."})}),(t=>{l({N:e.N,qe:ee(t)})}))}),[e.N,e.cu]);const a=Kx(e.hh,n[e.Kl],r[e.Kl],o[e.Kl],e.Kl),{e:s,f:c}=a.translate(e.dh,e.fh);let $;return $=null===i||i.N!==e.N?Tn("pre",{class:"text-neutral-500 px-[1em] py-[0.2em]",children:je("Loading...")}):null!==i.qe?Tn("pre",{class:"text-red-700 px-[1em] py-[0.2em]",children:i.qe+""}):Tn(lE,{Eu:i.Eu,Li:i.Li}),Tn("div",{class:"absolute z-[--z-erd-hover] whitespace-nowrap",style:{left:s,top:c,fontSize:10*t[e.Kl]},onMouseDown:t=>{const n=a.inverse(),r=(e,t)=>{const{e:r,f:o}=n.translate(e,t);return[r,o]};let o=r(t.clientX,t.clientY);Pu((t=>{const n=r(t.clientX,t.clientY);Wx.Dt({ih:H(Wx.Pt().ih,(t=>{const r=t.get(e.N);r&&(r.dh+=n[0]-o[0],r.fh+=n[1]-o[1])}))}),o=n}))},children:Tn("div",{class:"absolute left-0 bottom-0 text-neutral-800 rounded-[0.35em] border-[0.1em] border-neutral-300 bg-table-bg",children:[Tn("div",{class:"bg-neutral-100 border-b-[0.1em] border-neutral-300 text-center code-font",children:e.N}),Tn("div",{class:"absolute right-0 top-0 px-[0.3em] rounded-sm hover:bg-neutral-200 cursor-pointer",onClick:()=>{const t=new Map(Wx.Pt().ih);t.delete(e.N),Wx.Dt({ih:t})},children:Tn(Br,{St:Ur.Fe})}),$]})})},lE=e=>{const t=Rd(),n=qr(e.Eu),r=Array.from(e.Li.columns.keys(),(t=>oh(e.Li,t)));return Tn("table",{class:"min-w-full w-max border-collapse table-fixed",children:Tn("tbody",{children:r.map(((e,r,o)=>{if(null===e)return Tn(Zt,{});let i;return i=void 0===n?0===r?Tn("td",{rowSpan:o.length,class:"opacity-60 italic px-[0.625em] align-middle",children:je("No rows")}):void 0:Tn("td",void 0===n[e.S]?{class:"px-[0.625em] whitespace-nowrap border-r border-[--td-border-color] border-b border-b-[--td-border-color] italic text-red-700",children:"error"}:{class:"px-[0.625em] whitespace-nowrap border-r border-[--td-border-color] border-b border-b-[--td-border-color]",style:{...t,maxWidth:"20em"},children:Tn("pre",{class:"whitespace-nowrap [font-size:inherit] block overflow-hidden text-ellipsis w-[inherit]",children:void 0===n[e.S]?Tn("span",{class:"text-red-700 italic",children:"error"}):Tn(sh.ss,{cs:"inline",Gt:Sa(n[e.S],null)})})}),Tn("tr",{children:[Tn("td",{class:"px-[0.625em] whitespace-nowrap border-r border-[--td-border-color] border-b border-b-[--td-border-color] bg-[--neutral-100]",children:[e.S+" ",Tn("span",{class:"italic opacity-70",children:[e.Za.join(" "),e.es.map(((e,t,n)=>e.Ja?Tn(Zt,{children:[" ","UNIQUE",n.length<=1?"":Tn("span",{class:"[font-size:75%] align-top",children:t+1})]}):Tn(Zt,{}))),e.ts.map(((e,t,n)=>e.Ja?Tn(Zt,{children:[" ","PRIMARY KEY",n.length<=1?"":Tn("span",{class:"[font-size:75%] align-top",children:t+1})]}):Tn(Zt,{})))]})]}),i]},r)}))})})},aE=()=>Tn(Zt,{}),sE=()=>{const e=Wx((e=>e.th));return Tn(e?Zt:nx,{})},cE=()=>{const e=Sd((e=>e.vl.Li.name)),t=ra(),n=Wx((e=>e.oh));return n?Tn(tE,{Ee:"absolute z-[--z-maximized-er-diagram] left-0 top-0 w-full h-full bg-neutral-50",Ks:t.width,Hu:t.height,ga:e,ph:(e,t)=>{t?xa(e).catch($a):yd.Wl.xi({type:"table-like",name:e}).catch($a),Wx.Dt({oh:!1})},Wf:()=>{Wx.Dt({oh:!1})},Kl:1}):Tn(Zt,{})},$E=new ys("dom.maximizedERD",(()=>Wx.Pt().oh),Wx.Ht);Ds.Te(Os.Ur,"Escape",(()=>{Wx.Dt({oh:!1})}),[$E],!0,As.Ur);const uE=e=>{const[t,n]=Ri(null),r=Sd((e=>e.Ol["tableSelector.displayColumns"])),o=Sd((e=>e.ul)),i=Sd((e=>e.bl)),l=Sd((e=>e.Ul)),a=Gx((e=>e.visible)),s=gx((e=>null!==e.Hf&&e.Hf.size>0));return Oi((()=>{if(!t)return;t.innerHTML="",t.className="[&>div]:pl-10 [&>div]:pr-8 [&>div]:whitespace-nowrap [&>div]:overflow-hidden [&>div]:overflow-ellipsis",a&&t.classList.add("max-w-[calc(max(50vw,100vw-300px))]");const n=r?new Map(o.map((e=>[e.name,e.column_names]))):new Map,c=new Map,$=new Map;{const{Pf:o}=gx.Pt();for(const u of e.Rc){const d=document.createElement("div");c.set(u,d),d.className="table-selector-item",o?.Gt===u&&(d.className+=" bg-primary-hover-2",d.scrollIntoView({block:"nearest"}));const f=t=>{2!==t.button&&(t.preventDefault(),t.stopPropagation(),"custom query"!==e.Zo&&gx.Pt().qf(u))},h={Bf:"custom query"===e.Zo,Gt:u};if(d.addEventListener("mouseenter",(()=>{gx.Pt().jf(h,!0)})),d.addEventListener("mousedown",(t=>{2!==t.button&&(t.stopImmediatePropagation(),t.preventDefault(),t.altKey||t.shiftKey?f(t):1===t.button?"custom query"!==e.Zo&&(gx.Pt().Fe(),xa(u).catch($a)):(gx.Pt().Fe(),vx(h)))})),d.addEventListener("contextmenu",(t=>{iu(t,Tn(dE,{Bf:"custom query"===e.Zo,ga:u,Wf:()=>{gx.Pt().Fe()}}))})),s){const t=fE("custom query"===e.Zo);t.addEventListener("mousedown",f),d.append(t),$.set(u,t.Le),gx.Pt().Hf?.has(u)||t.Le.classList.add("hidden")}if("custom query"===e.Zo?d.append(oe(u,{$:40,C:e=>e})):d.append(u),r){const e=n.get(u);if(e&&e.length>0){const t=document.createElement("span");t.className="opacity-70 ml-[0.125rem]",t.innerText=`(${oe(e.map((e=>ye(e,!1))).join(", "),{$:40,C:e=>e})})`,d.append(t)}}const p=document.createElement("span");i.has(u)&&(p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevrons-right" width="0.8rem" height="0.8rem" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" fill="none" stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 7l5 5l-5 5" />\n    <path d="M13 7l5 5l-5 5" />\n</svg>',a?p.className="absolute top-0 right-0 px-[0.2rem] pt-[0.17rem] h-full":(p.className="absolute top-0 right-0 px-[0.2rem] pt-[0.17rem] h-full bg-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.3)] cursor-pointer",p.title=je("ER Diagram")),p.addEventListener("mousedown",(e=>{e.stopImmediatePropagation(),Gx.Dt({visible:!a})})),d.append(p));const m=l.Bl?fx(l.Gt,u):null;if(null!==m){const e=document.createElement("div");e.innerText=m,e.className="text-[#eeea] mt-[-4px] pb-[2px]",d.append(e)}t.append(d)}}return gx.Ht(((e,t)=>{if(t.Pf!==e.Pf&&(null!==t.Pf&&c.get(t.Pf.Gt)?.classList.remove("bg-primary-hover-2"),null!==e.Pf)){const t=c.get(e.Pf.Gt);t?.classList.add("bg-primary-hover-2"),t?.scrollIntoView({block:"nearest"})}if(e.Hf!==t.Hf){for(const e of t.Hf??[])$.get(e)?.classList.add("hidden");for(const t of e.Hf??[])$.get(t)?.classList.remove("hidden")}}))}),[e.Rc,e.Zo,o,r,i,a,t,s,l]),Di((()=>Tn("div",{children:[Tn("div",{class:"pl-5 pr-8 pt-[0.1rem]",children:"custom query"===e.Zo?"query":e.Zo}),Tn("div",{ref:n})]})),[e.Zo])},dE=e=>{const t=gx((e=>null!==e.Hf&&e.Hf.size>0));return t?Tn(Zt,{children:[Tn(cu,{St:Ur.Et,Nt:je("Drop"),Ce:()=>{const{Hf:e}=gx.Pt();null!==e&&pg[Fe.re].ya(e).catch($a)}}),Tn(cu,{St:Ur.Be,Nt:je("Copy Table Names"),Ce:()=>{const{Hf:e}=gx.Pt();null!==e&&ga([...e.values()].join("\n")).catch($a)}})]}):Tn(xx,{Bf:e.Bf,ga:e.ga,Wf:e.Wf,children:!e.Bf&&Tn(cu,{Ce:()=>{gx.Pt().qf(e.ga)},St:Tn(Yn,{}),Nt:je("Multiselect"),Vo:ws("Alt + Click")})})},fE=e=>{const t=document.createElement("div");t.className="absolute left-[10px] top-[3px] w-3 h-3 border border-always-white rounded-sm cursor-pointer"+(e?" opacity-0":"");const n=document.createElement("div");n.className="absolute left-[0.5px] top-[0.5px]",n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="0.8em" height="0.8em" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="m14.431 3.323l-8.47 10l-.79-.036l-3.35-4.77l.818-.574l2.978 4.24l8.051-9.506z" clip-rule="evenodd" stroke-width="2.5" stroke="currentColor" /></svg>',t.append(n);const r=document.createElement("div");return r.className="absolute left-0 top-0 w-full h-full cursor-pointer",r.append(t),Object.assign(r,{Le:n})},hE=e=>Tn("div",{class:Dt("er-diagram bg-neutral-50 text-neutral-900 rounded [box-shadow:0_0_4px_rgba(0,0,0,0.4)] ml-4 h-fit overflow-hidden flex-1",e.Ci?"pointer-events-auto":"invisible pointer-events-none"),children:Tn(pE,{})}),pE=()=>{const e=gx((e=>e.Pf)),t=Gx((e=>e.visible)),n=Sd((e=>e.bl)),r=mE(),o=Math.max(280,Math.floor(.3*r.Ks)),i=Math.max(280,Math.floor(.3*r.Hu));return null===e?Tn(Zt,{}):e.Bf?Tn("div",{class:"py-1 px-3 overflow-auto",style:{maxWidth:o,maxHeight:i},children:["query:",Tn(hm,{w$:"pre",Ee:"select-text",Ue:e.Gt})]}):t&&n.has(e.Gt)?Tn(tE,{Ks:o,Hu:i,ga:e.Gt,uh:e=>{gx.Pt().jf({Bf:!1,Gt:e},!1)},ph:(e,t)=>{t?xa(e).catch($a):yd.Wl.xi({type:"table-like",name:e}).catch($a),gx.Pt().Fe()},Wf:()=>{Gx.Dt({visible:!1})},Kl:qx.Hover}):Tn(Zt,{})},mE=()=>{const[e,t]=Ri((()=>({Ks:document.documentElement.clientWidth,Hu:document.documentElement.clientHeight})));return ea("resize",(()=>{t({Ks:document.documentElement.clientWidth,Hu:document.documentElement.clientHeight})})),e},bE=()=>{const[e,t]=Ri(null),[n,r]=Ri(null),o=gx((e=>e.zf)),i=gx((e=>null!==e.Hf&&e.Hf.size>0)),l=yx(Sd((e=>e.wl)),Sd((e=>kd.Wl(e).customQuery)),Sd((e=>e.Ol["tableSelector.displayShadowTables"])));return Oi((()=>{if(!e||!n)return;const t=()=>{e.style.display="none";const t=ss.Pt();if(!t)return;const r=t.getBoundingClientRect();let o;o=r.bottom+1,window.innerHeight-o<300&&(o=25);let i=r.left;e.style.left=i+"px",e.style.top=o+"px",e.style.maxWidth=Math.max(0,window.innerWidth-25)+"px",e.style.display="flex",n.style.maxHeight=Math.max(0,.7*window.innerHeight-o-25)+"px";const{right:l}=e.getBoundingClientRect();l>=window.innerWidth&&(i=Math.max(0,i-(l-window.innerWidth+25)),e.style.left=i+"px")};t();const r=gx.Ht(((e,n)=>{e.zf!==n.zf&&t()})),o=document.querySelector(".er-diagram");return o?.addEventListener("mouseenter",t),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),o?.removeEventListener("mouseenter",t),r()}}),[e,n]),ea("blur",(()=>{if(ru())return;const{Hf:e}=gx.Pt();null!==e&&e.size>0||gx.Pt().Fe()})),ea("mousedown",(e=>{e.target instanceof Element&&e.target.matches(`.table-selector,.table-selector *, #${ss.$n}, #${ss.$n} *, .contextmenu, .contextmenu *, .er-diagram, .er-diagram *`)||gx.Pt().Fe()}),void 0,{capture:!0}),Tn("div",{class:"absolute pointer-events-none select-none z-[--z-table-selector-menu] code-font",ref:t,children:[Tn("div",{class:Dt(`table-selector bg-primary [body:has(#${ss.$n}:hover)_&]:bg-primary-hover hover:bg-primary-hover text-fg-primary rounded [box-shadow:0_0_30px_rgba(0,0,0,0.4)] relative overflow-y-auto h-fit max-w-[70vw]`,o?"pointer-events-auto":"invisible pointer-events-none"),ref:r,children:[l.map((([e,t])=>Tn(uE,{Zo:e,Rc:t}))),Tn("div",{class:"h-1"}),i&&Tn("div",{class:"px-4 flex py-1 border-t border-t-always-white border-opacity-60 sticky bottom-0 left-0 z-30 bg-[inherit]",children:[Tn("span",{class:"mt-auto mb-auto mr-3",children:Tn(vE,{})}),Tn("div",{class:"[font-size:140%] flex gap-1",children:[Tn(W$,{St:Ur.Et,Eo:je("Drop"),Ee:"hover:bg-always-white hover:bg-opacity-30",Ce:()=>{const{Hf:e}=gx.Pt();null!==e&&pg[Fe.re].ya(e).catch($a)}}),Tn(W$,{St:Ur.Be,Eo:je("Copy Table Names"),Ee:"hover:bg-always-white hover:bg-opacity-30",Ce:()=>{const{Hf:e}=gx.Pt();null!==e&&ga([...e.values()].join("\n")).catch($a)}})]})]}),Tn("div",{class:"absolute right-2 top-[0.15rem] pointer-outline px-[0.2rem] rounded [font-size:90%]",onClick:e=>{iu(e,Tn(wE,{}))},children:Tn(Br,{St:Ur.Ge})})]}),Tn(hE,{Ci:o})]})},wE=()=>{const e=Sd((e=>e.Ol["tableSelector.displayColumns"])),t=Sd((e=>e.Ol["tableSelector.displayShadowTables"])),n=Gx((e=>e.visible));return Tn(Zt,{children:[Tn(cu,{St:Tn(Jn,{}),Nt:je("Display Columns"),Co:e,Ce:t=>{t.stopPropagation(),wa[17]("tableSelector.displayColumns",!e,"Global").catch($a)}}),Tn(cu,{St:Tn(_r,{}),Nt:je("Display Shadow Tables"),Co:t,Ce:e=>{e.stopPropagation(),wa[17]("tableSelector.displayShadowTables",!t,"Global").catch($a)}}),Tn(cu,{St:Tn(Wn,{}),Nt:je("ER Diagram"),Co:n,Ce:e=>{e.stopPropagation(),Gx.Dt({visible:!n})}})]})},vE=()=>{const e=gx((e=>null!==e.Hf?e.Hf.size:0));return Tn(Zt,{children:je("{{- num }} Objects Selected",{num:e})})},gE=e=>"table-like"===e.Kl?e.S:e.Yl,yE=(e,t)=>"custom query"===e.Kl?"custom query"===t.type&&t.customQuery===e.Yl:"custom query"!==t.type&&"no table selected"!==t.type&&t.name===e.S,xE=e=>{const t=async()=>{"table-like"===e.mh.Kl?await ga(e.mh.S):await ga(e.mh.Yl)};return Tn(Zt,{children:"table-like"===e.mh.Kl?Tn(cu,{St:Ur.Be,Nt:je("Copy Table Name"),Ce:()=>{t().catch($a)}}):Tn(cu,{St:Ur.Be,Nt:je("Copy Query"),Ce:()=>{t().catch($a)}})})},EE=e=>Tn(Zt,{children:[Tn(cu,{St:Tn(Xn,{}),Nt:je("Keep Open"),Ce:()=>{yd.ea()}}),Tn("hr",{}),Tn(xE,{mh:e.mh})]}),CE=e=>{const t=Sd((t=>t.Nl[e.Xa])),n=Sd((e=>e.vl.Li));if(!t)return Tn(Zt,{});const r=yE(t,n);return Tn("div",{class:Dt("pl-4 pt-[0.15rem] pb-[0.1rem] whitespace-nowrap max-w-[150px] overflow-x-hidden text-ellipsis relative cursor-pointer border-b pr-6 code-font",r?"bg-tab-active":"bg-tab-inactive [box-shadow:0_-1px_0px_rgb(0,0,0,0.2)_inset] hover:bg-tab-inactive-hover"),onClick:()=>yd.Wl.Ql(e.Xa).catch($a),onContextMenu:e=>{iu(e,Tn(xE,{mh:t}))},children:[gE(t),Tn(_E,{Ce:async t=>{if(t.preventDefault(),t.stopImmediatePropagation(),yd.na(e.Xa),r){const{Nl:t}=kd();e.Xa<t.length?await yd.Wl.Ql(e.Xa):0<=e.Xa-1&&e.Xa-1<t.length&&await yd.Wl.Ql(e.Xa-1)}}})]})},TE=()=>{const e=Sd((e=>e.Nl)),t=Sd((e=>e.Ol.alwaysDisplayTabs));if(!t&&0===e.length)return Tn(Zt,{});const n=Sd((e=>{if(e.Nl.some((t=>yE(t,e.vl.Li))))return null;const{Li:t}=e.vl;switch(t.type){case"no table selected":return null;case"custom query":return{Kl:"custom query",Yl:t.customQuery};default:return{Kl:"table-like",S:t.name}}}),Ml),r=e.length>=1;return Tn("div",{class:"flex bg-tab-container [font-size:90%] w-full pt-[2px] overflow-x-auto hide-scrollbar code-font",children:[e.map(((e,t)=>Tn(CE,{Xa:t},gE(e)))),null!==n&&Tn("div",{class:Dt("pl-4 pt-[0.15rem] pb-[0.1rem] whitespace-nowrap max-w-[150px] overflow-x-hidden text-ellipsis relative cursor-pointer border-b bg-tab-active italic",r?"pr-6":"pr-4"),onDblClick:()=>{yd.ea()},onContextMenu:e=>{iu(e,Tn(EE,{mh:n}))},children:["custom query"===n.Kl?n.Yl:n.S,r&&Tn(_E,{Ce:async t=>{t.preventDefault(),t.stopImmediatePropagation(),await yd.Wl.Ql(e.length-1)}})]})]})},_E=e=>Tn(G$,{baseClass:"div",content:je("Close Tab"),offset:[0,0],class:"absolute [&>.codicon-wrapper]:hover:bg-slate-400 [&>.codicon-wrapper]:hover:bg-opacity-30 rounded-sm cursor-pointer right-0 top-[-0.5px] [font-size:80%] h-full px-[0.35rem] py-[5px]",onClick:e.Ce,children:Tn("div",{class:"px-[2px] rounded-sm codicon-wrapper",children:Tn(Br,{St:Ur.De})})}),kE=Nl(0,{bh:window.editorVariables[3]}),SE=e=>{const t=Ai(null),[n,r]=Ri(!1),o=Fi((()=>{if(!t.current)return;const n=document.getElementById(e.wh);if(!n)return void(t.current.style.display="none");t.current.style.display="block";const r=n.getBoundingClientRect(),o=t.current.getBoundingClientRect();t.current.style.left=r.left+r.width/2-o.width/2+"px",t.current.style.top=r.bottom+"px"}),[e.wh]);return Oi((()=>{o()}),[o]),ta((()=>{o()}),500),n?Tn(Zt,{}):Tn("div",{ref:t,class:"hidden absolute z-[--z-tutorial-bubble] cursor-pointer hover:opacity-50 [font-size:90%]",onClick:()=>{r(!0)},title:je("Close"),children:[Tn("div",{class:"bg-neutral-500 mx-auto w-3 h-3 opacity-80 backdrop-blur [clip-path:polygon(50%_2%,0%_100%,100%_100%)]"}),Tn("div",{class:"opacity-90 backdrop-blur rounded border-b border-t border-r border-l border-neutral-500",children:[void 0!==e.gh&&Tn("img",{src:e.gh,class:"block w-44",draggable:!1}),Tn("div",{class:Dt("[background:#333] [color:#ddd] text-center font-normal",void 0===e.gh&&"px-4 py-[0.1rem]"),children:e.yh})]})]})},IE=()=>{const e=kE((e=>e.bh));return Tn(Zt,{children:[e&&Tn(SE,{wh:ss.$n,yh:je("Select a Table")}),e&&Tn(SE,{wh:ja.$n,gh:window.editSchemaBalloonSrc,yh:je("Edit Table Schema")}),e&&Tn(SE,{wh:rs.$n,gh:window.queryEditorBalloonSrc,yh:je("Execute SQL Queries")}),e&&Tn(SE,{wh:ns.$n,gh:window.findWidgetBalloonSrc,yh:je("Filter Records")})]})},ME=()=>{const e=ca((e=>e.Kt)),t=ca((e=>e.Yt));if(Li((()=>{const e=e=>{ca.Pt().Zt(e.error??e.message)},t=e=>{ca.Pt().Zt(e.reason)};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",t),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}}),[]),0===e.size)return Tn(Zt,{});let n=Array.from(e.keys(),(e=>"object"==typeof e&&null!==e&&"stack"in e?e.stack:ee(e))).join("\n").replace(/http.*\/webview/g,"");return t.size>0&&[...t].some((e=>e))&&(n+="\nHelp: "+[...t].join(" ")),Tn("div",{class:"inline-block pr-6 relative whitespace-nowrap",children:[Tn(G$,{baseClass:"div",content:`<div class="whitespace-pre-wrap w-full">${ne(n)}</div>`,allowHTML:!0,class:"inline-block text-red-600",children:[Tn(Gn,{Ee:"[font-size:110%]",xe:"2"}),Tn("span",{class:"align-middle",children:[je("Runtime Error")," (",e.size,")"]})]}),Tn(W$,{St:Ur.Be,Ee:"text-red-600",Eo:je("Copy"),Ce:()=>{ga(n).catch($a)}}),Tn(J$,{Oo:!0,po:!0,Ee:"pt-[0.06rem] text-red-600",Ce:()=>{ca.Pt().en()}})]})},RE=e=>/^null\nError/.test(e)||e.includes("interrupted")||e.includes("The query did not make any changes. Maybe the data was already updated by a different process.")?{}:/^FOREIGN KEY constraint failed/.test(e)?{Qt:je('A foreign key constraint error has been detected. Please check that all foreign keys reference the correct column names and that the referenced columns are either primary keys or have unique constraints.\n\nIf the issue persists, you can temporarily disable foreign key constraints by executing `PRAGMA foreign_keys = OFF` in the query editor, or disable them permanently by adding `"sqlite3-editor.pragma_foreign_key": "OFF"` to your VSCode settings. Please use this option with caution, as it could lead to data inconsistencies in your database.')}:/^foreign key mismatch/.test(e)?{Qt:je('Foreign key constraints are now being enforced in this database connection. You can disable them temporarily by executing `PRAGMA foreign_keys = OFF` in the query editor, or disable them permanently by adding `"sqlite3-editor.pragma_foreign_key": "OFF"` to your VSCode settings. However, please be aware that disabling foreign key checks can introduce data inconsistencies in your database.')}:/^Cannot add a UNIQUE column|^Cannot add a PRIMARY KEY column|^error in table .* after drop column|^cannot drop UNIQUE column|^cannot drop PRIMARY KEY column|^table .* has more than one primary key/.test(e)?{Qt:je("The {{- statement }} statement cannot be used for that operation. Please use the 'Edit Table Schema' feature by navigating to Schema > Edit instead.",{statement:"ALTER TABLE"})}:/^index associated with UNIQUE or PRIMARY KEY constraint cannot be dropped/.test(e)?{Qt:je("The {{- statement }} statement cannot be used for that operation. Please use the 'Edit Table Schema' feature by navigating to Schema > Edit instead.",{statement:"DROP INDEX"})}:/^error in index .* after drop column/.test(e)?{Qt:je("Please first drop the indexes in the 'Schema' pane.")}:/^error in trigger .* after drop column/.test(e)||/^error in trigger .*: no such table:/.test(e)?{Qt:je("Please first drop the triggers in the 'Schema' pane.")}:/^Cannot add a NOT NULL column with default value NULL/.test(e)?{Qt:je('You need to specify a default value, e.g. "name TEXT NOT NULL DEFAULT \'text\'" or "name INTEGER NOT NULL DEFAULT 0".')}:/^PRIMARY KEY missing on table students/.test(e)&&e.includes("WITHOUT ROWID")?{Qt:je("WITHOUT ROWID requires a PRIMARY KEY column.")}:/^no such collation sequence/.test(e)||/^no such function/.test(e)||/^no such module/.test(e)?{Qt:je("Perhaps a SQLite run-time loadable extension is missing. Please refer to the 'Using Run-Time Loadable SQLite Extensions' section on the extension's download page.")}:e.includes("Cannot redefine property: googletag")?{Qt:"Do you have the 'Stands' browser extension installed? According to https://github.com/shadcn-ui/ui/issues/2837 it can raise this error."}:{};ca.Pt().tn(RE),function(){class e extends Map{constructor(e,t){super(),this[n]={type_:2,parent_:t,scope_:t?t.scope_:E(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:e,draft_:this,isManual_:!1,revoked_:!1}}get size(){return p(this[n]).size}has(e){return p(this[n]).has(e)}set(e,r){const o=this[n];return a(o),p(o).has(e)&&p(o).get(e)===r||(t(o),F(o),o.assigned_.set(e,!0),o.copy_.set(e,r),o.assigned_.set(e,!0)),this}delete(e){if(!this.has(e))return!1;const r=this[n];return a(r),t(r),F(r),r.base_.has(e)?r.assigned_.set(e,!1):r.assigned_.delete(e),r.copy_.delete(e),!0}clear(){const e=this[n];a(e),p(e).size&&(t(e),F(e),e.assigned_=new Map,c(e.base_,(t=>{e.assigned_.set(t,!1)})),e.copy_.clear())}forEach(e,t){p(this[n]).forEach(((n,r,o)=>{e.call(t,this.get(r),r,this)}))}get(e){const r=this[n];a(r);const o=p(r).get(e);if(r.finalized_||!l(o))return o;if(o!==r.base_.get(e))return o;const i=B(o,r);return t(r),r.copy_.set(e,i),i}keys(){return p(this[n]).keys()}values(){const e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}}entries(){const e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const n=this.get(t.value);return{done:!1,value:[t.value,n]}}}}[Symbol.iterator](){return this.entries()}}function t(e){e.copy_||(e.assigned_=new Map,e.copy_=new Map(e.base_))}class o extends Set{constructor(e,t){super(),this[n]={type_:3,parent_:t,scope_:t?t.scope_:E(),modified_:!1,finalized_:!1,copy_:void 0,base_:e,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return p(this[n]).size}has(e){const t=this[n];return a(t),t.copy_?!!t.copy_.has(e)||!(!t.drafts_.has(e)||!t.copy_.has(t.drafts_.get(e))):t.base_.has(e)}add(e){const t=this[n];return a(t),this.has(e)||(i(t),F(t),t.copy_.add(e)),this}delete(e){if(!this.has(e))return!1;const t=this[n];return a(t),i(t),F(t),t.copy_.delete(e)||!!t.drafts_.has(e)&&t.copy_.delete(t.drafts_.get(e))}clear(){const e=this[n];a(e),p(e).size&&(i(e),F(e),e.copy_.clear())}values(){const e=this[n];return a(e),i(e),e.copy_.values()}entries(){const e=this[n];return a(e),i(e),e.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(e,t){const n=this.values();let r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}}function i(e){e.copy_||(e.copy_=new Set,e.base_.forEach((t=>{if(l(t)){const n=B(t,e);e.drafts_.set(t,n),e.copy_.add(n)}else e.copy_.add(t)})))}function a(e){e.revoked_&&r(3,JSON.stringify(p(e)))}var s;s={proxyMap_:function(t,n){return new e(t,n)},proxySet_:function(e,t){return new o(e,t)}},y.MapSet||(y.MapSet=s)}(),Ds.Te(Os.In,"Escape",(e=>{e.jl.blur()}),[ks(Rs,Ts(Ms),Ts(Pp))],!0);const NE=()=>Tn(Zt,{children:Tn(cu,{Ce:Ex,St:Ur.Be,Nt:je("Copy SELECT statement")})}),LE=()=>{const e=Sd((e=>e.vl.Li.type));return Tn(Zt,{children:[Tn(cu,{Ce:()=>pg[Fe.ie].ya(pg[Fe.ie].gd.bd).catch($a),St:Ur.Ue,Nt:je("Open Editor")}),Tn(cu,{Ce:()=>pg[Fe.ie].ya(`DELETE FROM ${ye(kd().vl.Li.name??"table-name")} WHERE 0;`).catch($a),St:Ur.Ue,Nt:`${je("Open Editor")} › DELETE FROM…`}),Tn(cu,{Ce:()=>pg[Fe.ie].ya(`UPDATE ${ye(kd().vl.Li.name??"table-name")} SET ${ye(Tu(kd().vl.Li,0)??"column-name")} = 0 WHERE 0;`).catch($a),St:Ur.Ue,Nt:`${je("Open Editor")} › UPDATE…`}),Tn(cu,{Ce:()=>pg[Fe.ie].ya(`CREATE TABLE ${ye(kd().vl.Li.name??"table-name")} table_name(id INTEGER PRIMARY KEY);`).catch($a),St:Ur.Ue,Nt:`${je("Open Editor")} › CREATE TABLE…`}),Tn(cu,{Ce:()=>pg[Fe.ie].ya(`CREATE TRIGGER trigger1 INSERT ON ${ye(kd().vl.Li.name??"table-name")} BEGIN SELECT 1; END;`).catch($a),St:Ur.Ue,Nt:`${je("Open Editor")} › CREATE TRIGGER…`}),Ru(e)&&Tn(cu,{Ce:()=>pg[Fe.ie].ya(`CREATE INDEX index1 ON ${ye(kd().vl.Li.name??"table-name")} (${ye(Tu(kd().vl.Li,0)??"column-name")});`).catch($a),St:Ur.Ue,Nt:`${je("Open Editor")} › CREATE INDEX…`}),Tn(cu,{Ce:()=>pg[Fe.ie].ya(`INSERT INTO ${ye(kd().vl.Li.name??"table-name")} DEFAULT VALUES;`).catch($a),St:Ur.Ue,Nt:`${je("Open Editor")} › INSERT INTO…`})]})},OE=()=>{const e=Sd((e=>e.autoReload));return Tn(Zt,{children:Tn(cu,{Ce:async()=>{await yd.ta(!e)},St:Ur.$t,Nt:je(e?"Disable Auto Reloading":"Enable Auto Reloading")})})},AE=()=>{const e=Sd((e=>e.vl.Li)),t=Sd((e=>e.Cl)),n=Sd((e=>e.autoReload)),r=Sd.ma(),o=Sd((e=>e.Ol.spacing)),i=Sd((e=>e.Ol["experimental.displayQueryPlanButton"])),l=Sd((e=>{const{customQuery:t}=kd.Wl(e);return null!==t&&!Ix(t).Qf}));return Tn("div",{class:"px-2",children:Tn("div",{class:"py-1 flex",style:{paddingTop:.25*o+"rem",paddingBottom:.25*o+"rem"},children:[Tn("div",{class:"flex-1",children:[Tn("code",{class:"font-bold mr-2",children:[!l&&Tn(Zt,{children:[Tn(Kh,{_o:e=>iu(e,Tn(NE,{})),xo:e=>iu(e,Tn(NE,{})),children:"SELECT "}),"custom query"===r.type||"no table selected"===e.type||"broken schema"===e.type?Tn(Zt,{children:"*"}):Tn(G$,{baseClass:"span",content:je("Hide or unhide columns"),class:"min-h-[14px] px-2 pointer-outline border-b border-b-neutral-400 max-w-[30vw] inline-block overflow-hidden text-ellipsis whitespace-nowrap align-bottom column-list",onClick:()=>{zg.Pt().Jd()},onContextMenu:e=>iu(e,Tn(NE,{})),"data-testid":void 0,children:Gg(e,t)||Tn(Zt,{children:" "})}),Tn(Kh,{_o:e=>iu(e,Tn(NE,{})),xo:e=>iu(e,Tn(NE,{})),children:" FROM "})]}),Tn(Cx,{})]}),"custom query"!==r.type&&Tn(Hx,{}),"custom query"===r.type&&i&&Tn(Q$,{St:Tn(vr,{}),Eo:je("Display Query Plan"),Co:!1,Ce:()=>{rx.Pt().If(!0,!0)},xo:e=>iu(e,Tn(LE,{})),children:je("Query Plan")}),Tn(Q$,{$n:rs.$n,St:Ur.Ue,Eo:je("Open Query Editor"),Co:!1,Ce:()=>pg[Fe.ie].ya(pg[Fe.ie].gd.bd).catch($a),xo:e=>iu(e,Tn(LE,{})),children:je("Query Editor")}),Tn(Q$,{St:Ur.$t,Eo:je(n?"Auto Reload: Enabled":"Auto Reload: Disabled"),Co:n,Ce:()=>{yd.ta(!n).catch($a)},xo:e=>iu(e,Tn(OE,{})),children:je("Auto Reload")}),Tn(Lp,{$n:ns.$n}),Tn(cy,{}),Tn(ME,{})]}),Tn("div",{class:"[&>*]:block sm:[&>*]:inline-block [&>*]:text-right",children:Tn(G$,{baseClass:"span",class:"ml-2 pointer-outline",content:je("Open Documentation"),onClick:()=>{wa[0]("https://www.sqlite.org/docs.html").catch($a)},children:window.editorVariables[10].replace("sqlite","SQLite")})})]})})},DE=()=>{const e=Sd((e=>"broken schema"===e.vl.Li.type?je("Unable to retrieve data from {{- name }}:",{name:e.vl.Li.name})+"\n\n"+e.vl.Li.error:null));return Tn(Zt,{children:[Tn(Vx,{}),null!==e&&Tn("pre",{class:"text-error-fg bg-error-bg [padding:10px] whitespace-pre-wrap [font-size:inherit] overflow-auto h-28 select-text",children:e}),Tn(TE,{}),Tn("div",{class:"relative pr-[13px] flex-1 flex flex-col-no-overflow overflow-y-hidden",children:[Tn(Kw,{}),Tn(py,{}),Tn(dx,{})]}),Tn(Kg,{})]})},FE=()=>{const{Ol:{movePanelIfSpaceAllows:e,minimizePanel:t},Cl:n,vl:{Li:{columns:{length:r},name:o}},kl:{Bi:i}}=kd();if("bottom"===e||i===Fe.de&&t)return void yd.Ll("bottom");const{columnWidths:l}=kd();let a=0;a+=60;const s=1===r;for(const c of n.bi())a+=Sp(l,o,s,c);a+=20,yd.Ll(window.innerWidth-a>350?e:"bottom")},UE=({Qa:e})=>(console.log(window.getComputedStyle(e).getPropertyValue("cursor")),Tn(Zt,{children:[(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&Tn(cu,{Nt:je("Cut"),Vo:ws("CtrlCmd + KeyX"),Ce:async()=>{if(e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement){if(null===e.selectionStart||null===e.selectionEnd)return;await ga(e.value.substring(e.selectionStart,e.selectionEnd));const t=e.value;e.value=t.slice(0,e.selectionStart)+t.slice(e.selectionEnd),e.setSelectionRange(e.selectionStart,e.selectionStart)}}}),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||""!==(window.getSelection()?.toString()??"")||e!==document.body&&"none"!==window.getComputedStyle(e).getPropertyValue("user-select"))&&Tn(cu,{Nt:je("Copy"),Vo:ws("CtrlCmd + KeyC"),Ce:async()=>{const e=window.getSelection();e&&await ga(e.toString())}}),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&Tn(cu,{Nt:je("Paste"),Vo:ws("CtrlCmd + KeyV"),Ce:async()=>{document.execCommand("insertText",!1,await ya())}}),(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&Tn(cu,{Nt:je("Select All"),Vo:ws("CtrlCmd + KeyA"),Ce:()=>{e.select()}})]})),BE=new ke,zE=()=>{const e=Sd((e=>e.autoReload)),t=Sd((e=>e.Ll)),n=Lg((e=>e.Hu)),r=Lg((e=>e.Ks)),o=Lg((e=>e.Wd)),[i,l]=Ri(null),a=Sd((e=>{switch(e.kl.Bi){case Fe.le:return e.vl.Li.columns.some((e=>e.foreignKeys.length>0));case Fe.fe:{const{rc:t,P:n}=e.kl;return!t&&e.vl.Li.columns.some((e=>e.name===n&&e.foreignKeys.length>0))}default:return!1}})),s=Sd((e=>"no table selected"===e.vl.Li.type)),c=Sd((e=>e.ul.length>0)),$=Sd((e=>e.cl)),u=Sd((e=>e.kl.Bi===Fe.de));ea("mousedown",(()=>{wa[38]().catch($a)}),void 0,{once:!0,capture:!0}),ba(2,Fi((()=>{kd().autoReload&&BE.j({G:()=>{},j:async()=>{await Td(),await new Promise((e=>setTimeout(e,500)))}}).catch($a)}),[])),ba(7,Fi((async()=>{await yd.ta(!e)}),[e])),ba(6,Fi((async()=>{await pg[Fe.ie].ya(pg[Fe.ie].gd.bd)}),[])),ba(4,Fi((async(e,t)=>{null===e&&null===t?(gx.Pt().ou(),gx.Pt().Vf()):(null!==e&&await yd.Wl.xi({type:"table-like",name:e}).catch($a),null!==t&&await yd.Wl.al({Oi:BigInt(t)}))}),[])),ba(3,Fi((e=>{yd.Wl.xi({type:"custom query",customQuery:e}).catch($a)}),[])),ea("keydown",(async e=>{await(async(e,t)=>{try{const n=e.target,r=new vs(e),o=Ds.io().find((e=>e.co.Gt&&e.ao.length>0&&e.ao.some((e=>e===bs||r.dn(e)))));if(o)return console.log(`keybinding ${o.$n}`),gs.Dt({pn:{xh:r.hn(),Eh:o.$n}}),o.$o&&e.preventDefault(),void(await o.so(t));n===document.body&&(r.dn("ArrowUp")||r.dn("ArrowDown")||r.dn("ArrowLeft")||r.dn("ArrowRight"))&&e.preventDefault()}catch(HE){console.error(HE)}})(e,{jl:e.target})})),ea("resize",(()=>{FE()})),Li((()=>Id(((e,t)=>{e.Ol.movePanelIfSpaceAllows===t.Ol.movePanelIfSpaceAllows&&e.Ol.minimizePanel===t.Ol.minimizePanel&&e.kl.Bi===Fe.de==(t.kl.Bi===Fe.de)&&e.Cl===t.Cl&&e.vl.Li.columns.length===t.vl.Li.columns.length&&e.vl.Li.name===t.vl.Li.name||FE()}))),[]),Li((()=>Id(((e,t)=>{e.columnWidths!==t.columnWidths&&FE()}))),[]),ea("resize",(()=>{yd.Wl.al({Ui:Ju()}).catch($a)})),ea("contextmenu",(e=>{e.defaultPrevented||e.target instanceof Element&&iu(e,Tn(UE,{Qa:e.target}))}),{current:document.body});const d=()=>Tn("div",{class:"h-full flex-1 flex flex-col-no-overflow",children:Tn(DE,{})}),f=()=>Tn("div",{id:Ga.$n,class:"bg-[--neutral-100] overflow-y-auto pt-1 relative h-full flex flex-col-no-overflow",style:{width:r+"vw",minWidth:"300px"},ref:l,children:Tn(Ug,{})}),h=(e=!1)=>Tn("div",{id:Ga.$n,class:Dt("pt-2 bg-[--neutral-100] overflow-y-auto relative",e&&"flex-1"),style:u?{}:o?a?{maxHeight:"40vh",minHeight:"200px"}:{maxHeight:"40vh"}:{height:n+"vh"},ref:l,children:Tn(Ug,{})});let p;if(s&&!c)p=Tn("div",{class:"h-[100vh] flex flex-col-no-overflow",children:[Tn(AE,{}),Tn(Kg,{}),$===ud.Gi&&Tn("div",{id:ps.$n,class:"p-2 text-neutral-700",children:je('There are no tables in this database. Please create a table using the UI below or the "{{ queryEditor }}".',{queryEditor:je("Query Editor")})}),h(!0)]});else switch(t){case"bottom":p=Tn("div",{class:"h-[100vh] flex flex-col-no-overflow",children:[Tn(AE,{}),Tn(DE,{}),!u&&Tn(Ag,{Qd:i}),h()]});break;case"left":p=Tn("div",{class:"flex flex-col-no-overflow h-[100vh]",children:[Tn(AE,{}),Tn("div",{class:"flex-1 flex flex-row-no-overflow",children:[f(),Tn(Dg,{Qd:i,Kd:!0}),d()]})]});break;case"right":p=Tn("div",{class:"flex flex-col-no-overflow h-[100vh]",children:[Tn(AE,{}),Tn("div",{class:"flex-1 flex flex-row-no-overflow",children:[d(),Tn(Dg,{Qd:i}),f()]})]});break;default:throw new Error("error")}return Tn(Zt,{children:[Tn(fy,{}),Tn(Wg,{}),Tn(my,{}),p,Tn(im,{}),Tn(nw,{}),Tn($b,{}),Tn(jg,{}),Tn(cE,{}),Tn(ax,{}),Tn(ou,{}),Tn(bE,{}),Tn(Hh,{}),Tn(Mb,{}),rw,window.editorVariables[4]&&Tn("div",{class:"fixed right-4 shadow-lg px-4 py-1 bg-primary hover:bg-primary-hover cursor-pointer text-fg-primary bottom-4 z-[--z-compare-with-local]",onClick:()=>wa[21](),children:[Tn(Br,{St:Ur.Xe,Ee:"mr-3 [transform:translateY(-1px)_scale(125%)]"}),Tn("span",{children:je("Compare with Local File")})]}),!1,Tn(ay,{}),Tn(Xg,{}),Tn(IE,{}),Tn(Gw,{}),Tn("div",{id:us.$n,class:"font-normal text-center hidden absolute z-[--z-th-drag-ghost]"}),Tn("div",{id:$s.$n,class:"bg-primary-1 opacity-50 w-1 hidden absolute z-[--z-th-drag-marker]"}),Tn("div",{id:Xa.$n,class:"absolute z-[--z-header-resize-background] hidden",children:Tn("div",{id:Za.$n,class:"w-full bg-sky-500 bg-opacity-30"})}),Tn(Tp,{})]})},PE=e=>{console.error(e);const t=ee(e),n=t.includes('near "STRICT": syntax error')?"strict":t.includes('near "GENERATED": syntax error')?"generated":"other",{Qt:r}=RE(t),o=[...ca.Pt().qt].join("\n");yn(Tn("div",{class:"font-serif text-base select-text absolute left-0 right-0 m-auto w-max max-w-full p-4",children:["strict"===n&&Tn("p",{children:je("SQLite <3.37.0 does not support STRICT tables.")}),"generated"===n&&Tn("p",{children:je("SQLite <3.31.0 does not support GENERATED columns.")}),Tn("pre",{children:t}),void 0!==r&&r&&Tn("pre",{class:"my-1 mr-3 bg-black bg-opacity-5 p-2",children:["Help: ",r]}),!t.trim().includes(o.trim())&&Tn("pre",{children:o})]}),document.body)};(async()=>{let e,t;try{if(window.hasScriptLoaded=!0,window.open=e=>(void 0!==e&&wa[0](e.toString()).catch($a),null),t=window.editorVariables[9],la||(void 0===t.tableName&&new URLSearchParams(location.search).has("tableName")&&(t.tableName=new URLSearchParams(location.search).get("tableName")??void 0),void 0===t.columnFilters&&new URLSearchParams(location.search).has("columnFilters")&&(t.columnFilters=new URLSearchParams(location.search).get("columnFilters")??void 0)),yd.ul(await wa[34]()),t.isComparePane)yd.cl(ud.Qi);else switch(window.editorVariables[8]){case"compare":yd.cl(ud.Qi);break;case"readonly filesystem":yd.cl(ud.qi);break;case"unsafe to write":yd.cl(ud.Wi);break;case"writable":yd.cl(ud.Gi)}if(yd.sa(),"string"==typeof t.columnFilters){const e=JSON.parse(t.columnFilters);if(Array.isArray(e))for(const t of e){if("object"!=typeof t||null===t||!("column"in t)||!("sql"in t))continue;const{column:e,sql:n}=t;if("string"!=typeof e||"string"!=typeof n)continue;const r={column:e,sql:n};await yd.Wl.Xl(r.column,{Gt:r.sql,Ri:!0},!0)}}const n=new Set(kd().ul.map((e=>e.name)));e="string"==typeof t.tableName&&n.has(t.tableName)?t.tableName:"string"==typeof window.editorVariables[11]&&n.has(window.editorVariables[11])?window.editorVariables[11]:[...kd().ul].sort(((e,t)=>{const n=vd(e.type)-vd(t.type);return 0!==n?n:e.name.localeCompare(t.name)}))[0]?.name}catch(HE){return void PE(HE)}try{void 0!==t.query?await yd.Wl.xi({type:"custom query",name:e,customQuery:t.query}):void 0!==e?await yd.Wl.xi({name:e}):_a({type:"no table selected"}).catch($a)}catch(HE){console.error(HE)}oa('<svg xmlns="http://www.w3.org/2000/svg" class="inline-block mr-1 text-[--icon-stroke]" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-width="1.5" d="M3 9.4V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6v5.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6Zm11 11v-5.8a.6.6 0 0 1 .6-.6h5.8a.6.6 0 0 1 .6.6v5.8a.6.6 0 0 1-.6.6h-5.8a.6.6 0 0 1-.6-.6Zm-11 0v-5.8a.6.6 0 0 1 .6-.6h5.8a.6.6 0 0 1 .6.6v5.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6Z"/></svg>',je("Building the interface..."));try{FE(),Ip.Pt().Zc(null),yn(Tn(zE,{}),document.body),document.body.style.background="",await wa[13](),ha.Dt({ln:!0})}catch(HE){PE(HE)}(async()=>{for(;Ca.length>0;){const e=Ca.shift();try{await e()}catch(HE){$a(HE)}}Ea=!0})().catch($a),null===$y.Pt().af&&fa(26,{nn:!0})().then((e=>$y.Dt({af:e}))).catch($a),(()=>{const e=()=>{const t=$d();t!==_d().Dl&&wd({Dl:t}),requestAnimationFrame(e)};e()})(),(()=>{const e=()=>{aa.length>0&&Date.now()-aa[0].start>1e3?document.body.classList.add("querying"):document.body.classList.remove("querying"),requestAnimationFrame(e)};e()})(),console.timeEnd("load")})().catch($a);export{ze as _,re as a,Dl as c,ne as e,Fl as g,te as k};
